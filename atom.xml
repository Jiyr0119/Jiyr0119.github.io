<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Jonathon&#39;s Blog</title>
  
  <subtitle>To be a better man</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.jonathon.cn/"/>
  <updated>2018-08-30T12:28:31.972Z</updated>
  <id>https://www.jonathon.cn/</id>
  
  <author>
    <name>Jonathon</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>è®¤è¯†Vuex</title>
    <link href="https://www.jonathon.cn/vuex.html"/>
    <id>https://www.jonathon.cn/vuex.html</id>
    <published>2018-08-28T12:59:09.192Z</published>
    <updated>2018-08-30T12:28:31.972Z</updated>
    
    <content type="html"><![CDATA[<h2 id="VueX"><a href="#VueX" class="headerlink" title="VueX"></a>VueX</h2><p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚</p><h2 id="å¼•å…¥Vuexï¼ˆç”¨Vue-cliæˆ–è€…å…¶ä»–æ¶å·¥å…·æ„å»ºå¥½é¡¹ç›®ï¼‰"><a href="#å¼•å…¥Vuexï¼ˆç”¨Vue-cliæˆ–è€…å…¶ä»–æ¶å·¥å…·æ„å»ºå¥½é¡¹ç›®ï¼‰" class="headerlink" title="å¼•å…¥Vuexï¼ˆç”¨Vue cliæˆ–è€…å…¶ä»–æ¶å·¥å…·æ„å»ºå¥½é¡¹ç›®ï¼‰"></a>å¼•å…¥Vuexï¼ˆç”¨Vue cliæˆ–è€…å…¶ä»–æ¶å·¥å…·æ„å»ºå¥½é¡¹ç›®ï¼‰</h2><h3 id="åˆ©ç”¨npmåŒ…ç®¡ç†å·¥å…·ï¼Œè¿›è¡Œå®‰è£…-vuexã€‚åœ¨æ§åˆ¶å‘½ä»¤è¡Œä¸­è¾“å…¥ä¸‹è¾¹çš„å‘½ä»¤å°±å¯ä»¥äº†"><a href="#åˆ©ç”¨npmåŒ…ç®¡ç†å·¥å…·ï¼Œè¿›è¡Œå®‰è£…-vuexã€‚åœ¨æ§åˆ¶å‘½ä»¤è¡Œä¸­è¾“å…¥ä¸‹è¾¹çš„å‘½ä»¤å°±å¯ä»¥äº†" class="headerlink" title="åˆ©ç”¨npmåŒ…ç®¡ç†å·¥å…·ï¼Œè¿›è¡Œå®‰è£… vuexã€‚åœ¨æ§åˆ¶å‘½ä»¤è¡Œä¸­è¾“å…¥ä¸‹è¾¹çš„å‘½ä»¤å°±å¯ä»¥äº†"></a>åˆ©ç”¨npmåŒ…ç®¡ç†å·¥å…·ï¼Œè¿›è¡Œå®‰è£… vuexã€‚åœ¨æ§åˆ¶å‘½ä»¤è¡Œä¸­è¾“å…¥ä¸‹è¾¹çš„å‘½ä»¤å°±å¯ä»¥äº†</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex --save</span><br></pre></td></tr></table></figure><h3 id="æ–°å»ºä¸€ä¸ªstoreæ–‡ä»¶å¤¹ï¼ˆè¿™ä¸ªä¸æ˜¯å¿…é¡»çš„ï¼‰ï¼Œå¹¶åœ¨æ–‡ä»¶å¤¹ä¸‹æ–°å»ºstore-jsæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­å¼•å…¥æˆ‘ä»¬çš„vueå’Œvuexã€‚"><a href="#æ–°å»ºä¸€ä¸ªstoreæ–‡ä»¶å¤¹ï¼ˆè¿™ä¸ªä¸æ˜¯å¿…é¡»çš„ï¼‰ï¼Œå¹¶åœ¨æ–‡ä»¶å¤¹ä¸‹æ–°å»ºstore-jsæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­å¼•å…¥æˆ‘ä»¬çš„vueå’Œvuexã€‚" class="headerlink" title="æ–°å»ºä¸€ä¸ªstoreæ–‡ä»¶å¤¹ï¼ˆè¿™ä¸ªä¸æ˜¯å¿…é¡»çš„ï¼‰ï¼Œå¹¶åœ¨æ–‡ä»¶å¤¹ä¸‹æ–°å»ºstore.jsæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­å¼•å…¥æˆ‘ä»¬çš„vueå’Œvuexã€‚"></a>æ–°å»ºä¸€ä¸ªstoreæ–‡ä»¶å¤¹ï¼ˆè¿™ä¸ªä¸æ˜¯å¿…é¡»çš„ï¼‰ï¼Œå¹¶åœ¨æ–‡ä»¶å¤¹ä¸‹æ–°å»ºstore.jsæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­å¼•å…¥æˆ‘ä»¬çš„vueå’Œvuexã€‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>; </span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span>;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨æˆ‘ä»¬vuexï¼Œå¼•å…¥ä¹‹åç”¨Vue-useè¿›è¡Œå¼•ç”¨ã€‚"><a href="#ä½¿ç”¨æˆ‘ä»¬vuexï¼Œå¼•å…¥ä¹‹åç”¨Vue-useè¿›è¡Œå¼•ç”¨ã€‚" class="headerlink" title="ä½¿ç”¨æˆ‘ä»¬vuexï¼Œå¼•å…¥ä¹‹åç”¨Vue.useè¿›è¡Œå¼•ç”¨ã€‚"></a>ä½¿ç”¨æˆ‘ä»¬vuexï¼Œå¼•å…¥ä¹‹åç”¨Vue.useè¿›è¡Œå¼•ç”¨ã€‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.use(Vuex);</span><br></pre></td></tr></table></figure><h3 id="åœ¨main-js-ä¸­å¼•å…¥æ–°å»ºçš„vuexæ–‡ä»¶"><a href="#åœ¨main-js-ä¸­å¼•å…¥æ–°å»ºçš„vuexæ–‡ä»¶" class="headerlink" title="åœ¨main.js ä¸­å¼•å…¥æ–°å»ºçš„vuexæ–‡ä»¶"></a>åœ¨main.js ä¸­å¼•å…¥æ–°å»ºçš„vuexæ–‡ä»¶</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> storeConfig <span class="keyword">from</span> <span class="string">'./vuex/store'</span></span><br></pre></td></tr></table></figure><h3 id="å†ç„¶å-åœ¨å®ä¾‹åŒ–-Vueå¯¹è±¡æ—¶åŠ å…¥-store-å¯¹è±¡"><a href="#å†ç„¶å-åœ¨å®ä¾‹åŒ–-Vueå¯¹è±¡æ—¶åŠ å…¥-store-å¯¹è±¡" class="headerlink" title="å†ç„¶å , åœ¨å®ä¾‹åŒ– Vueå¯¹è±¡æ—¶åŠ å…¥ store å¯¹è±¡ :"></a>å†ç„¶å , åœ¨å®ä¾‹åŒ– Vueå¯¹è±¡æ—¶åŠ å…¥ store å¯¹è±¡ :</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123; <span class="attr">el</span>: <span class="string">'#app'</span>,</span><br><span class="line">    router,</span><br><span class="line">    store,<span class="comment">//ä½¿ç”¨store</span></span><br><span class="line">    template: <span class="string">'&lt;App/&gt;'</span>, <span class="attr">components</span>: &#123; App &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="ç‰›åˆ€å°è¯•çš„Demo"><a href="#ç‰›åˆ€å°è¯•çš„Demo" class="headerlink" title="ç‰›åˆ€å°è¯•çš„Demo"></a>ç‰›åˆ€å°è¯•çš„Demo</h2><h3 id="ç°åœ¨æˆ‘ä»¬store-jsæ–‡ä»¶é‡Œå¢åŠ ä¸€ä¸ªå¸¸é‡å¯¹è±¡ã€‚store-jsæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬åœ¨å¼•å…¥vuexæ—¶çš„é‚£ä¸ªæ–‡ä»¶ã€‚"><a href="#ç°åœ¨æˆ‘ä»¬store-jsæ–‡ä»¶é‡Œå¢åŠ ä¸€ä¸ªå¸¸é‡å¯¹è±¡ã€‚store-jsæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬åœ¨å¼•å…¥vuexæ—¶çš„é‚£ä¸ªæ–‡ä»¶ã€‚" class="headerlink" title="ç°åœ¨æˆ‘ä»¬store.jsæ–‡ä»¶é‡Œå¢åŠ ä¸€ä¸ªå¸¸é‡å¯¹è±¡ã€‚store.jsæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬åœ¨å¼•å…¥vuexæ—¶çš„é‚£ä¸ªæ–‡ä»¶ã€‚"></a>ç°åœ¨æˆ‘ä»¬store.jsæ–‡ä»¶é‡Œå¢åŠ ä¸€ä¸ªå¸¸é‡å¯¹è±¡ã€‚store.jsæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬åœ¨å¼•å…¥vuexæ—¶çš„é‚£ä¸ªæ–‡ä»¶ã€‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> state = &#123;<span class="attr">count</span>:<span class="number">1</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="ç”¨export-default-å°è£…ä»£ç ï¼Œè®©å¤–éƒ¨å¯ä»¥å¼•ç”¨"><a href="#ç”¨export-default-å°è£…ä»£ç ï¼Œè®©å¤–éƒ¨å¯ä»¥å¼•ç”¨" class="headerlink" title="ç”¨export default å°è£…ä»£ç ï¼Œè®©å¤–éƒ¨å¯ä»¥å¼•ç”¨"></a>ç”¨export default å°è£…ä»£ç ï¼Œè®©å¤–éƒ¨å¯ä»¥å¼•ç”¨</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;state&#125;);</span><br></pre></td></tr></table></figure><h3 id="æ–°å»ºä¸€ä¸ªvueçš„æ¨¡æ¿ï¼Œä½ç½®åœ¨componentsæ–‡ä»¶å¤¹ä¸‹ï¼Œåå­—å«count-vueã€‚åœ¨æ¨¡æ¿ä¸­æˆ‘ä»¬å¼•å…¥æˆ‘ä»¬åˆšå»ºçš„store-jsæ–‡ä»¶ï¼Œå¹¶åœ¨æ¨¡æ¿ä¸­ç”¨è¾“å‡ºcount-çš„å€¼ã€‚"><a href="#æ–°å»ºä¸€ä¸ªvueçš„æ¨¡æ¿ï¼Œä½ç½®åœ¨componentsæ–‡ä»¶å¤¹ä¸‹ï¼Œåå­—å«count-vueã€‚åœ¨æ¨¡æ¿ä¸­æˆ‘ä»¬å¼•å…¥æˆ‘ä»¬åˆšå»ºçš„store-jsæ–‡ä»¶ï¼Œå¹¶åœ¨æ¨¡æ¿ä¸­ç”¨è¾“å‡ºcount-çš„å€¼ã€‚" class="headerlink" title="æ–°å»ºä¸€ä¸ªvueçš„æ¨¡æ¿ï¼Œä½ç½®åœ¨componentsæ–‡ä»¶å¤¹ä¸‹ï¼Œåå­—å«count.vueã€‚åœ¨æ¨¡æ¿ä¸­æˆ‘ä»¬å¼•å…¥æˆ‘ä»¬åˆšå»ºçš„store.jsæ–‡ä»¶ï¼Œå¹¶åœ¨æ¨¡æ¿ä¸­ç”¨è¾“å‡ºcount çš„å€¼ã€‚"></a>æ–°å»ºä¸€ä¸ªvueçš„æ¨¡æ¿ï¼Œä½ç½®åœ¨componentsæ–‡ä»¶å¤¹ä¸‹ï¼Œåå­—å«count.vueã€‚åœ¨æ¨¡æ¿ä¸­æˆ‘ä»¬å¼•å…¥æˆ‘ä»¬åˆšå»ºçš„store.jsæ–‡ä»¶ï¼Œå¹¶åœ¨æ¨¡æ¿ä¸­ç”¨è¾“å‡ºcount çš„å€¼ã€‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    &lt;template&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;h2&gt;&#123;&#123;msg&#125;&#125;&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">            &lt;hr/</span>&gt;</span><br><span class="line">            &lt;h3&gt;&#123;&#123;$store.state.count&#125;&#125;&lt;<span class="regexp">/h3&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">    &lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">import store from '@/</span>vuex/store<span class="string">'</span></span><br><span class="line"><span class="string">export default&#123;</span></span><br><span class="line"><span class="string">    data()&#123; return&#123; msg:'</span>Hello Vuex<span class="string">',&#125;&#125;,</span></span><br><span class="line"><span class="string">        store</span></span><br><span class="line"><span class="string">    &#125; </span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h3 id="åœ¨store-jsæ–‡ä»¶ä¸­åŠ å…¥ä¸¤ä¸ªæ”¹å˜stateçš„æ–¹æ³•ã€‚"><a href="#åœ¨store-jsæ–‡ä»¶ä¸­åŠ å…¥ä¸¤ä¸ªæ”¹å˜stateçš„æ–¹æ³•ã€‚" class="headerlink" title="åœ¨store.jsæ–‡ä»¶ä¸­åŠ å…¥ä¸¤ä¸ªæ”¹å˜stateçš„æ–¹æ³•ã€‚"></a>åœ¨store.jsæ–‡ä»¶ä¸­åŠ å…¥ä¸¤ä¸ªæ”¹å˜stateçš„æ–¹æ³•ã€‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mutations=&#123;</span><br><span class="line"> add(state)&#123; state.count+=<span class="number">1</span>;</span><br><span class="line">    &#125;,</span><br><span class="line"> reduce(state)&#123; state.count-=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„mutationsæ˜¯å›ºå®šçš„å†™æ³•ï¼ŒçŸ¥é“è¦æ”¹å˜stateçš„æ•°å€¼çš„æ–¹æ³•ï¼Œå¿…é¡»å†™åœ¨mutationsé‡Œå°±å¯ä»¥äº†ã€‚</p><h3 id="åœ¨count-vueæ¨¡æ¿ä¸­åŠ å…¥ä¸¤ä¸ªæŒ‰é’®ï¼Œå¹¶è°ƒç”¨mutationsä¸­çš„æ–¹æ³•ã€‚"><a href="#åœ¨count-vueæ¨¡æ¿ä¸­åŠ å…¥ä¸¤ä¸ªæŒ‰é’®ï¼Œå¹¶è°ƒç”¨mutationsä¸­çš„æ–¹æ³•ã€‚" class="headerlink" title="åœ¨count.vueæ¨¡æ¿ä¸­åŠ å…¥ä¸¤ä¸ªæŒ‰é’®ï¼Œå¹¶è°ƒç”¨mutationsä¸­çš„æ–¹æ³•ã€‚"></a>åœ¨count.vueæ¨¡æ¿ä¸­åŠ å…¥ä¸¤ä¸ªæŒ‰é’®ï¼Œå¹¶è°ƒç”¨mutationsä¸­çš„æ–¹æ³•ã€‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;button @click=<span class="string">"$store.commit('add')"</span>&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;button @click=<span class="string">"$store.commit('reduce')"</span>&gt;-&lt;/button&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure><p>å­¦ä¹ çŠ¶æ€å¯¹è±¡èµ‹å€¼ç»™å†…éƒ¨å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æŠŠstroe.jsä¸­çš„å€¼ï¼Œèµ‹å€¼ç»™æˆ‘ä»¬æ¨¡æ¿é‡Œdataä¸­çš„å€¼ã€‚æœ‰ä¸‰ç§èµ‹å€¼æ–¹å¼</p><h2 id="é€šè¿‡computedçš„è®¡ç®—å±æ€§ç›´æ¥èµ‹å€¼"><a href="#é€šè¿‡computedçš„è®¡ç®—å±æ€§ç›´æ¥èµ‹å€¼" class="headerlink" title="é€šè¿‡computedçš„è®¡ç®—å±æ€§ç›´æ¥èµ‹å€¼"></a>é€šè¿‡computedçš„è®¡ç®—å±æ€§ç›´æ¥èµ‹å€¼</h2><p>computedå±æ€§å¯ä»¥åœ¨è¾“å‡ºå‰ï¼Œå¯¹dataä¸­çš„å€¼è¿›è¡Œæ”¹å˜ï¼Œæˆ‘ä»¬å°±åˆ©ç”¨è¿™ç§ç‰¹æ€§æŠŠstore.jsä¸­çš„stateå€¼èµ‹å€¼ç»™æˆ‘ä»¬æ¨¡æ¿ä¸­çš„dataå€¼ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123; </span><br><span class="line">    count()&#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.$store.state.count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯return this.$store.state.countè¿™ä¸€å¥ï¼Œä¸€å®šè¦å†™thisï¼Œè¦ä¸ä½ ä¼šæ‰¾ä¸åˆ°$storeçš„ã€‚è¿™ç§å†™æ³•å¾ˆå¥½ç†è§£ï¼Œä½†æ˜¯å†™èµ·æ¥æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œé‚£æˆ‘ä»¬æ¥çœ‹çœ‹ç¬¬äºŒç§å†™æ³•ã€‚</p><h2 id="é€šè¿‡mapStateçš„å¯¹è±¡æ¥èµ‹å€¼"><a href="#é€šè¿‡mapStateçš„å¯¹è±¡æ¥èµ‹å€¼" class="headerlink" title="é€šè¿‡mapStateçš„å¯¹è±¡æ¥èµ‹å€¼"></a>é€šè¿‡mapStateçš„å¯¹è±¡æ¥èµ‹å€¼</h2><p>æˆ‘ä»¬é¦–å…ˆè¦ç”¨importå¼•å…¥mapStateã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;mapState&#125; <span class="keyword">from</span> <span class="string">'vuex'</span>;</span><br></pre></td></tr></table></figure></p><p>ç„¶åè¿˜åœ¨computedè®¡ç®—å±æ€§é‡Œå†™å¦‚ä¸‹ä»£ç ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">computed:mapState(&#123; </span><br><span class="line">    count:<span class="function"><span class="params">state</span>=&gt;</span>state.count <span class="comment">//ç†è§£ä¸ºä¼ å…¥stateå¯¹è±¡ï¼Œä¿®æ”¹state.countå±æ€§ </span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ES6çš„ç®­å¤´å‡½æ•°æ¥ç»™countèµ‹å€¼ã€‚</p><h2 id="é€šè¿‡mapStateçš„æ•°ç»„æ¥èµ‹å€¼"><a href="#é€šè¿‡mapStateçš„æ•°ç»„æ¥èµ‹å€¼" class="headerlink" title="é€šè¿‡mapStateçš„æ•°ç»„æ¥èµ‹å€¼"></a>é€šè¿‡mapStateçš„æ•°ç»„æ¥èµ‹å€¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">computed:mapState([<span class="string">"count"</span>])</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç®—æ˜¯æœ€ç®€å•çš„å†™æ³•äº†ï¼Œåœ¨å®é™…é¡¹ç›®å¼€å‘å½“ä¸­ä¹Ÿç»å¸¸è¿™æ ·ä½¿ç”¨ã€‚</p><p>Mutationsä¿®æ”¹çŠ¶æ€ï¼ˆ$store.commit( )ï¼‰</p><p>Vuexæä¾›äº†commitæ–¹æ³•æ¥ä¿®æ”¹çŠ¶æ€ï¼Œæˆ‘ä»¬ç²˜è´´å‡ºDemoç¤ºä¾‹ä»£ç å†…å®¹ï¼Œç®€å•å›é¡¾ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨buttonä¸Šçš„ä¿®æ”¹æ–¹æ³•ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click=<span class="string">"$store.commit('add')"</span>&gt;+&lt;/button&gt;</span><br><span class="line">&lt;button @click=<span class="string">"$store.commit('reduce')"</span>&gt;-&lt;/button&gt;</span><br></pre></td></tr></table></figure></p><p>store.jsæ–‡ä»¶ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mutations=&#123;</span><br><span class="line">    add(state)&#123; state.count+=<span class="number">1</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    reduce(state)&#123; state.count-=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¼ å€¼ï¼šè¿™åªæ˜¯ä¸€ä¸ªæœ€ç®€å•çš„ä¿®æ”¹çŠ¶æ€çš„æ“ä½œï¼Œåœ¨å®é™…é¡¹ç›®ä¸­æˆ‘ä»¬å¸¸å¸¸éœ€è¦åœ¨ä¿®æ”¹çŠ¶æ€æ—¶ä¼ å€¼ã€‚æ¯”å¦‚ä¸Šè¾¹çš„ä¾‹å­ï¼Œæ˜¯æˆ‘ä»¬æ¯æ¬¡åªåŠ 1ï¼Œè€Œç°åœ¨æˆ‘ä»¬è¦é€šè¿‡æ‰€ä¼ çš„å€¼è¿›è¡Œç›¸åŠ ã€‚å…¶å®æˆ‘ä»¬åªéœ€è¦åœ¨Mutationsé‡Œå†åŠ ä¸Šä¸€ä¸ªå‚æ•°ï¼Œå¹¶åœ¨commitçš„æ—¶å€™ä¼ é€’å°±å°±å¯ä»¥äº†ã€‚æˆ‘ä»¬æ¥çœ‹å…·ä½“ä»£ç ï¼š</p><p>ç°åœ¨store.jsæ–‡ä»¶é‡Œç»™addæ–¹æ³•åŠ ä¸Šä¸€ä¸ªå‚æ•°nã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mutations=&#123;</span><br><span class="line">    add(state,n)&#123; state.count+=n;</span><br><span class="line">    &#125;,</span><br><span class="line">    reduce(state)&#123; state.count-=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åœ¨Count.vueé‡Œä¿®æ”¹æŒ‰é’®çš„commit( )æ–¹æ³•ä¼ é€’çš„å‚æ•°ï¼Œæˆ‘ä»¬ä¼ é€’10ï¼Œæ„æ€å°±æ˜¯æ¯æ¬¡åŠ 10.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;</span><br><span class="line">    &lt;button @click=<span class="string">"$store.commit('add',10)"</span>&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;button @click=<span class="string">"$store.commit('reduce')"</span>&gt;-&lt;/button&gt;</span><br><span class="line">&lt;<span class="regexp">/p&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="æ¨¡æ¿è·å–Mutationsæ–¹æ³•"><a href="#æ¨¡æ¿è·å–Mutationsæ–¹æ³•" class="headerlink" title="æ¨¡æ¿è·å–Mutationsæ–¹æ³•"></a>æ¨¡æ¿è·å–Mutationsæ–¹æ³•</h2><p>å®é™…å¼€å‘ä¸­æˆ‘ä»¬ä¹Ÿä¸å–œæ¬¢çœ‹åˆ°$store.commit( )è¿™æ ·çš„æ–¹æ³•å‡ºç°ï¼Œæˆ‘ä»¬å¸Œæœ›è·Ÿè°ƒç”¨æ¨¡æ¿é‡Œçš„æ–¹æ³•ä¸€æ ·è°ƒç”¨ã€‚</p><p>ä¾‹å¦‚ï¼š@click=â€reduceâ€ å°±å’Œæ²¡å¼•ç”¨vuexæ’ä»¶ä¸€æ ·ã€‚è¦è¾¾åˆ°è¿™ç§å†™æ³•ï¼Œåªéœ€è¦ç®€å•çš„ä¸¤éƒ¨å°±å¯ä»¥äº†ï¼š</p><p>1ã€åœ¨æ¨¡æ¿count.vueé‡Œç”¨import å¼•å…¥æˆ‘ä»¬çš„mapMutationsï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapState,mapMutations &#125; <span class="keyword">from</span> <span class="string">'vuex'</span>;</span><br></pre></td></tr></table></figure></p><p>2ã€åœ¨æ¨¡æ¿çš„jsæ ‡ç­¾é‡Œæ·»åŠ methodså±æ€§ï¼Œå¹¶åŠ å…¥mapMutations<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">methods:mapMutations([ <span class="string">'add'</span>,<span class="string">'reduce'</span></span><br><span class="line">]),</span><br></pre></td></tr></table></figure></p><p>é€šè¿‡ä¸Šè¾¹ä¸¤éƒ¨ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥åœ¨æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨æˆ‘ä»¬çš„reduceæˆ–è€…addæ–¹æ³•äº†ï¼Œå°±åƒä¸‹é¢è¿™æ ·ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click=<span class="string">"reduce"</span>&gt;-&lt;/button&gt;</span><br></pre></td></tr></table></figure></p><h2 id="gettersè®¡ç®—è¿‡æ»¤æ“ä½œ"><a href="#gettersè®¡ç®—è¿‡æ»¤æ“ä½œ" class="headerlink" title="gettersè®¡ç®—è¿‡æ»¤æ“ä½œ"></a>gettersè®¡ç®—è¿‡æ»¤æ“ä½œ</h2><p>gettersä»è¡¨é¢æ˜¯è·å¾—çš„æ„æ€ï¼Œå¯ä»¥æŠŠä»–çœ‹ä½œåœ¨è·å–æ•°æ®ä¹‹å‰è¿›è¡Œçš„ä¸€ç§å†ç¼–è¾‘,ç›¸å½“äºå¯¹æ•°æ®çš„ä¸€ä¸ªè¿‡æ»¤å’ŒåŠ å·¥ã€‚ä½ å¯ä»¥æŠŠå®ƒçœ‹ä½œstore.jsçš„è®¡ç®—å±æ€§ã€‚</p><p>gettersåŸºæœ¬ç”¨æ³•ï¼š</p><p>æ¯”å¦‚æˆ‘ä»¬ç°åœ¨è¦å¯¹store.jsæ–‡ä»¶ä¸­çš„countè¿›è¡Œä¸€ä¸ªè®¡ç®—å±æ€§çš„æ“ä½œï¼Œå°±æ˜¯åœ¨å®ƒè¾“å‡ºå‰ï¼Œç»™å®ƒåŠ ä¸Š100.æˆ‘ä»¬é¦–å…ˆè¦åœ¨store.jsé‡Œç”¨constå£°æ˜æˆ‘ä»¬çš„getterså±æ€§ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">    count:<span class="function"><span class="keyword">function</span>(<span class="params">state</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> state.count +=<span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å†™å¥½äº†getttersä¹‹åï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨Vuex.Store()é‡Œå¼•å…¥ï¼Œç”±äºä¹‹å‰æˆ‘ä»¬å·²ç»å¼•å…¥äº†stateå’Œmutationsï¼Œæ‰€ä»¥å¼•å…¥é‡Œæœ‰ä¸‰ä¸ªå¼•å…¥å±æ€§ã€‚ä»£ç å¦‚ä¸‹ï¼Œ<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123; </span><br><span class="line">    state,</span><br><span class="line">    mutations,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>åœ¨store.jsé‡Œçš„é…ç½®ç®—æ˜¯å®Œæˆäº†ï¼Œæˆ‘ä»¬éœ€è¦åˆ°æ¨¡æ¿é¡µå¯¹computedè¿›è¡Œé…ç½®ã€‚åœ¨vue çš„æ„é€ å™¨é‡Œè¾¹åªèƒ½æœ‰ä¸€ä¸ªcomputedå±æ€§ï¼Œå¦‚æœä½ å†™å¤šä¸ªï¼Œåªæœ‰æœ€åä¸€ä¸ªcomputedå±æ€§å¯ç”¨ï¼Œæ‰€ä»¥è¦å¯¹ä¸Šæ¬¡å†™çš„computedå±æ€§è¿›è¡Œä¸€ä¸ªæ”¹é€ ã€‚æ”¹é€ æ—¶æˆ‘ä»¬ä½¿ç”¨ES6ä¸­çš„å±•å¼€è¿ç®—ç¬¦â€â€¦â€ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123;</span><br><span class="line">    ...mapState([<span class="string">"count"</span>]), </span><br><span class="line">    count()&#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.$store.getters.count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ å†™äº†è¿™ä¸ªé…ç½®åï¼Œåœ¨æ¯æ¬¡count çš„å€¼å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œéƒ½ä¼šè¿›è¡ŒåŠ 100çš„æ“ä½œã€‚</p><h2 id="actionså¼‚æ­¥ä¿®æ”¹çŠ¶æ€"><a href="#actionså¼‚æ­¥ä¿®æ”¹çŠ¶æ€" class="headerlink" title="actionså¼‚æ­¥ä¿®æ”¹çŠ¶æ€"></a>actionså¼‚æ­¥ä¿®æ”¹çŠ¶æ€</h2><p>actionså’Œä¹‹å‰è®²çš„MutationsåŠŸèƒ½åŸºæœ¬ä¸€æ ·ï¼Œä¸åŒç‚¹æ˜¯ï¼Œactionsæ˜¯å¼‚æ­¥çš„æ”¹å˜stateçŠ¶æ€ï¼Œè€ŒMutationsæ˜¯åŒæ­¥æ”¹å˜çŠ¶æ€ã€‚è‡³äºä»€ä¹ˆæ˜¯å¼‚æ­¥ä»€ä¹ˆæ˜¯åŒæ­¥è¿™é‡Œæˆ‘å°±ä¸åšå¤ªå¤šè§£é‡Šäº†ï¼Œå¦‚æœä½ ä¸æ‡‚è‡ªå·±å»è°·æ­Œä¸€ä¸‹å§ã€‚</p><h3 id="åœ¨store-jsä¸­å£°æ˜actions"><a href="#åœ¨store-jsä¸­å£°æ˜actions" class="headerlink" title="åœ¨store.jsä¸­å£°æ˜actions"></a>åœ¨store.jsä¸­å£°æ˜actions</h3><p>actionsæ˜¯å¯ä»¥è°ƒç”¨Mutationsé‡Œçš„æ–¹æ³•çš„ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç»§ç»­åœ¨ä¸ŠèŠ‚è¯¾çš„ä»£ç åŸºç¡€ä¸Šè¿›è¡Œå­¦ä¹ ï¼Œåœ¨actionsé‡Œè°ƒç”¨addå’Œreduceä¸¤ä¸ªæ–¹æ³•ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actions =&#123;</span><br><span class="line">    addAction(context)&#123;</span><br><span class="line">        context.commit(<span class="string">'add'</span>,<span class="number">10</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    reduceAction(&#123;commit&#125;)&#123; </span><br><span class="line">        commit(<span class="string">'reduce'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åœ¨actionsé‡Œå†™äº†ä¸¤ä¸ªæ–¹æ³•addActionå’ŒreduceActionï¼Œåœ¨æ–¹æ³•ä½“é‡Œï¼Œæˆ‘ä»¬éƒ½ç”¨commitè°ƒç”¨äº†Mutationsé‡Œè¾¹çš„æ–¹æ³•ã€‚ç»†å¿ƒçš„å°ä¼™ä¼´ä¼šå‘ç°è¿™ä¸¤ä¸ªæ–¹æ³•ä¼ é€’çš„å‚æ•°ä¹Ÿä¸ä¸€æ ·ã€‚</p><p>ontextï¼šä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œè¿™é‡Œä½ å¯ä»¥ç†è§£ç§°storeæœ¬èº«ã€‚</p><p>{commit}ï¼šç›´æ¥æŠŠcommitå¯¹è±¡ä¼ é€’è¿‡æ¥ï¼Œå¯ä»¥è®©æ–¹æ³•ä½“é€»è¾‘å’Œä»£ç æ›´æ¸…æ™°æ˜äº†ã€‚</p><h2 id="å°ç¨‹åº"><a href="#å°ç¨‹åº" class="headerlink" title="å°ç¨‹åº"></a>å°ç¨‹åº</h2><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a511249dd?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;VueX&quot;&gt;&lt;a href=&quot;#VueX&quot; class=&quot;headerlink&quot; title=&quot;VueX&quot;&gt;&lt;/a&gt;VueX&lt;/h2&gt;&lt;p&gt;Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯
      
    
    </summary>
    
      <category term="ç¬”è®°" scheme="https://www.jonathon.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="vue" scheme="https://www.jonathon.cn/tags/vue/"/>
    
      <category term="javascript" scheme="https://www.jonathon.cn/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>ä½ è¿˜åœ¨å‘æ„å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å—ï¼Ÿ</title>
    <link href="https://www.jonathon.cn/topbar.html"/>
    <id>https://www.jonathon.cn/topbar.html</id>
    <published>2018-08-23T01:41:06.000Z</published>
    <updated>2018-08-23T02:12:38.643Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://user-gold-cdn.xitu.io/2018/8/22/16561c33d8921db4?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1"></p><h2 id="ä½ è¿˜åœ¨å‘æ„å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å—ï¼Ÿ"><a href="#ä½ è¿˜åœ¨å‘æ„å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å—ï¼Ÿ" class="headerlink" title="ä½ è¿˜åœ¨å‘æ„å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å—ï¼Ÿ"></a>ä½ è¿˜åœ¨å‘æ„å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å—ï¼Ÿ</h2><p>å…ˆè¯´ä¸€ä¸‹æˆ‘çš„éœ€æ±‚å§ï¼Œå› ä¸ºæˆ‘ä»¬çš„å°ç¨‹åºæ˜¯åµŒå¥—äº†webviewã€‚ ç‚¹å‡»webviewé‡Œé¢çš„é¡¹ç›®ï¼Œç‚¹çš„å±‚çº§å¤ªæ·±ï¼Œç”¨æˆ·åé€€å¾ˆéº»çƒ¦ã€‚ç„¶åpmåˆæ‰¾äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„å¯¼èˆªçš„å°ç¨‹åºï¼Œå‘ç°åˆ«äººå¯ä»¥ï¼Œç„¶åæˆ‘å°±å¼€å§‹ç ”ç©¶ã€‚</p><h2 id="å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å¼€å‘æ³¨æ„ç‚¹ä¸å‚è€ƒæ–‡æ¡£"><a href="#å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å¼€å‘æ³¨æ„ç‚¹ä¸å‚è€ƒæ–‡æ¡£" class="headerlink" title="å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å¼€å‘æ³¨æ„ç‚¹ä¸å‚è€ƒæ–‡æ¡£"></a>å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å¼€å‘æ³¨æ„ç‚¹ä¸å‚è€ƒæ–‡æ¡£</h2><p>å¾®ä¿¡å®˜æ–¹è®¾è®¡æŒ‡å¯¼ä¸­å…³äºèƒ¶å›ŠæŒ‰é’®çš„æè¿° ç”±æ­¤æ¨æµ‹èƒ¶å›Šå®½åº¦87pt=116pxï¼Œè®¾ç½®ä¹‹åï¼Œçš„ç¡®èƒ½äº§ç”Ÿè¾ƒå¥½çš„å…¼å®¹æ€§æ•ˆæœ<br>[2018-07-06]æ ¹æ®æµ‹è¯•æˆªå›¾å‘ç°å¾®ä¿¡èƒ¶å›Šå®½åº¦åº”è¯¥åœ¨96pxå·¦å³ï¼Œè¿˜æœ‰å¾…ç ”ç©¶<br>ç¤¾åŒºç›¸å…³Q&amp;Aï¼š<a href="https://developers.weixin.qq.com/blogdetail?action=get_post_info&amp;docid=0008661e8a4b5047e6765eaa356000&amp;highline=statusBarHeight" target="_blank" rel="noopener">è‡ªå®šä¹‰æ ‡é¢˜æ é«˜åº¦è®¡ç®—</a><br>ä½¿ç”¨æ—¶æ³¨æ„æ–¹æ³•ä¸å±æ€§ç‰ˆæœ¬å…¼å®¹æ€§<br>å®Œå–„ä¹‹è·¯ï¼š</p><ol><li>å¼€ä¸€ä¸ªé¡¹ç›®é‡‡é›†è®¾å¤‡çš„screenHeight,windowHeight,pixelRatioç­‰ä¿¡æ¯åˆ°ä¸€ä¸ªæ•°æ®åº“ä¸­</li><li>å¾®ä¿¡æä¾›è¿™æ ·ä¸€ä¸ªæ•°æ®åº“ä¾¿äºè®¡ç®—ï¼Œæˆ–è€…å¾®ä¿¡ä¼˜åŒ–è‡ªå®šä¹‰æ ‡é¢˜æ ï¼ˆè­¬å¦‚é€šçŸ¥æ å¯ä»¥æ”¹å˜é¢œè‰²ä½†ä¸è¦ç®—åœ¨è‡ªå®šä¹‰èŒƒå›´å†…ï¼Œç»™å‡ºèƒ¶å›Šå®½é«˜åˆ°é€šçŸ¥æ è·ç¦»åˆ°å³ä¾§å±å¹•è¾¹æ¡†è·ç¦»ç­‰ç›¸å…³å‚æ•°ï¼‰<a id="more"></a></li></ol><h2 id="éè‡ªå®šä¹‰å¯¼èˆªæ é«˜åº¦æ€ä¹ˆè®¡ç®—ï¼Ÿ"><a href="#éè‡ªå®šä¹‰å¯¼èˆªæ é«˜åº¦æ€ä¹ˆè®¡ç®—ï¼Ÿ" class="headerlink" title="éè‡ªå®šä¹‰å¯¼èˆªæ é«˜åº¦æ€ä¹ˆè®¡ç®—ï¼Ÿ"></a>éè‡ªå®šä¹‰å¯¼èˆªæ é«˜åº¦æ€ä¹ˆè®¡ç®—ï¼Ÿ</h2><p>wx.getSystemInfo å’Œ wx.getSystemInfoSync è·å–æœºå™¨ä¿¡æ¯<br>screenHeight - windowHeight   è®¡ç®—æ ‡é¢˜æ é«˜åº¦<br>æ ‡é¢˜æ é«˜åº¦</p><p>â€˜iPhoneâ€™: 64,<br>â€˜iPhone Xâ€™: 88,<br>â€˜androidâ€™: 68</p><p>â€”â€” ä¸å®Œå…¨ç»Ÿè®¡ï¼ˆip6 , ip5 , ip6p , ipx , å°ç±³mix2  , å°ç±³5ç­‰ç»¼åˆäº†å¼€å‘å·¥å…·æä¾›çš„æ•°æ®å’ŒçœŸæœºæ•°æ®ï¼‰æ‰€å¾—æœ‰äº†è¿™äº›ä»ç½‘ä¸Šæ‰¾åˆ°çš„èµ„æ–™ï¼Œè¿˜æœ‰åå«çŒ«åœˆçš„å°ç¨‹åºçš„ä¾‹å­ã€‚å¼€å§‹ä»£ç å®ç°äº†ã€‚</p><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"window"</span>: &#123;        </span><br><span class="line">    <span class="string">"navigationBarBackgroundColor"</span>: <span class="string">"#fff"</span>,        </span><br><span class="line">    <span class="string">"navigationBarTextStyle"</span>: <span class="string">"black"</span>,        </span><br><span class="line">    <span class="string">"backgroundColor"</span>: <span class="string">"#fff"</span>,        </span><br><span class="line">    <span class="string">"navigationStyle"</span>: <span class="string">"custom"</span>    </span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure><p>è¿™é‡ŒnavigationStyle é…ç½®ä¿®æ”¹ä¹‹åå°±åªå‰©ä¸€ä¸ªèƒ¶å›ŠæŒ‰é’®ï¼Œä¹Ÿå°±æ„å‘³ç€æ‰€æœ‰é¡µé¢çš„å¯¼èˆªéƒ½çš„è‡ªå®šä¹‰å®ç°ï¼Œä½ å¯ä»¥é€‰æ‹©æ¨¡ç‰ˆæˆ–è€…ç»„ä»¶æ¥å¼€å‘ï¼Œè¿™é‡Œæˆ‘æ˜¯é€‰æ‹©ç”¨çš„ç»„ä»¶å¼€å‘ã€‚</p><p>ç„¶åå®šä¹‰å¯¼èˆªçš„å„ä¸ªæ•°å€¼ï¼Œæˆ‘æ˜¯åœ¨appã€‚js é‡Œé¢å®šä¹‰çš„<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">title_height: <span class="string">"64"</span>,        </span><br><span class="line">statusbarHeight: <span class="string">"24"</span>,        </span><br><span class="line">titleIcon_height: <span class="string">"32"</span>,        </span><br><span class="line">titleIcon_width: <span class="string">"87"</span>,        </span><br><span class="line">title_top: <span class="string">"24"</span>,        </span><br><span class="line">title_text: <span class="string">"xxx"</span>, <span class="comment">// iphone X + 24        </span></span><br><span class="line">prefix: <span class="number">24</span></span><br></pre></td></tr></table></figure></p><h2 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h2><p>wxmlçš„ä»£ç <br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;view&gt;  </span><br><span class="line">    &lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">"title"</span> style=<span class="string">"height:&#123;&#123;title_height&#125;&#125;px;padding-top:&#123;&#123;statusbarHeight&#125;&#125;px;background-color:&#123;&#123;isIndex?'#175dc6':'#fff'&#125;&#125;"</span>&gt;    </span><br><span class="line">        &lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">"title_text"</span> style=<span class="string">"color:&#123;&#123;isIndex?'#fff':'#000'&#125;&#125;"</span>&gt;&#123;&#123;title_text&#125;&#125;&lt;<span class="regexp">/view&gt;    </span></span><br><span class="line"><span class="regexp">        &lt;view wx:if="&#123;&#123;isShow&#125;&#125;" class="title_icon" style="top:&#123;&#123;title_top&#125;&#125;px;height:&#123;&#123;titleIcon_height&#125;&#125;px;width:&#123;&#123;titleIcon_width&#125;&#125;px;background-color:&#123;&#123;isIndex?'#175dc6':'#fff'&#125;&#125;"&gt;     </span></span><br><span class="line"><span class="regexp">        &lt;image bindtap="_goBack" class="floatL" src="/img</span><span class="regexp">/fanhui_icon.png"&gt;&lt;/im</span>age&gt;      </span><br><span class="line">        &lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">"floatL"</span>&gt;&lt;/view&gt;      </span><br><span class="line">        &lt;image bindtap=<span class="string">"_goHome"</span> src=<span class="string">"/img/home_icon.png"</span>&gt;&lt;/image&gt;    &lt;<span class="regexp">/view&gt;  &lt;/</span>view&gt;  &lt;view style='height:&#123;&#123;title_height&#125;&#125;px;'&gt;</span><br><span class="line">     &lt;/view&gt;</span><br><span class="line">&lt;<span class="regexp">/view&gt;</span></span><br></pre></td></tr></table></figure></p><p>wxssçš„ä»£ç <br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.title &#123;  width: 100%;  background-color: #175dc6;  box-sizing: border-box;  position: fixed;  transform: translateZ(0);  z-index: 999990;&#125;</span><br><span class="line">.title_text &#123;  text-align: center;  font-size: 37rpx;  color: #fff;  line-height: 44px;&#125;</span><br><span class="line">.title_icon &#123;  background-color: #175dc6;  position: fixed;  top: 54rpx;  left: 16rpx;  border-radius: 64rpx;  box-sizing: border-box;  border: 0.5px solid #ebe48e;  display: flex;&#125;</span><br><span class="line">.title_icon image &#123;  <span class="attr">height</span>: <span class="number">20</span>px;  width: <span class="number">20</span>px;  padding-top: <span class="number">5</span>px;  display: inline-block;  overflow: hidden;&#125;</span><br><span class="line">.title_icon view &#123;  height: 18px;  border-left: 1px solid #bfb973;  margin-top: 6px;&#125;</span><br><span class="line">.floatL &#123;  <span class="attr">float</span>: left;&#125;</span><br><span class="line">.title_icon image:nth-<span class="keyword">of</span>-type(<span class="number">1</span>), .title_icon image:nth-<span class="keyword">of</span>-type(<span class="number">2</span>) &#123;  padding-right: <span class="number">10</span>px;  padding-bottom: <span class="number">10</span>px;  padding-left: <span class="number">10</span>px;&#125;</span><br></pre></td></tr></table></figure></p><p>jsçš„ä»£ç <br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = getApp();</span><br><span class="line">Component(&#123;    </span><br><span class="line">    properties: &#123;        </span><br><span class="line">        isShow: &#123; <span class="comment">// æ˜¯å¦æ˜¾ç¤ºåé€€æŒ‰é’®            </span></span><br><span class="line">            type: <span class="built_in">String</span>,            </span><br><span class="line">            value: <span class="string">"1"</span>        </span><br><span class="line">        &#125;,        </span><br><span class="line">        isIndex: &#123; <span class="comment">// æ˜¯å¦ä¸»é¡µ            </span></span><br><span class="line">            type: <span class="built_in">Boolean</span>,            </span><br><span class="line">            value: <span class="literal">false</span>,        </span><br><span class="line">        &#125;,        </span><br><span class="line">        title_height: &#123; <span class="comment">//             </span></span><br><span class="line">            type: <span class="built_in">String</span>,            </span><br><span class="line">            value: app.config.title_height,        </span><br><span class="line">        &#125;,        </span><br><span class="line">        titleIcon_height: &#123;            </span><br><span class="line">            type: <span class="built_in">String</span>,            </span><br><span class="line">            value: app.config.titleIcon_height,        </span><br><span class="line">        &#125;,        </span><br><span class="line">        titleIcon_width: &#123;            </span><br><span class="line">            type: <span class="built_in">String</span>,            </span><br><span class="line">            value: app.config.titleIcon_width,        </span><br><span class="line">        &#125;,        </span><br><span class="line">        statusbarHeight: &#123;            </span><br><span class="line">            type: <span class="built_in">String</span>,            </span><br><span class="line">            value: app.config.statusbarHeight,        </span><br><span class="line">        &#125;,        </span><br><span class="line">        title_top: &#123;            </span><br><span class="line">            type: <span class="built_in">String</span>,            </span><br><span class="line">            value: app.config.title_top,        </span><br><span class="line">        &#125;,        </span><br><span class="line">        title_text: &#123;            </span><br><span class="line">            type: <span class="built_in">String</span>,            </span><br><span class="line">            value: app.config.title_text,        </span><br><span class="line">            &#125;,    </span><br><span class="line">        &#125;,    </span><br><span class="line">        methods: &#123;        </span><br><span class="line">            _goBack: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;            </span><br><span class="line">                wx.navigateBack(&#123;                </span><br><span class="line">                    delta: <span class="number">1</span>            </span><br><span class="line">                    &#125;);        </span><br><span class="line">            &#125;,        </span><br><span class="line">            _goHome: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;           </span><br><span class="line">                 wx.switchTab(&#123;                </span><br><span class="line">                     url: <span class="string">"/pages/index/index"</span>            </span><br><span class="line">                     &#125;);        </span><br><span class="line">            &#125;    </span><br><span class="line">        &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·ç»„ä»¶å°±å†™å¥½äº†  åªéœ€è¦åœ¨ä½ æ¯ä¸ªé¡µé¢é‡Œé¢ç”¨è¿™ä¸ªç»„ä»¶ä¼ ä¸åŒçš„å€¼å°±å¯ä»¥äº†ã€‚</p><h2 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;header isIndex=<span class="string">"true"</span> title_text=<span class="string">"é¦–é¡µ"</span> isShow=<span class="string">""</span>&gt;&lt;/header&gt; åœ¨é¦–é¡µçš„wxmlåº”ç”¨ã€‚</span><br><span class="line">json æ–‡ä»¶é‡Œé¢çš„é…ç½®  </span><br><span class="line">    <span class="string">"navigationBarTitleText"</span>: <span class="string">"å•¦å•¦å•¦"</span>,  </span><br><span class="line">    <span class="string">"navigationBarBackgroundColor"</span>: <span class="string">"#175dc6"</span>,  </span><br><span class="line">    <span class="string">"usingComponents"</span>: &#123;    </span><br><span class="line">        <span class="string">"header"</span>: <span class="string">"/components/layout/header/header"</span>  </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="æ•ˆæœå¦‚å›¾"><a href="#æ•ˆæœå¦‚å›¾" class="headerlink" title="æ•ˆæœå¦‚å›¾"></a>æ•ˆæœå¦‚å›¾</h2><p><img src="https://user-gold-cdn.xitu.io/2018/8/22/16561d2c1c57e4cb?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br><img src="https://user-gold-cdn.xitu.io/2018/8/22/16561d2f5c5387aa?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>é€‚é…ä¸Šå¯èƒ½ä¼šæœ‰ç‚¹é—®é¢˜ï¼Œå¸Œæœ›å¤§ç¥æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå‘Šè¯‰æˆ‘å“Ÿã€‚</p><h2 id="ä¸€æ­¥æ­¥è®°å½•è‡ªå·±çš„è¸©å‘å†ç¨‹-æˆ‘è¦åšåˆ°æˆ‘æŠ€æœ¯ä¸æ˜¯æœ€å¥½çš„ï¼Œä½†æˆ‘ç»™ä½ æ€»ç»“çš„å°ç¨‹åºçš„ä¸œè¥¿æ˜¯æœ€ç®€å•ç²—æš´çš„å“ˆå“ˆå“ˆ"><a href="#ä¸€æ­¥æ­¥è®°å½•è‡ªå·±çš„è¸©å‘å†ç¨‹-æˆ‘è¦åšåˆ°æˆ‘æŠ€æœ¯ä¸æ˜¯æœ€å¥½çš„ï¼Œä½†æˆ‘ç»™ä½ æ€»ç»“çš„å°ç¨‹åºçš„ä¸œè¥¿æ˜¯æœ€ç®€å•ç²—æš´çš„å“ˆå“ˆå“ˆ" class="headerlink" title="ä¸€æ­¥æ­¥è®°å½•è‡ªå·±çš„è¸©å‘å†ç¨‹~æˆ‘è¦åšåˆ°æˆ‘æŠ€æœ¯ä¸æ˜¯æœ€å¥½çš„ï¼Œä½†æˆ‘ç»™ä½ æ€»ç»“çš„å°ç¨‹åºçš„ä¸œè¥¿æ˜¯æœ€ç®€å•ç²—æš´çš„å“ˆå“ˆå“ˆ"></a>ä¸€æ­¥æ­¥è®°å½•è‡ªå·±çš„è¸©å‘å†ç¨‹~æˆ‘è¦åšåˆ°æˆ‘æŠ€æœ¯ä¸æ˜¯æœ€å¥½çš„ï¼Œä½†æˆ‘ç»™ä½ æ€»ç»“çš„å°ç¨‹åºçš„ä¸œè¥¿æ˜¯æœ€ç®€å•ç²—æš´çš„å“ˆå“ˆå“ˆ</h2><h2 id="ğŸ‰-é€æˆ‘ä¸€æœµå°å‘å‘ï½"><a href="#ğŸ‰-é€æˆ‘ä¸€æœµå°å‘å‘ï½" class="headerlink" title="ğŸ‰ é€æˆ‘ä¸€æœµå°å‘å‘ï½"></a>ğŸ‰ é€æˆ‘ä¸€æœµå°å‘å‘ï½</h2><h2 id="å°ç¨‹åº"><a href="#å°ç¨‹åº" class="headerlink" title="å°ç¨‹åº"></a>å°ç¨‹åº</h2><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a511249dd?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2018/8/22/16561c33d8921db4?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ä½ è¿˜åœ¨å‘æ„å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å—ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä½ è¿˜åœ¨å‘æ„å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å—ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä½ è¿˜åœ¨å‘æ„å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å—ï¼Ÿ&quot;&gt;&lt;/a&gt;ä½ è¿˜åœ¨å‘æ„å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å—ï¼Ÿ&lt;/h2&gt;&lt;p&gt;å…ˆè¯´ä¸€ä¸‹æˆ‘çš„éœ€æ±‚å§ï¼Œå› ä¸ºæˆ‘ä»¬çš„å°ç¨‹åºæ˜¯åµŒå¥—äº†webviewã€‚ ç‚¹å‡»webviewé‡Œé¢çš„é¡¹ç›®ï¼Œç‚¹çš„å±‚çº§å¤ªæ·±ï¼Œç”¨æˆ·åé€€å¾ˆéº»çƒ¦ã€‚ç„¶åpmåˆæ‰¾äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„å¯¼èˆªçš„å°ç¨‹åºï¼Œå‘ç°åˆ«äººå¯ä»¥ï¼Œç„¶åæˆ‘å°±å¼€å§‹ç ”ç©¶ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å¼€å‘æ³¨æ„ç‚¹ä¸å‚è€ƒæ–‡æ¡£&quot;&gt;&lt;a href=&quot;#å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å¼€å‘æ³¨æ„ç‚¹ä¸å‚è€ƒæ–‡æ¡£&quot; class=&quot;headerlink&quot; title=&quot;å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å¼€å‘æ³¨æ„ç‚¹ä¸å‚è€ƒæ–‡æ¡£&quot;&gt;&lt;/a&gt;å°ç¨‹åºè‡ªå®šä¹‰å¯¼èˆªæ å¼€å‘æ³¨æ„ç‚¹ä¸å‚è€ƒæ–‡æ¡£&lt;/h2&gt;&lt;p&gt;å¾®ä¿¡å®˜æ–¹è®¾è®¡æŒ‡å¯¼ä¸­å…³äºèƒ¶å›ŠæŒ‰é’®çš„æè¿° ç”±æ­¤æ¨æµ‹èƒ¶å›Šå®½åº¦87pt=116pxï¼Œè®¾ç½®ä¹‹åï¼Œçš„ç¡®èƒ½äº§ç”Ÿè¾ƒå¥½çš„å…¼å®¹æ€§æ•ˆæœ&lt;br&gt;[2018-07-06]æ ¹æ®æµ‹è¯•æˆªå›¾å‘ç°å¾®ä¿¡èƒ¶å›Šå®½åº¦åº”è¯¥åœ¨96pxå·¦å³ï¼Œè¿˜æœ‰å¾…ç ”ç©¶&lt;br&gt;ç¤¾åŒºç›¸å…³Q&amp;amp;Aï¼š&lt;a href=&quot;https://developers.weixin.qq.com/blogdetail?action=get_post_info&amp;amp;docid=0008661e8a4b5047e6765eaa356000&amp;amp;highline=statusBarHeight&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è‡ªå®šä¹‰æ ‡é¢˜æ é«˜åº¦è®¡ç®—&lt;/a&gt;&lt;br&gt;ä½¿ç”¨æ—¶æ³¨æ„æ–¹æ³•ä¸å±æ€§ç‰ˆæœ¬å…¼å®¹æ€§&lt;br&gt;å®Œå–„ä¹‹è·¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¼€ä¸€ä¸ªé¡¹ç›®é‡‡é›†è®¾å¤‡çš„screenHeight,windowHeight,pixelRatioç­‰ä¿¡æ¯åˆ°ä¸€ä¸ªæ•°æ®åº“ä¸­&lt;/li&gt;
&lt;li&gt;å¾®ä¿¡æä¾›è¿™æ ·ä¸€ä¸ªæ•°æ®åº“ä¾¿äºè®¡ç®—ï¼Œæˆ–è€…å¾®ä¿¡ä¼˜åŒ–è‡ªå®šä¹‰æ ‡é¢˜æ ï¼ˆè­¬å¦‚é€šçŸ¥æ å¯ä»¥æ”¹å˜é¢œè‰²ä½†ä¸è¦ç®—åœ¨è‡ªå®šä¹‰èŒƒå›´å†…ï¼Œç»™å‡ºèƒ¶å›Šå®½é«˜åˆ°é€šçŸ¥æ è·ç¦»åˆ°å³ä¾§å±å¹•è¾¹æ¡†è·ç¦»ç­‰ç›¸å…³å‚æ•°ï¼‰
    
    </summary>
    
      <category term="å¾®ä¿¡å°ç¨‹åº" scheme="https://www.jonathon.cn/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    
      <category term="javascript" scheme="https://www.jonathon.cn/tags/javascript/"/>
    
      <category term="web" scheme="https://www.jonathon.cn/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºWebviewæœ€ä½³å®è·µã€‚</title>
    <link href="https://www.jonathon.cn/webview.html"/>
    <id>https://www.jonathon.cn/webview.html</id>
    <published>2018-08-20T12:16:48.000Z</published>
    <updated>2018-08-20T12:30:17.254Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://user-gold-cdn.xitu.io/2018/8/20/1655729929eb308e?imageView2/1/w/1080/h/320/q/85/format/webp/interlace/1"></p><h2 id="ç¼˜ç”±"><a href="#ç¼˜ç”±" class="headerlink" title="ç¼˜ç”±"></a>ç¼˜ç”±</h2><p>å› ä¸ºå…¬å¸é¡¹ç›®æ˜¯é“¾æ¥é“¶è¡Œä¸šåŠ¡çš„è¿™ç§éœ€æ±‚ï¼Œæ‰€ä»¥å­˜åœ¨ä¸€äº›ç›‘ç®¡æ–¹é¢çš„é—®é¢˜ï¼Œç„¶åå°±æœ‰äº†å°ç¨‹åºé‡Œé¢åµŒå¥—h5çš„è¿™ç§è§£å†³æ–¹å¼ã€‚</p><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><p>é‚£äº›ä»€ä¹ˆå®˜æ–¹é…ç½®çš„ä»€ä¹ˆï¼Œå°±ä¸åœ¨è¿™é‡Œè¯´äº†ã€‚ è·Ÿç€æ–‡æ¡£èµ°ï¼Œç»†å¿ƒçš„æ…¢æ…¢é…ç½®çš„å°±å¥½ã€‚æ€è€ƒä¸€ä¸‹ï¼Œå…¶å®è·³webview å…¨æ˜¯ä¸€ä¸ªé¡µé¢åªä¸è¿‡æ˜¯ä¸åŒçš„å‚æ•°æ‹¼æ¥æˆä¸åŒçš„urlã€‚åœ¨è¿™ä¸ªå‰æä¸‹å‘¢ï¼Œå°±å¯ä»¥å¼€å§‹å°è£…æ–¹æ³•è¾£ï½<br><a id="more"></a></p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>å…ˆç›´æ¥ä¸Šä»£ç äº†ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  æ–¹æ³•åï¼š</span></span><br><span class="line"><span class="comment"> *    webView: è·³è½¬åˆ°H5ç•Œé¢</span></span><br><span class="line"><span class="comment"> *  å‚æ•°ï¼š</span></span><br><span class="line"><span class="comment"> *    path:  è®¿é—®ç•Œé¢çš„è·¯å¾„</span></span><br><span class="line"><span class="comment"> *    param: é¡µé¢é™„å¸¦å‚æ•°</span></span><br><span class="line"><span class="comment"> *    type: 0 é»˜è®¤ 2 å¤–éƒ¨åœ°å€ 1 redirectToè·³è½¬</span></span><br><span class="line"><span class="comment"> *    finger  æ˜¯å¦éªŒè¯æŒ‡çº¹</span></span><br><span class="line"><span class="comment"> *  è¿”å›ï¼š</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">webView</span>(<span class="params">path, param, type = <span class="number">0</span>, finger = true</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> defu = app.config.h5url;</span><br><span class="line">    <span class="keyword">let</span> url = defu + <span class="string">"/"</span> + path;</span><br><span class="line">    <span class="keyword">if</span> (type === <span class="number">2</span>)</span><br><span class="line">        url = path;</span><br><span class="line">    <span class="keyword">let</span> to = <span class="string">'/pages/common/webview/webview?url='</span> + <span class="built_in">encodeURIComponent</span>(url);</span><br><span class="line">    <span class="keyword">if</span> (!isNull(param)) &#123;</span><br><span class="line">        param = param;</span><br><span class="line">        to = to + <span class="string">"&amp;param="</span> + <span class="built_in">encodeURIComponent</span>(<span class="built_in">JSON</span>.stringify(param));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (type === <span class="number">0</span> || type === <span class="number">2</span>) &#123;</span><br><span class="line">        wx.navigateTo(&#123;</span><br><span class="line">            url: to,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="number">1</span>) &#123;</span><br><span class="line">        wx.redirectTo(&#123;</span><br><span class="line">            url: to,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–¹æ³•åï¼šè·³è½¬åˆ°H5</span></span><br><span class="line"><span class="comment"> * å‚æ•°ï¼š</span></span><br><span class="line"><span class="comment"> *    servid : æœåŠ¡Id è·³è½¬åˆ°H5å¯¹åº”çš„url</span></span><br><span class="line"><span class="comment"> *    flag: æ˜¯å¦é€‰æ‹©é“¶è¡Œå¡ (é»˜è®¤æ˜¯)</span></span><br><span class="line"><span class="comment"> *    paramï¼šè·³è½¬åˆ°H5æºå¸¦çš„å‚æ•° </span></span><br><span class="line"><span class="comment"> *    finger: æ˜¯å¦éªŒè¯æ‰‹åŠ¿å¯†ç </span></span><br><span class="line"><span class="comment"> *    redirectTp è·³è½¬ç±»å‹: (é»˜è®¤0 nato 1 redirectto)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toH5</span>(<span class="params">servid, flag = true, param = &#123;&#125;, finger = true, redirectTp = <span class="number">0</span></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(param)</span><br><span class="line">    <span class="keyword">if</span> (isNull(param))</span><br><span class="line">        param = &#123;&#125;;</span><br><span class="line">    <span class="keyword">let</span> h5url = getRouteH5(servid);</span><br><span class="line">    <span class="keyword">let</span> userInfo = getDataBase(<span class="string">"userInfo"</span>);</span><br><span class="line">    param.custInfo = getDataBase(<span class="string">"custInfo"</span>);</span><br><span class="line">    param.userInfo = &#123;</span><br><span class="line">        nickName: userInfo.nickName,</span><br><span class="line">        avatarUrl: userInfo.avatarUrl,</span><br><span class="line">        model: getDataBase(<span class="string">"deviceInfo"</span>).model</span><br><span class="line">    &#125;;</span><br><span class="line">    param.header = app.globalData.header;</span><br><span class="line">    <span class="keyword">if</span> (!app.globalData.first2H5) &#123;</span><br><span class="line">        param.first2H5 = <span class="string">"1"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    webView(h5url.url, param, redirectTp, finger);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åœ¨è¿™é‡Œå®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€äº›urlä¸Šé¢ä¸æ˜æ–‡ä¼ è¾“ä¹‹ç±»çš„å¤„ç†ã€‚ </p><p>å°ç¨‹åºé‡Œé¢çš„ä»£ç ç»“æŸäº†ï¼Œç„¶åæˆ‘ä»¬åœ¨H5é‡Œé¢å¼€å§‹æ¥å—ä»å°ç¨‹åºä¼ è¿‡çš„æ¥å‚æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">å› ä¸ºh5æ˜¯ç”¨vueæ¥å®ç°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åœ¨router beforeEach é‡Œé¢è¿›è¡Œåˆ¤æ–­ã€‚</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">if</span> (navigator.userAgent.toLowerCase().indexOf(<span class="string">'micromessenger'</span>) !== <span class="number">-1</span>) &#123;</span><br><span class="line">    <span class="comment">// è¯´æ˜æ˜¯ä»å°ç¨‹åºwebviewè¿‡æ¥çš„</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">from</span>.name === <span class="literal">null</span> &amp;&amp; !Util.isNull(to.query.param)) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(to.query.param)</span><br><span class="line">      <span class="keyword">let</span> param = <span class="built_in">JSON</span>.parse(to.query.param);</span><br><span class="line">      to.query.param = param;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">parseInt</span>(param.first2H5) === <span class="number">1</span> || Util.isNull(<span class="built_in">window</span>.localStorage.getItem(<span class="string">"loginCustInfo"</span>))) &#123;</span><br><span class="line">        <span class="built_in">window</span>.localStorage.setItem(<span class="string">"header"</span>, <span class="built_in">JSON</span>.stringify(param.header)); <span class="comment">// è®¾å¤‡æŒ‡çº¹</span></span><br><span class="line">        <span class="built_in">window</span>.localStorage.setItem(<span class="string">"loginCustInfo"</span>, <span class="built_in">JSON</span>.stringify(param.custInfo));</span><br><span class="line">        <span class="built_in">window</span>.localStorage.setItem(<span class="string">"loginNickInfo"</span>, <span class="built_in">JSON</span>.stringify(param.userInfo));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>åŠ ç­åŠ äº†å¥½ä¹…ï¼Œæœ€è¿‘ä¹Ÿæ²¡æ€ä¹ˆå†™ï¼Œè¡¨è¾¾çš„ä¸å¥½ï¼Œè¯·å¤§å®¶å¤šå¤šåŸè°…ã€‚ </p><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a511249dd?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2018/8/20/1655729929eb308e?imageView2/1/w/1080/h/320/q/85/format/webp/interlace/1&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ç¼˜ç”±&quot;&gt;&lt;a href=&quot;#ç¼˜ç”±&quot; class=&quot;headerlink&quot; title=&quot;ç¼˜ç”±&quot;&gt;&lt;/a&gt;ç¼˜ç”±&lt;/h2&gt;&lt;p&gt;å› ä¸ºå…¬å¸é¡¹ç›®æ˜¯é“¾æ¥é“¶è¡Œä¸šåŠ¡çš„è¿™ç§éœ€æ±‚ï¼Œæ‰€ä»¥å­˜åœ¨ä¸€äº›ç›‘ç®¡æ–¹é¢çš„é—®é¢˜ï¼Œç„¶åå°±æœ‰äº†å°ç¨‹åºé‡Œé¢åµŒå¥—h5çš„è¿™ç§è§£å†³æ–¹å¼ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¼€å§‹&quot;&gt;&lt;a href=&quot;#å¼€å§‹&quot; class=&quot;headerlink&quot; title=&quot;å¼€å§‹&quot;&gt;&lt;/a&gt;å¼€å§‹&lt;/h2&gt;&lt;p&gt;é‚£äº›ä»€ä¹ˆå®˜æ–¹é…ç½®çš„ä»€ä¹ˆï¼Œå°±ä¸åœ¨è¿™é‡Œè¯´äº†ã€‚ è·Ÿç€æ–‡æ¡£èµ°ï¼Œç»†å¿ƒçš„æ…¢æ…¢é…ç½®çš„å°±å¥½ã€‚æ€è€ƒä¸€ä¸‹ï¼Œå…¶å®è·³webview å…¨æ˜¯ä¸€ä¸ªé¡µé¢åªä¸è¿‡æ˜¯ä¸åŒçš„å‚æ•°æ‹¼æ¥æˆä¸åŒçš„urlã€‚åœ¨è¿™ä¸ªå‰æä¸‹å‘¢ï¼Œå°±å¯ä»¥å¼€å§‹å°è£…æ–¹æ³•è¾£ï½&lt;br&gt;
    
    </summary>
    
      <category term="å¿ƒå¾—åˆ†äº«" scheme="https://www.jonathon.cn/categories/%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="webview" scheme="https://www.jonathon.cn/tags/webview/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºï¼šå¸¦å‚æ•°å°ç¨‹åºç›¸å…³çŸ¥è¯†</title>
    <link href="https://www.jonathon.cn/wechat-qrcode.html"/>
    <id>https://www.jonathon.cn/wechat-qrcode.html</id>
    <published>2018-08-04T03:18:34.000Z</published>
    <updated>2018-08-04T03:36:26.170Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://user-gold-cdn.xitu.io/2018/8/4/16502e26580f2d94?imageView2/1/w/1080/h/320/q/85/format/webp/interlace/1"></p><p>è¿™ä¸ªæ˜¯å¸¦å‚æ•°å°ç¨‹åºç ï¼Œæˆ‘ä»¬é¡¹ç›®é‡Œç”¨åˆ°çš„å°±æ˜¯ï¼Œèº«ä»½ä¸åŒå¸¦ä¸åŒå‚æ•°ï¼Œç„¶åè¯·æ±‚æ¥å£ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">onLoad(options) &#123;<span class="comment">//ç”¨æˆ·æˆæƒæ“ä½œ</span></span><br><span class="line">options.db ? wx.setStorageSync(<span class="string">'dbid'</span>, options.db) : <span class="string">''</span>; <span class="comment">//åˆ†äº«åŠŸèƒ½é€»è¾‘</span></span><br><span class="line">wx.setStorageSync(<span class="string">'scene'</span>, options.scene)<span class="comment">// è¿™é‡Œå°±æ˜¯ä»urlè·å–çš„çš„å‚æ•°ï¼Œå‘é€ç»™åç«¯å¤§å“¥ï¼Œç„¶åè®©ä»–å»è¯·æ±‚æ¥å£ç”Ÿæˆã€‚</span></span><br><span class="line">utils.login(<span class="keyword">this</span>.handleLogin.bind(<span class="keyword">this</span>),<span class="keyword">this</span>.handleReset.bind(<span class="keyword">this</span>));</span><br><span class="line"><span class="keyword">let</span> card = wx.getStorageSync(<span class="string">'UserCard'</span>),</span><br><span class="line">show = wx.getStorageSync(<span class="string">'seller'</span>),</span><br><span class="line">db = wx.getStorageSync(<span class="string">'dbid'</span>),</span><br><span class="line">ifHave = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(card.distribution_id!=<span class="string">''</span>)&#123;</span><br><span class="line">        ifHave = <span class="literal">true</span>;  </span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;    </span><br><span class="line">        ifHave = <span class="literal">false</span>;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;     </span><br><span class="line">        userId:card.user_id,     </span><br><span class="line">        dbShow:ifHave &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure><p>å…¶å®å¾ˆç®€å•ï¼Œä¸»è¦å½“æ—¶è°ƒè¯•çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªå‘æé†’ä¸€ä¸‹ã€‚å°ç¨‹åºç å”¤é†’çš„æ˜¯ä½ çº¿ä¸Šå‘å¸ƒè¿‡çš„å°ç¨‹åºï¼Œä¹Ÿæ€ªè‡ªå·±å½“æ—¶æ²¡æœ‰å¥½å¥½è¯»æ–‡æ¡£åƒçš„äºã€‚å“ˆå“ˆ ã€‚æ‰€ä»¥æˆ‘å°±æ€»ç»“äº†ä¸€ä¸‹ã€‚<br><a id="more"></a></p><h2 id="è·å–å°ç¨‹åºé¡µé¢äºŒç»´ç "><a href="#è·å–å°ç¨‹åºé¡µé¢äºŒç»´ç " class="headerlink" title="è·å–å°ç¨‹åºé¡µé¢äºŒç»´ç "></a>è·å–å°ç¨‹åºé¡µé¢äºŒç»´ç </h2><p>é€šè¿‡åå°æ¥å£å¯ä»¥è·å–å°ç¨‹åºä»»æ„é¡µé¢çš„äºŒç»´ç ï¼Œæ‰«æè¯¥äºŒç»´ç å¯ä»¥ç›´æ¥è¿›å…¥å°ç¨‹åºå¯¹åº”çš„é¡µé¢Bug &amp; Tiptipï¼šé€šè¿‡è¯¥æ¥å£ï¼Œä»…èƒ½ç”Ÿæˆå·²å‘å¸ƒçš„å°ç¨‹åºçš„äºŒç»´ç ã€‚tipï¼šå¯ä»¥åœ¨å¼€å‘è€…å·¥å…·é¢„è§ˆæ—¶ç”Ÿæˆå¼€å‘ç‰ˆçš„å¸¦å‚äºŒç»´ç ã€‚tipï¼šç”ŸæˆäºŒç»´ç çš„æ€»æ•°ä¸é™ï¼Œä½†æ¥å£è°ƒç”¨æ¯å¤©ä¸Šé™ 100000 æ¬¡ï¼ˆå®˜æ–¹æ–‡æ¡£å†™çš„1ä¸‡ï¼Œæœ‰è¯¯ï¼Œæ˜¯10ä¸‡æ¬¡ï¼‰ã€‚<br><img src="https://user-gold-cdn.xitu.io/2018/8/4/16502e5b12cd4963?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p><p>ç¬¬ä¸‰æ–¹ç”Ÿæˆåœ°å€ï¼šï¼ˆå‡å¦‚æˆ‘ç†è§£æœ‰è¯¯ï¼Œä»¥ä¸‹å·¥å…·å¹¶éæ˜¯è¿™ä¸ªç”¨é€”ï¼Œè¯·åœ¨å›å¸–å†…æŒ‡å‡ºï¼‰</p><p>å¥½æ¨äºŒç»´ç ï¼šHotAppå¾®ä¿¡å°ç¨‹åºç»Ÿè®¡-å°ç¨‹åºå‚æ•°äºŒç»´ç ç”Ÿæˆå’Œç²¾å‡†ç»Ÿè®¡å¹³å°</p><p>è‰æ–™äºŒç»´ç ï¼šè‰æ–™å¾®ä¿¡å°ç¨‹åºå‚æ•°äºŒç»´ç ç”Ÿæˆå™¨</p><p>é˜¿æ‹‰ä¸äºŒç»´ç ï¼šé˜¿æ‹‰ä¸-äºŒç»´ç ç”Ÿæˆç‹</p><h2 id="ç›¸å…³è®¨è®º"><a href="#ç›¸å…³è®¨è®º" class="headerlink" title="ç›¸å…³è®¨è®º"></a>ç›¸å…³è®¨è®º</h2><h3 id="è®¨è®ºä¸€ï¼šå¸¦å‚äºŒç»´ç æ•°é‡é—®é¢˜"><a href="#è®¨è®ºä¸€ï¼šå¸¦å‚äºŒç»´ç æ•°é‡é—®é¢˜" class="headerlink" title="è®¨è®ºä¸€ï¼šå¸¦å‚äºŒç»´ç æ•°é‡é—®é¢˜"></a>è®¨è®ºä¸€ï¼šå¸¦å‚äºŒç»´ç æ•°é‡é—®é¢˜</h3><p>1ã€åœ¨å…¬ä¼—å¹³å°é¦–é¡µçš„é€šçŸ¥ä¸­è¯´æ˜¯é™åˆ¶1wä¸ª<br>2ã€é€šè¿‡æ¥å£è·å¾—å¸¦å‚æ•°äºŒç»´ç ã€‚æœ€å¤šå¯ç”Ÿæˆå¸¦å‚æ•°äºŒç»´ç 10000ä¸ªï¼Œè¯·è°¨æ…è°ƒç”¨ã€‚<br>å¯å‚è€ƒè°ƒç”¨æ–‡æ¡£ã€‚ä½†æ˜¯è°ƒç”¨æ–‡æ¡£é‡Œé¢å´åˆè¯´æ˜¯æ— æ•°ä¸ª<br>tipï¼šç”ŸæˆäºŒç»´ç çš„æ€»æ•°ä¸é™ï¼Œä½†æ¥å£è°ƒç”¨æ¯å¤©ä¸Šé™ 100000 æ¬¡ã€‚<br>é‚£ä¹ˆåˆ°åº•æ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿ<br>æ˜¯åªèƒ½ç”Ÿæˆ1wä¸ªï¼Œè¿˜æ˜¯æ¯å¤©åªèƒ½ç”Ÿæˆ1wä¸ªï¼Œè¿˜æ˜¯åªèƒ½ç”Ÿæˆ1wä¸ªå¹¶ä¸”æ¯å¤©åªèƒ½æ‰«ç è®¿é—®1wæ¬¡ï¼Ÿ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç”Ÿæˆçš„æ•°é‡æ— é™åˆ¶ï¼Œä½†æ˜¯æ¯å¤©åªèƒ½è°ƒç”¨æ¥å£100000æ¬¡ï¼›å¦å¤–ï¼Œæ‰«ç è®¿é—®æ¬¡æ•°ä¹Ÿæ²¡æœ‰é™åˆ¶ã€‚</span><br></pre></td></tr></table></figure></p><h3 id="è®¨è®ºäºŒï¼šè·å–é¡µé¢äºŒç»´ç çš„æ¥å£ï¼Œæ€ä¹ˆè€æ˜¯æç¤ºé”™è¯¯å•Š"><a href="#è®¨è®ºäºŒï¼šè·å–é¡µé¢äºŒç»´ç çš„æ¥å£ï¼Œæ€ä¹ˆè€æ˜¯æç¤ºé”™è¯¯å•Š" class="headerlink" title="è®¨è®ºäºŒï¼šè·å–é¡µé¢äºŒç»´ç çš„æ¥å£ï¼Œæ€ä¹ˆè€æ˜¯æç¤ºé”™è¯¯å•Š"></a>è®¨è®ºäºŒï¼šè·å–é¡µé¢äºŒç»´ç çš„æ¥å£ï¼Œæ€ä¹ˆè€æ˜¯æç¤ºé”™è¯¯å•Š</h3><p>ä»£ç ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wx.request(&#123; <span class="attr">url</span>: <span class="string">'https://api.weixin.qq.com/cgi-bin/wxaapp/createwxaqrcode?access_token='</span>+app.globalData.token,</span><br><span class="line"> data: &#123;<span class="string">'path'</span>: <span class="string">"/pages/my/my?uid=1"</span>,<span class="string">'width'</span>: <span class="number">430</span>&#125;,</span><br><span class="line"> header: &#123; <span class="string">'content-type'</span>: <span class="string">'application/json'</span> &#125;, </span><br><span class="line"> success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123; <span class="built_in">console</span>.log(res.data) &#125;, </span><br><span class="line"> fail:<span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">'isFail'</span>) &#125; </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>è¾“å‡ºçš„ç»“æœæ˜¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;errcode: 44002, errmsg: &quot;empty post data hint: [tB1Kha0354vr18]&quot;&#125;</span><br></pre></td></tr></table></figure></p><p>è¯´æ˜¯post data æ˜¯ç©ºçš„ï¼Œå“ªä½é«˜äººèƒ½å¸®å¿™è§£å†³ä¸‹ï¼Œå¤šè°¢äº†ï¼ï¼ï¼<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">é—®é¢˜è§£å†³äº†ï¼Œmethod: &quot;POST&quot;,åªèƒ½é€špostæ–¹å¼ä¼ å‚æ•°æ€ä¹ˆæ–‡æ¡£ä¹Ÿä¸è¯´æ¸…æ¥šï¼Ÿï¼Ÿï¼Ÿ</span><br></pre></td></tr></table></figure></p><h3 id="ç›¸å…³è®¨è®ºä¸‰ï¼šæœ‰å¤§ç¥-åšè¿‡-å°ç¨‹åº-äºŒç»´ç -è·å–å—"><a href="#ç›¸å…³è®¨è®ºä¸‰ï¼šæœ‰å¤§ç¥-åšè¿‡-å°ç¨‹åº-äºŒç»´ç -è·å–å—" class="headerlink" title="ç›¸å…³è®¨è®ºä¸‰ï¼šæœ‰å¤§ç¥ åšè¿‡ å°ç¨‹åº äºŒç»´ç  è·å–å—"></a>ç›¸å…³è®¨è®ºä¸‰ï¼šæœ‰å¤§ç¥ åšè¿‡ å°ç¨‹åº äºŒç»´ç  è·å–å—</h3><p>å°ç¨‹åº è·å–äºŒç»´ç  æ¥å£ 48001 æ— æƒé™<br><img src="https://user-gold-cdn.xitu.io/2018/8/4/16502e8edde54a7a?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¿…é¡»æ˜¯å·²ç»ä¸Šçº¿çš„å°ç¨‹åºæ‰å¯ä»¥è·å–äºŒç»´ç </span><br></pre></td></tr></table></figure></p><h3 id="ç›¸å…³è®¨è®ºå››ï¼šç”ŸæˆäºŒç»´ç æ¥å£é—®é¢˜"><a href="#ç›¸å…³è®¨è®ºå››ï¼šç”ŸæˆäºŒç»´ç æ¥å£é—®é¢˜" class="headerlink" title="ç›¸å…³è®¨è®ºå››ï¼šç”ŸæˆäºŒç»´ç æ¥å£é—®é¢˜"></a>ç›¸å…³è®¨è®ºå››ï¼šç”ŸæˆäºŒç»´ç æ¥å£é—®é¢˜</h3><p>ç”ŸæˆäºŒç»´ç æ¥å£é—®é¢˜ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;errcode&quot;:40159,&quot;errmsg&quot;:&quot;param path length invalid hint: [thH2ka0199vr23]&quot;&#125;</span><br></pre></td></tr></table></figure></p><p>ä½†é•¿åº¦ä¸è¶…ï¼ˆä¸”æ¯”è¾ƒçŸ­ï¼‰å’Œå†…å®¹éƒ½æ˜¯app.jsonå®šä¹‰å¥½çš„ï¼Œå°ç¨‹åºä¹Ÿæ­£å¼å‘å¸ƒäº†ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ‰¾åˆ°åŸå› äº†ï¼Œæ˜¯ä»¥jsonæ ¼å¼å‘è¿‡å»ã€‚</span><br></pre></td></tr></table></figure></p><h3 id="ç›¸å…³è®¨è®ºäº”ï¼šè¯·æ•™ä¸‹å„ä½ï¼Œæ€ä¹ˆæ ·èƒ½æŠŠç”Ÿæˆçš„äºŒç»´ç åœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºå‡ºæ¥-äºŒç»´ç æ˜¯åœ¨å‰ç«¯ç”Ÿæˆçš„"><a href="#ç›¸å…³è®¨è®ºäº”ï¼šè¯·æ•™ä¸‹å„ä½ï¼Œæ€ä¹ˆæ ·èƒ½æŠŠç”Ÿæˆçš„äºŒç»´ç åœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºå‡ºæ¥-äºŒç»´ç æ˜¯åœ¨å‰ç«¯ç”Ÿæˆçš„" class="headerlink" title="ç›¸å…³è®¨è®ºäº”ï¼šè¯·æ•™ä¸‹å„ä½ï¼Œæ€ä¹ˆæ ·èƒ½æŠŠç”Ÿæˆçš„äºŒç»´ç åœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºå‡ºæ¥ã€€äºŒç»´ç æ˜¯åœ¨å‰ç«¯ç”Ÿæˆçš„"></a>ç›¸å…³è®¨è®ºäº”ï¼šè¯·æ•™ä¸‹å„ä½ï¼Œæ€ä¹ˆæ ·èƒ½æŠŠç”Ÿæˆçš„äºŒç»´ç åœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºå‡ºæ¥ã€€äºŒç»´ç æ˜¯åœ¨å‰ç«¯ç”Ÿæˆçš„</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å‰ç«¯å“ªæœ‰äºŒç»´ç ï¼Œ äºŒç»´ç è¦ä¹ˆä½ è‡ªå·±åå°åšï¼Œè¦ä¹ˆå®˜æ–¹æ¥å£åšï¼Œéƒ½æ˜¯åå°çš„ï¼Œ</span><br><span class="line">å‘é€å‚æ•°å‡ºå»ï¼Œ è¯·æ±‚å›æ¥å¾—åˆ° å›¾ç‰‡urlï¼Œ ç”¨ä¸‹è½½apiï¼Œ</span><br><span class="line">æŠŠæ–‡ä»¶ä¸‹è½½ä¸‹æ¥å°±å¯ä»¥äº†ï¼›</span><br></pre></td></tr></table></figure><p>å‰ç«¯è°ƒç”¨createwxaqrcodeã€€å¯ä»¥è¿”å›æ•°æ®å•Šï¼Œå°±æ˜¯æ€ä¹ˆè½¬æˆå›¾ç‰‡ï¼Œè¿™ä¸ªæ˜¯åå°è¯·æ±‚å®˜æ–¹æ¥å£ï¼Œè¿”å›çš„å›¾ç‰‡ï¼›<br><img src="https://user-gold-cdn.xitu.io/2018/8/4/16502e8eddf4d2c5?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ä¸è¿‡ï¼Œä»–è¿”å›çš„ä¸æ˜¯å›¾ç‰‡ä¸‹è½½è·¯å¾„ï¼Œè€Œæ˜¯å°±æ˜¯ä¸€å¼ å›¾ç‰‡æ–‡ä»¶ï¼Œ </span><br><span class="line">ä½ å¾—ç”¨åå°ï¼Œä¸‹è½½è¿™å¼ å›¾ç‰‡ï¼Œè¿”å›ä½ æœåŠ¡å™¨è¿™è¡Œå›¾ç‰‡çš„è·¯å¾„ï¼Œ</span><br><span class="line">å†ä¸‹è½½åˆ°æ‰‹æœºäº†ï¼›</span><br></pre></td></tr></table></figure></p><h2 id="å¾®ä¿¡å°ç¨‹åºå‚æ•°äºŒç»´ç çš„åº”ç”¨åœºæ™¯"><a href="#å¾®ä¿¡å°ç¨‹åºå‚æ•°äºŒç»´ç çš„åº”ç”¨åœºæ™¯" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºå‚æ•°äºŒç»´ç çš„åº”ç”¨åœºæ™¯"></a>å¾®ä¿¡å°ç¨‹åºå‚æ•°äºŒç»´ç çš„åº”ç”¨åœºæ™¯</h2><p>å¾®ä¿¡å·²ç»æˆä¸ºäººä¸äººæ²Ÿé€šçš„é‡è¦å·¥å…·ï¼Œå¾®ä¿¡å°ç¨‹åºçš„å‡ºç°ï¼Œæ›´ä¾¿æ·åœ°å®ç°äº†äººä¸ç‰©ã€äººä¸æœåŠ¡çš„è¿æ¥ã€‚è€Œè¿™äº›è¿æ¥çš„é‡è¦å…¥å£ï¼Œå°±æ˜¯äºŒç»´ç ã€‚å¯ä»¥é¢„è§å¾ˆå¤šç†Ÿæ‚‰çš„åœºæ™¯ï¼šå½“ä½ åœ¨æ”¶è´¹åœè½¦åŒºåŸŸåœè½¦ï¼Œåªéœ€è¦ç”¨å¾®ä¿¡æ‰«ä¸€æ‰«åœè½¦ä½è¾¹ä¸Šå¯¹åº”çš„äºŒç»´ç ï¼Œå¯¹åº”çš„å°ç¨‹åºå°±ä¼šè‡ªåŠ¨è®¡ç®—ä½ åœ¨å“ªä¸ªä½ç½®åœäº†å¤šä¹…ï¼Œä½ åªéœ€è¦ç›´æ¥åœ¨å°ç¨‹åºä¸Šæ”¯ä»˜åœè½¦è´¹å³å¯ã€‚å½“ä½ åœ¨é¤å…ç‚¹é¤ï¼Œåªéœ€è¦ç”¨å¾®ä¿¡æ‰«ä¸€æ‰«å¯¹åº”æ¡Œå­ä¸Šçš„äºŒç»´ç ï¼Œå³å¯å®Œæˆç‚¹é¤ï¼ŒæœåŠ¡å‘˜å°±ä¼šæŠŠå¯¹åº”çš„é¤é£Ÿé€åˆ°ã€‚è€Œä½ å°±é¤å®Œæ¯•ï¼Œè¿˜å¯ä»¥ç›´æ¥ä¸€é”®æ”¯ä»˜é¤è´¹ï¼Œç”šè‡³å¯¹æœåŠ¡æ‰“åˆ†ã€‚å¾®ä¿¡å°ç¨‹åºæ¨å‡ºåï¼Œä»¥ä¸Šå„ç§æœåŠ¡åœºæ™¯ï¼Œæ­å»ºåœ¨å¾®ä¿¡å°ç¨‹åºä¸Šï¼Œå®ç°è¶Šæ¥è¶Šå¤šä¾¿åˆ©çš„åŠŸèƒ½ã€‚è¿™äº›åœºæ™¯çš„å®ç°ï¼Œä¸å†éœ€è¦ä¾é å¤æ‚çš„appï¼Œå°ç¨‹åºå’Œå¾®ä¿¡å…¬ä¼—å·è¿›è¡Œæ‰“é€šï¼Œå¿«é€Ÿå®ç°å„ç±»æœåŠ¡åŠŸèƒ½ã€‚è€Œä»¥ä¸Šåœºæ™¯çš„åº”ç”¨ï¼Œå…¥å£å°±æ˜¯â€œå¸¦å‚æ•°çš„å°ç¨‹åºäºŒç»´ç â€ã€‚å¯¹åº”çš„åœè½¦ä½ã€å¯¹åº”çš„é¤æ¡Œï¼Œå³å¯¹åº”å°ç¨‹åºçš„ç‰¹å®šé¡µé¢ï¼Œæ™ºèƒ½åŒ–åœ°æ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨å’Œæ“ä½œï¼Œè€ŒæœåŠ¡æä¾›è€…ï¼Œè¿˜å¯ä»¥å®æ—¶ç›‘æ§ä½¿ç”¨è¡Œä¸ºã€æ¸ é“æ•°æ®ç­‰ã€‚</p><h2 id="ä¸€æ­¥æ­¥è®°å½•è‡ªå·±çš„è¸©å‘å†ç¨‹-æˆ‘è¦åšåˆ°æˆ‘æŠ€æœ¯ä¸æ˜¯æœ€å¥½çš„ï¼Œä½†æˆ‘ç»™ä½ æ€»ç»“çš„å°ç¨‹åºçš„ä¸œè¥¿æ˜¯æœ€ç®€å•ç²—æš´çš„å“ˆå“ˆå“ˆ"><a href="#ä¸€æ­¥æ­¥è®°å½•è‡ªå·±çš„è¸©å‘å†ç¨‹-æˆ‘è¦åšåˆ°æˆ‘æŠ€æœ¯ä¸æ˜¯æœ€å¥½çš„ï¼Œä½†æˆ‘ç»™ä½ æ€»ç»“çš„å°ç¨‹åºçš„ä¸œè¥¿æ˜¯æœ€ç®€å•ç²—æš´çš„å“ˆå“ˆå“ˆ" class="headerlink" title="ä¸€æ­¥æ­¥è®°å½•è‡ªå·±çš„è¸©å‘å†ç¨‹~æˆ‘è¦åšåˆ°æˆ‘æŠ€æœ¯ä¸æ˜¯æœ€å¥½çš„ï¼Œä½†æˆ‘ç»™ä½ æ€»ç»“çš„å°ç¨‹åºçš„ä¸œè¥¿æ˜¯æœ€ç®€å•ç²—æš´çš„å“ˆå“ˆå“ˆ"></a>ä¸€æ­¥æ­¥è®°å½•è‡ªå·±çš„è¸©å‘å†ç¨‹~æˆ‘è¦åšåˆ°æˆ‘æŠ€æœ¯ä¸æ˜¯æœ€å¥½çš„ï¼Œä½†æˆ‘ç»™ä½ æ€»ç»“çš„å°ç¨‹åºçš„ä¸œè¥¿æ˜¯æœ€ç®€å•ç²—æš´çš„å“ˆå“ˆå“ˆ</h2><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a511249dd?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2018/8/4/16502e26580f2d94?imageView2/1/w/1080/h/320/q/85/format/webp/interlace/1&quot;&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯å¸¦å‚æ•°å°ç¨‹åºç ï¼Œæˆ‘ä»¬é¡¹ç›®é‡Œç”¨åˆ°çš„å°±æ˜¯ï¼Œèº«ä»½ä¸åŒå¸¦ä¸åŒå‚æ•°ï¼Œç„¶åè¯·æ±‚æ¥å£ã€‚ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;onLoad(options) &amp;#123;&lt;span class=&quot;comment&quot;&gt;//ç”¨æˆ·æˆæƒæ“ä½œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;options.db ? wx.setStorageSync(&lt;span class=&quot;string&quot;&gt;&#39;dbid&#39;&lt;/span&gt;, options.db) : &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;//åˆ†äº«åŠŸèƒ½é€»è¾‘&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wx.setStorageSync(&lt;span class=&quot;string&quot;&gt;&#39;scene&#39;&lt;/span&gt;, options.scene)&lt;span class=&quot;comment&quot;&gt;// è¿™é‡Œå°±æ˜¯ä»urlè·å–çš„çš„å‚æ•°ï¼Œå‘é€ç»™åç«¯å¤§å“¥ï¼Œç„¶åè®©ä»–å»è¯·æ±‚æ¥å£ç”Ÿæˆã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;utils.login(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.handleLogin.bind(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;),&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.handleReset.bind(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; card = wx.getStorageSync(&lt;span class=&quot;string&quot;&gt;&#39;UserCard&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;show = wx.getStorageSync(&lt;span class=&quot;string&quot;&gt;&#39;seller&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;db = wx.getStorageSync(&lt;span class=&quot;string&quot;&gt;&#39;dbid&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ifHave = &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(card.distribution_id!=&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ifHave = &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ifHave = &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.setData(&amp;#123;     &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        userId:card.user_id,     &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        dbShow:ifHave &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å…¶å®å¾ˆç®€å•ï¼Œä¸»è¦å½“æ—¶è°ƒè¯•çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªå‘æé†’ä¸€ä¸‹ã€‚å°ç¨‹åºç å”¤é†’çš„æ˜¯ä½ çº¿ä¸Šå‘å¸ƒè¿‡çš„å°ç¨‹åºï¼Œä¹Ÿæ€ªè‡ªå·±å½“æ—¶æ²¡æœ‰å¥½å¥½è¯»æ–‡æ¡£åƒçš„äºã€‚å“ˆå“ˆ ã€‚æ‰€ä»¥æˆ‘å°±æ€»ç»“äº†ä¸€ä¸‹ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="å¾®ä¿¡å°ç¨‹åº" scheme="https://www.jonathon.cn/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>Koa2+co-wechatå¿«é€Ÿæ­å»ºå¾®ä¿¡å…¬ä¼—å·æœåŠ¡å™¨é…ç½®</title>
    <link href="https://www.jonathon.cn/koa2.html"/>
    <id>https://www.jonathon.cn/koa2.html</id>
    <published>2018-07-24T12:53:12.000Z</published>
    <updated>2018-07-25T01:44:32.982Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://user-gold-cdn.xitu.io/2018/7/24/164cc7334b3042aa?imageView2/1/w/1080/h/320/q/85/format/webp/interlace/1"></p><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æˆ‘å¤šå˜´ï¼Œè¯´æˆ‘çŸ¥é“å¾®ä¿¡å…¬ä¼—å·çš„é…ç½®æµç¨‹ï¼Œç„¶åå…¬å¸åŸæ¥è´Ÿè´£å…¬ä¼—å·çš„äººç¦»èŒäº†ï¼Œè®©æˆ‘å…ˆç ”ç©¶ç„¶åå»æ•™åç«¯å¤§å“¥ï¼Œæˆ‘ä¹Ÿæ˜¯é†‰äº†ã€‚ä½†æ˜¯å¤šå­¦ä¸€ç§ä¸œè¥¿ï¼Œåˆä½•ä¹è€Œä¸ä¸ºå‘¢ã€‚æœ¬æ¥æˆ‘ä¹Ÿåœ¨å­¦ä¹  koa2ï¼Œæƒ³ç»™è‡ªå·±çš„å°ç¨‹åºå†™æ¥å£ã€‚äºæ˜¯å°±å¼€å§‹äº†è¸©å‘ä¹‹è·¯ï¼Œä¹Ÿæ„Ÿè°¢ç½‘ä¸Šå¾ˆå¤šå¤§ä½¬çš„åˆ†äº«ã€‚</p><h2 id="æœ¬åœ°å¼€å‘è°ƒè¯•ç¯å¢ƒæ­å»º"><a href="#æœ¬åœ°å¼€å‘è°ƒè¯•ç¯å¢ƒæ­å»º" class="headerlink" title="æœ¬åœ°å¼€å‘è°ƒè¯•ç¯å¢ƒæ­å»º"></a>æœ¬åœ°å¼€å‘è°ƒè¯•ç¯å¢ƒæ­å»º</h2><h3 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- MacOs</span><br><span class="line">- Node v8<span class="number">.9</span><span class="number">.1</span></span><br><span class="line">- Koa2</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘çš„åŸºæœ¬åŸç†"><a href="#å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘çš„åŸºæœ¬åŸç†" class="headerlink" title="å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘çš„åŸºæœ¬åŸç†"></a>å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘çš„åŸºæœ¬åŸç†</h3><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘çš„åŸºæœ¬åŸç†ï¼šåœ¨è¿›è¡Œå¾®ä¿¡å¼€å‘çš„æ—¶å€™,éœ€è¦åœ¨æˆ‘ä»¬åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šéƒ¨ç½²æœåŠ¡å¯¹å¾®ä¿¡æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚å¾®ä¿¡æœåŠ¡å™¨å°±ç›¸å½“äºä¸€ä¸ªè½¬å‘æœåŠ¡å™¨ã€‚ç»ˆç«¯ï¼ˆæ‰‹æœºã€Pad ç­‰ï¼‰å‘èµ·è¯·æ±‚è‡³å¾®ä¿¡æœåŠ¡å™¨ï¼Œå¾®ä¿¡æœåŠ¡å™¨ç„¶åå°†è¯·æ±‚è½¬å‘ç»™è‡ªå®šä¹‰æœåŠ¡ï¼ˆè¿™é‡Œå°±æ˜¯æˆ‘ä»¬çš„å…·ä½“å®ç°ï¼‰ã€‚æœåŠ¡å¤„ç†å®Œæ¯•ï¼Œç„¶åè½¬å‘ç»™å¾®ä¿¡æœåŠ¡å™¨ï¼Œå¾®ä¿¡æœåŠ¡å™¨å†å°†å…·ä½“å“åº”å›å¤åˆ°ç»ˆç«¯ï¼Œé€šä¿¡åè®®ä¸ºï¼šHTTPï¼›æ•°æ®æ ¼å¼ä¸ºï¼šXMLã€‚æˆ‘ä»¬çš„æœåŠ¡éœ€è¦åšçš„å°±æ˜¯å¯¹è¯·æ±‚åšå‡ºå“åº”ï¼Œè§£æ XML,è¿›è¡Œç›¸åº”çš„å¤„ç†åå†è¿”å›ç‰¹å®šçš„ XMLã€‚</p><h3 id="ngrok-å¾®ä¿¡æœ¬åœ°å¼€å‘"><a href="#ngrok-å¾®ä¿¡æœ¬åœ°å¼€å‘" class="headerlink" title="ngrok å¾®ä¿¡æœ¬åœ°å¼€å‘"></a>ngrok å¾®ä¿¡æœ¬åœ°å¼€å‘</h3><p>è¿™å„¿æˆ‘ä»¬äº†è§£åˆ°äº†æ¥å…¥å¾®ä¿¡å¼€å‘éœ€è¦ä¸€ä¸ªè‡ªå·±çš„å“åº”æœåŠ¡å™¨ï¼Œæˆ‘ä»¬å¯ä»¥è´­ä¹°æœåŠ¡å™¨æˆ–è€…æ–°æµªäº‘ç™¾åº¦äº‘ä¹‹ç±»çš„æœåŠ¡ã€‚ä½†æ˜¯åœ¨æˆ‘ä»¬å¼€å‘é˜¶æ®µè¿™æ ·åšæ˜¯å¾ˆéº»çƒ¦çš„ï¼Œæˆ‘ä»¬éœ€è¦æ­å»ºä¸€ä¸ªå¥½ç”¨çš„æœ¬åœ°è°ƒè¯•ç¯å¢ƒï¼Œå°†å†…ç½‘æ˜ å°„å‡ºå»ï¼Œè®©å¤–ç½‘èƒ½å¤Ÿè®¿é—®çš„ã€‚è¿™å„¿æ¨èä½¿ç”¨<a href="https://www.ngrok.cc/" target="_blank" rel="noopener">Ngrok</a>æœåŠ¡ã€‚winã€mac éƒ½èƒ½æ–¹ä¾¿ä½¿ç”¨ï¼Œè€Œä¸”ç¨³å®šï¼Œå¤–ç½‘åŸŸåæ˜¯å›ºå®šçš„ã€‚æ‰“å¼€å®ƒçš„ç½‘ç«™[<a href="http://www.ngrok.cc/]" target="_blank" rel="noopener">www.ngrok.cc/]</a>(<a href="https://www.ngrok.cc/æ³¨å†Œç™»å½•ç„¶åå¼€é€šéš§é“ã€‚åŒæ—¶ä½ éœ€è¦ä¸‹è½½ç›¸åº”çš„å®¢æˆ·ç«¯åœ¨winä¸­è¿™æ˜¯ä¸ªæ‰¹å¤„ç†æ–‡ä»¶ï¼Œè¿è¡Œå®ƒç„¶åå¡«å…¥ç›¸åº”çš„éš§é“idå›è½¦å³å¯ï¼Œåœ¨Macä¸‹è½½å®¢æˆ·ç«¯ç›®å½•ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ã€‚" target="_blank" rel="noopener">https://www.ngrok.cc/æ³¨å†Œç™»å½•ç„¶åå¼€é€šéš§é“ã€‚åŒæ—¶ä½ éœ€è¦ä¸‹è½½ç›¸åº”çš„å®¢æˆ·ç«¯åœ¨winä¸­è¿™æ˜¯ä¸ªæ‰¹å¤„ç†æ–‡ä»¶ï¼Œè¿è¡Œå®ƒç„¶åå¡«å…¥ç›¸åº”çš„éš§é“idå›è½¦å³å¯ï¼Œåœ¨Macä¸‹è½½å®¢æˆ·ç«¯ç›®å½•ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ã€‚</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./sunny clientid éš§é“id</span><br></pre></td></tr></table></figure><p><img src="https://user-gold-cdn.xitu.io/2018/7/24/164cc4570f22b25b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>è¿™é‡Œåœ¨ngrokå®˜ç½‘ä¸Šé…ç½®ç«¯å£è¦è®¾ç½®æˆ8080ï¼ˆè®¾ç½®æˆåˆ«çš„ä¼šé€ æˆtokenéªŒè¯å¤±è´¥ï¼‰</p><h2 id="åˆå§‹åŒ–é¡¹ç›®å¹¶å®‰è£…ä¾èµ–"><a href="#åˆå§‹åŒ–é¡¹ç›®å¹¶å®‰è£…ä¾èµ–" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®å¹¶å®‰è£…ä¾èµ–"></a>åˆå§‹åŒ–é¡¹ç›®å¹¶å®‰è£…ä¾èµ–</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir koa-wechat &amp;&amp; cd koa-wechat &amp;&amp; npm init -y</span><br><span class="line">$ npm i -S koa co-wechat</span><br></pre></td></tr></table></figure><p>æ¨è cnpm ä¸‹è½½</p><h2 id="ä¸šåŠ¡é€»è¾‘"><a href="#ä¸šåŠ¡é€»è¾‘" class="headerlink" title="ä¸šåŠ¡é€»è¾‘"></a>ä¸šåŠ¡é€»è¾‘</h2><p>æ–°å»º app.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//app.js</span></span><br><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">'koa'</span>);</span><br><span class="line"><span class="keyword">const</span> wechat = <span class="built_in">require</span>(<span class="string">'co-wechat'</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa();</span><br><span class="line">app.use(<span class="keyword">async</span>(ctx, next) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (ctx.path === <span class="string">'/wechat'</span>) &#123; <span class="comment">//è‡ªå®šä¹‰çš„è·¯ç”±ï¼Œå¾®ä¿¡åå°é…ç½®çš„url</span></span><br><span class="line">        <span class="keyword">await</span> next();      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        ctx.body = <span class="string">`Hello, koa2! Path is: <span class="subst">$&#123;ctx.path&#125;</span>`</span>;      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    app.use(wechat(&#123;      <span class="attr">token</span>: <span class="string">''</span>, <span class="comment">//å¾®ä¿¡åå°é…ç½®çš„token</span></span><br><span class="line">    appid: <span class="string">''</span>, <span class="comment">//å¾®ä¿¡å…¬ä¼—å·çš„appid</span></span><br><span class="line">    encodingAESKey: <span class="string">''</span> <span class="comment">//å¾®ä¿¡å…¬ä¼—å·çš„encodingAESKey&#125;));</span></span><br><span class="line">    app.listen(<span class="number">8080</span>); <span class="comment">//ç«¯å£è¦è·Ÿngroké‡Œé…ç½®çš„å¯¹åº”</span></span><br></pre></td></tr></table></figure><p>ç¡®è®¤ä»£ç é‡Œçš„å˜é‡åï¼Œå¯åŠ¨æœåŠ¡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node index.js</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿è¡Œ app.jsï¼Œå°†æœåŠ¡è·‘èµ·æ¥ï¼Œæµè§ˆå™¨æ‰“å¼€ localhost:8080 æˆ‘ä»¬å°†èƒ½å¤Ÿçœ‹è§è¿”å›äº† Hello, koa2! Path isã€‚è¿™å„¿æ¨èä½¿ç”¨ supervisorï¼Œå®ƒä¼šç›‘è§†ä½ å¯¹ä»£ç çš„æ”¹åŠ¨,å¹¶è‡ªåŠ¨é‡åŠ¨ Node</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g supervisor</span><br><span class="line">supervisor app.js</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±æ˜¯ç”¨å‰é¢è®²çš„ ngrok è¿›è¡Œå†…ç½‘è½¬å‘äº†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./sunny clientid éš§é“id</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å·²ç»ç¦»æˆåŠŸä¸€æ­¥ä¹‹é¥ã€‚</p><h2 id="æ¥å…¥å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘"><a href="#æ¥å…¥å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘" class="headerlink" title="æ¥å…¥å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘"></a>æ¥å…¥å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘</h2><h3 id="æ¥å…¥æµç¨‹"><a href="#æ¥å…¥æµç¨‹" class="headerlink" title="æ¥å…¥æµç¨‹"></a>æ¥å…¥æµç¨‹</h3><p>æ¥å…¥å¾®ä¿¡å…¬ä¼—å¹³å°å¼€å‘ï¼Œå¼€å‘è€…éœ€è¦æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤å®Œæˆï¼š1ã€å¡«å†™æœåŠ¡å™¨é…ç½® 2ã€éªŒè¯æœåŠ¡å™¨åœ°å€çš„æœ‰æ•ˆæ€§ 3ã€ä¾æ®æ¥å£æ–‡æ¡£å®ç°ä¸šåŠ¡é€»è¾‘æˆ‘ä»¬ç™»å½•å¾®ä¿¡å…¬ä¼—å¹³å°æ¥å£æµ‹è¯•å¸å·,ç™»å½•åå¡«å†™æ¥å£é…ç½®ä¿¡æ¯(ä½ çš„ url åœ°å€ä»¥åŠ token)ï¼Œè¿™æ—¶è‚¯å®šä¸èƒ½é…ç½®æˆåŠŸçš„ã€‚æˆ‘ä»¬éœ€è¦éªŒè¯æœåŠ¡å™¨åœ°å€çš„æœ‰æ•ˆæ€§ï¼Œå¼€å‘è€…æäº¤ä¿¡æ¯åï¼Œå¾®ä¿¡æœåŠ¡å™¨å°†å‘é€ GET è¯·æ±‚åˆ°å¡«å†™çš„æœåŠ¡å™¨åœ°å€ URL ä¸Šï¼ŒGET è¯·æ±‚æºå¸¦å‚æ•°å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><table><thead><tr><th>åç§°</th><th>å†…å®¹</th></tr></thead><tbody><tr><td>signature</td><td>å¾®ä¿¡åŠ å¯†ç­¾åï¼Œsignature ç»“åˆäº†å¼€å‘è€…å¡«å†™çš„ token å‚æ•°å’Œè¯·æ±‚ä¸­çš„ timestamp å‚æ•°ã€nonce å‚æ•°ã€‚</td></tr><tr><td>timestamp</td><td>æ—¶é—´æˆ³</td></tr><tr><td>nonce</td><td>éšæœºæ•°</td></tr><tr><td>echostr</td><td>éšæœºå­—ç¬¦ä¸²</td></tr></tbody></table><p>å¼€å‘è€…é€šè¿‡æ£€éªŒ signature å¯¹è¯·æ±‚è¿›è¡Œæ ¡éªŒã€‚è‹¥ç¡®è®¤æ­¤æ¬¡ GET è¯·æ±‚æ¥è‡ªå¾®ä¿¡æœåŠ¡å™¨ï¼ŒåŸæ ·è¿”å› echostr å‚æ•°å†…å®¹ï¼Œåˆ™æ¥å…¥ç”Ÿæ•ˆï¼Œæˆä¸ºå¼€å‘è€…æˆåŠŸï¼Œå¦åˆ™æ¥å…¥å¤±è´¥ã€‚åŠ å¯†/æ ¡éªŒæµç¨‹å¦‚ä¸‹ï¼š<br>å°† tokenã€timestampã€nonce ä¸‰ä¸ªå‚æ•°è¿›è¡Œå­—å…¸åºæ’åº<br>å°†ä¸‰ä¸ªå‚æ•°å­—ç¬¦ä¸²æ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œ sha1 åŠ å¯†<br>å¼€å‘è€…è·å¾—åŠ å¯†åçš„å­—ç¬¦ä¸²å¯ä¸ signature å¯¹æ¯”ï¼Œæ ‡è¯†è¯¥è¯·æ±‚æ¥æºäºå¾®ä¿¡</p><h4 id="å¹¸è¿çš„æ˜¯è¿™äº›äº‹-co-wechat-éƒ½å¸®æˆ‘ä»¬åšäº†ï½ï½ï½-é€ç»™ä½œè€…ä¸€æœµå°å‘å‘"><a href="#å¹¸è¿çš„æ˜¯è¿™äº›äº‹-co-wechat-éƒ½å¸®æˆ‘ä»¬åšäº†ï½ï½ï½-é€ç»™ä½œè€…ä¸€æœµå°å‘å‘" class="headerlink" title="å¹¸è¿çš„æ˜¯è¿™äº›äº‹ co-wechat éƒ½å¸®æˆ‘ä»¬åšäº†ï½ï½ï½ é€ç»™ä½œè€…ä¸€æœµå°å‘å‘"></a>å¹¸è¿çš„æ˜¯è¿™äº›äº‹ co-wechat éƒ½å¸®æˆ‘ä»¬åšäº†ï½ï½ï½ é€ç»™ä½œè€…ä¸€æœµå°å‘å‘</h4><p><img src="https://user-gold-cdn.xitu.io/2018/7/24/164cc52b60a170f3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p><p>è¿›å…¥æµ‹è¯•å·çš„é¡µé¢é‡æ–°æäº¤æ¥å£é…ç½®ä¿¡æ¯ï¼Œä½ å°†ä¼šçœ‹è§ä¸€ä¸ªä¸€é—ªè€Œè¿‡çš„é…ç½®æˆåŠŸè¿‡æç¤ºæ¡†ã€‚æ­å–œï¼Œè¿™æ ‡å¿—ç€ä½ æ­£å¼è·³è¿›äº†å¾®ä¿¡å¼€å‘çš„å‘äº†ã€‚</p><h2 id="github-åœ°å€"><a href="#github-åœ°å€" class="headerlink" title="github åœ°å€"></a>github åœ°å€</h2><p><a href="https://https://github.com/Jiyr0119/Koa2-co-wechat/" target="_blank" rel="noopener">github.com/Jiyr0119/Koâ€¦</a></p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p><a href="https://blog.csdn.net/zhaolandelong/article/details/79086077" target="_blank" rel="noopener">koa2 æ­å»º</a><br><a href="https://segmentfault.com/a/1190000014515495" target="_blank" rel="noopener">koa2 å…¬ä¼—å·å¼€å‘</a></p><h2 id="å°ç¨‹åº"><a href="#å°ç¨‹åº" class="headerlink" title="å°ç¨‹åº"></a>å°ç¨‹åº</h2><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a511249dd?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2018/7/24/164cc7334b3042aa?imageView2/1/w/1080/h/320/q/85/format/webp/interlace/1&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;æˆ‘å¤šå˜´ï¼Œè¯´æˆ‘çŸ¥é“å¾®ä¿¡å…¬ä¼—å·çš„é…ç½®æµç¨‹ï¼Œç„¶åå…¬å¸åŸæ¥è´Ÿè´£å…¬ä¼—å·çš„äººç¦»èŒäº†ï¼Œè®©æˆ‘å…ˆç ”ç©¶ç„¶åå»æ•™åç«¯å¤§å“¥ï¼Œæˆ‘ä¹Ÿæ˜¯é†‰äº†ã€‚ä½†æ˜¯å¤šå­¦ä¸€ç§ä¸œè¥¿ï¼Œåˆä½•ä¹è€Œä¸ä¸ºå‘¢ã€‚æœ¬æ¥æˆ‘ä¹Ÿåœ¨å­¦ä¹  koa2ï¼Œæƒ³ç»™è‡ªå·±çš„å°ç¨‹åºå†™æ¥å£ã€‚äºæ˜¯å°±å¼€å§‹äº†è¸©å‘ä¹‹è·¯ï¼Œä¹Ÿæ„Ÿè°¢ç½‘ä¸Šå¾ˆå¤šå¤§ä½¬çš„åˆ†äº«ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æœ¬åœ°å¼€å‘è°ƒè¯•ç¯å¢ƒæ­å»º&quot;&gt;&lt;a href=&quot;#æœ¬åœ°å¼€å‘è°ƒè¯•ç¯å¢ƒæ­å»º&quot; class=&quot;headerlink&quot; title=&quot;æœ¬åœ°å¼€å‘è°ƒè¯•ç¯å¢ƒæ­å»º&quot;&gt;&lt;/a&gt;æœ¬åœ°å¼€å‘è°ƒè¯•ç¯å¢ƒæ­å»º&lt;/h2&gt;&lt;h3 id=&quot;å¼€å‘ç¯å¢ƒ&quot;&gt;&lt;a href=&quot;#å¼€å‘ç¯å¢ƒ&quot; class=&quot;headerlink&quot; title=&quot;å¼€å‘ç¯å¢ƒ&quot;&gt;&lt;/a&gt;å¼€å‘ç¯å¢ƒ&lt;/h3&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- MacOs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- Node v8&lt;span class=&quot;number&quot;&gt;.9&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- Koa2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="å¿ƒå¾—åˆ†äº«" scheme="https://www.jonathon.cn/categories/%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="koa2" scheme="https://www.jonathon.cn/tags/koa2/"/>
    
      <category term="node.js" scheme="https://www.jonathon.cn/tags/node-js/"/>
    
      <category term="æœåŠ¡ç«¯" scheme="https://www.jonathon.cn/tags/%E6%9C%8D%E5%8A%A1%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>Markdown åŸºæœ¬ä½¿ç”¨æŒ‡å—</title>
    <link href="https://www.jonathon.cn/Markdown-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97.html"/>
    <id>https://www.jonathon.cn/Markdown-åŸºæœ¬ä½¿ç”¨æŒ‡å—.html</id>
    <published>2018-07-21T05:42:42.000Z</published>
    <updated>2018-07-21T06:03:07.201Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å¸¸ç”¨è¯­æ³•"><a href="#å¸¸ç”¨è¯­æ³•" class="headerlink" title="å¸¸ç”¨è¯­æ³•"></a>å¸¸ç”¨è¯­æ³•</h3><h4 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h4><blockquote><p>è¯­æ³•æ ¼å¼ï¼š<strong> â€˜#â€™+â€™ç©ºæ ¼â€™+â€™æ–‡æœ¬â€™ </strong></p></blockquote><h1 id="ä¸€çº§æ ‡é¢˜"><a href="#ä¸€çº§æ ‡é¢˜" class="headerlink" title="# ä¸€çº§æ ‡é¢˜"></a># ä¸€çº§æ ‡é¢˜</h1><h2 id="äºŒçº§æ ‡é¢˜"><a href="#äºŒçº§æ ‡é¢˜" class="headerlink" title="## äºŒçº§æ ‡é¢˜"></a>## äºŒçº§æ ‡é¢˜</h2><h3 id="ä¸‰çº§æ ‡é¢˜"><a href="#ä¸‰çº§æ ‡é¢˜" class="headerlink" title="### ä¸‰çº§æ ‡é¢˜"></a>### ä¸‰çº§æ ‡é¢˜</h3><h4 id="å››çº§æ ‡é¢˜"><a href="#å››çº§æ ‡é¢˜" class="headerlink" title="#### å››çº§æ ‡é¢˜"></a>#### å››çº§æ ‡é¢˜</h4><h5 id="äº”çº§æ ‡é¢˜"><a href="#äº”çº§æ ‡é¢˜" class="headerlink" title="##### äº”çº§æ ‡é¢˜"></a>##### äº”çº§æ ‡é¢˜</h5><h6 id="å…­çº§æ ‡é¢˜"><a href="#å…­çº§æ ‡é¢˜" class="headerlink" title="###### å…­çº§æ ‡é¢˜"></a>###### å…­çº§æ ‡é¢˜</h6><a id="more"></a><h4 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h4><blockquote><p>æ— åºåˆ—è¡¨è¯­æ³•æ ¼å¼ï¼š<strong> â€˜-â€˜ + â€˜ç©ºæ ¼â€™ ï¼‹ â€˜æ–‡æœ¬â€™ </strong></p></blockquote><ul><li>æ–‡æœ¬ä¸€</li><li>æ–‡æœ¬äºŒ</li><li>æ–‡æœ¬ä¸‰</li></ul><blockquote><p>æœ‰åºåˆ—è¡¨è¯­æ³•æ ¼å¼ï¼š<strong> â€˜æ•°å­—â€™ + â€˜.â€™ + â€˜ç©ºæ ¼â€™ + â€˜æ–‡æœ¬â€™ </strong></p></blockquote><ol><li>æ–‡æœ¬ä¸€</li><li>æ–‡æœ¬äºŒ</li><li>æ–‡æœ¬ä¸‰</li></ol><h4 id="é“¾æ¥å’Œå›¾ç‰‡"><a href="#é“¾æ¥å’Œå›¾ç‰‡" class="headerlink" title="é“¾æ¥å’Œå›¾ç‰‡"></a>é“¾æ¥å’Œå›¾ç‰‡</h4><p>åœ¨ Markdown ä¸­æ’å…¥é“¾æ¥ä¸éœ€è¦å…¶ä»–æŒ‰é’®ï¼Œä½ åªéœ€è¦ä½¿ç”¨<code>ï¼»æ˜¾ç¤ºæ–‡æœ¬ï¼½(é“¾æ¥åœ°å€)</code>è¿™æ ·çš„æ ¼å¼è¯­æ³•å³å¯ã€‚ä¾‹å¦‚ï¼š<br><a href="https://www.jonathon.cn">æˆ‘çš„åšå®¢</a><br>æ’å…¥å›¾ç‰‡çš„è¯­æ³•ä¸æ’å…¥é“¾æ¥çš„è¯­æ³•å¾ˆåƒï¼Œåªæ˜¯å‰é¢å¤šäº†ä¸€ä¸ª <code>!</code>.è¯­æ³•å¦‚ä¸‹ï¼š<br><code>![å›¾ç‰‡çš„æ ‡æ³¨](å›¾ç‰‡é“¾æ¥åœ°å€)</code></p><h4 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h4><blockquote><p>è¯­æ³•ï¼š<strong> â€˜&gt;â€™+â€™ç©ºæ ¼â€™+â€™æ–‡æœ¬â€™ </strong></p></blockquote><p>ä¾‹å¦‚ï¼š</p><blockquote><p>Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæ ¼å¼ä¸°å¯Œçš„HTMLé¡µé¢ã€‚</p></blockquote><h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><p>å¦‚ä¸‹æ˜¯ä»£ç æ®µçš„è¯­æ³•ï¼š</p><pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¿™æ˜¯ä»£ç æ®µ</span><br></pre></td></tr></table></figure></pre><p>ä¾‹å¦‚ï¼š</p><pre><code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubbleSort</span><span class="params">(alist)</span>:</span></span><br><span class="line"><span class="keyword">for</span> passnum <span class="keyword">in</span> range(len(alist)<span class="number">-1</span>,<span class="number">0</span>,<span class="number">-1</span>):</span><br><span class="line"><span class="comment">#print alist,passnum</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(passnum):</span><br><span class="line"><span class="keyword">if</span> alist[i]&gt;alist[i+<span class="number">1</span>]:</span><br><span class="line">temp = alist[i]</span><br><span class="line">alist[i] = alist[i+<span class="number">1</span>]</span><br><span class="line">alist[i+<span class="number">1</span>] = temp</span><br><span class="line"><span class="keyword">return</span> alist</span><br></pre></td></tr></table></figure></code></pre><h4 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h4><p><strong>Markdownã€€Extra</strong>ã€€è¡¨æ ¼è¯­æ³•ï¼š</p><table><thead><tr><th>é¡¹ç›®</th><th>ä»·æ ¼</th></tr></thead><tbody><tr><td>iPhone</td><td>$560</td></tr><tr><td>iPad</td><td>$780</td></tr><tr><td>iMac</td><td>$1000</td></tr></tbody></table><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">é¡¹ç›® | ä»·æ ¼</span><br><span class="line">-------- | ---</span><br><span class="line">iPhone | $<span class="number">560</span></span><br><span class="line">iPad | $<span class="number">780</span></span><br><span class="line">iMac | $<span class="number">1000</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨å†’å·æ¥å®šä¹‰å¯¹é½æ–¹å¼ï¼š</p><table><thead><tr><th style="text-align:left">é¡¹ç›®</th><th style="text-align:right">ä»·æ ¼</th><th style="text-align:center">æ•°é‡</th></tr></thead><tbody><tr><td style="text-align:left">iPhone</td><td style="text-align:right">6000 å…ƒ</td><td style="text-align:center">5</td></tr><tr><td style="text-align:left">iPad</td><td style="text-align:right">3800 å…ƒ</td><td style="text-align:center">12</td></tr><tr><td style="text-align:left">iMac</td><td style="text-align:right">10000 å…ƒ</td><td style="text-align:center">234</td></tr></tbody></table><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| é¡¹ç›® | ä»·æ ¼ | æ•°é‡ |</span><br><span class="line">| :-------- | --------:| :--: |</span><br><span class="line">| iPhone | <span class="number">6000</span> å…ƒ | <span class="number">5</span> |</span><br><span class="line">| iPad | <span class="number">3800</span> å…ƒ | <span class="number">12</span> |</span><br><span class="line">| iMac | <span class="number">10000</span> å…ƒ | <span class="number">234</span> |</span><br></pre></td></tr></table></figure><h4 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h4><p>ä»¥ä¸Šæ˜¯æœ€å¸¸è§çš„ Markdown çš„è¯­æ³•å’Œæ ¼å¼ï¼Œå¦‚æœä½ è¿˜å¸Œæœ›æ·±å…¥çš„å­¦ä¹  Markdownï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œ<a href="http://wowubuntu.com/markdown/" target="_blank" rel="noopener">Markdownè¯­æ³•</a>ï¼Œ</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å¸¸ç”¨è¯­æ³•&quot;&gt;&lt;a href=&quot;#å¸¸ç”¨è¯­æ³•&quot; class=&quot;headerlink&quot; title=&quot;å¸¸ç”¨è¯­æ³•&quot;&gt;&lt;/a&gt;å¸¸ç”¨è¯­æ³•&lt;/h3&gt;&lt;h4 id=&quot;æ ‡é¢˜&quot;&gt;&lt;a href=&quot;#æ ‡é¢˜&quot; class=&quot;headerlink&quot; title=&quot;æ ‡é¢˜&quot;&gt;&lt;/a&gt;æ ‡é¢˜&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;è¯­æ³•æ ¼å¼ï¼š&lt;strong&gt; â€˜#â€™+â€™ç©ºæ ¼â€™+â€™æ–‡æœ¬â€™ &lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;ä¸€çº§æ ‡é¢˜&quot;&gt;&lt;a href=&quot;#ä¸€çº§æ ‡é¢˜&quot; class=&quot;headerlink&quot; title=&quot;# ä¸€çº§æ ‡é¢˜&quot;&gt;&lt;/a&gt;# ä¸€çº§æ ‡é¢˜&lt;/h1&gt;&lt;h2 id=&quot;äºŒçº§æ ‡é¢˜&quot;&gt;&lt;a href=&quot;#äºŒçº§æ ‡é¢˜&quot; class=&quot;headerlink&quot; title=&quot;## äºŒçº§æ ‡é¢˜&quot;&gt;&lt;/a&gt;## äºŒçº§æ ‡é¢˜&lt;/h2&gt;&lt;h3 id=&quot;ä¸‰çº§æ ‡é¢˜&quot;&gt;&lt;a href=&quot;#ä¸‰çº§æ ‡é¢˜&quot; class=&quot;headerlink&quot; title=&quot;### ä¸‰çº§æ ‡é¢˜&quot;&gt;&lt;/a&gt;### ä¸‰çº§æ ‡é¢˜&lt;/h3&gt;&lt;h4 id=&quot;å››çº§æ ‡é¢˜&quot;&gt;&lt;a href=&quot;#å››çº§æ ‡é¢˜&quot; class=&quot;headerlink&quot; title=&quot;#### å››çº§æ ‡é¢˜&quot;&gt;&lt;/a&gt;#### å››çº§æ ‡é¢˜&lt;/h4&gt;&lt;h5 id=&quot;äº”çº§æ ‡é¢˜&quot;&gt;&lt;a href=&quot;#äº”çº§æ ‡é¢˜&quot; class=&quot;headerlink&quot; title=&quot;##### äº”çº§æ ‡é¢˜&quot;&gt;&lt;/a&gt;##### äº”çº§æ ‡é¢˜&lt;/h5&gt;&lt;h6 id=&quot;å…­çº§æ ‡é¢˜&quot;&gt;&lt;a href=&quot;#å…­çº§æ ‡é¢˜&quot; class=&quot;headerlink&quot; title=&quot;###### å…­çº§æ ‡é¢˜&quot;&gt;&lt;/a&gt;###### å…­çº§æ ‡é¢˜&lt;/h6&gt;
    
    </summary>
    
      <category term="å¿ƒå¾—åˆ†äº«" scheme="https://www.jonathon.cn/categories/%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="Markdown" scheme="https://www.jonathon.cn/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>Hexoåšå®¢ åŸŸåè§£æ+ä¸ªæ€§åŒ–æ•™ç¨‹ã€‚</title>
    <link href="https://www.jonathon.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B9%8B%E8%B7%AF.html"/>
    <id>https://www.jonathon.cn/Hexoåšå®¢æ­å»ºä¹‹è·¯.html</id>
    <published>2018-07-20T05:26:38.000Z</published>
    <updated>2018-07-23T08:56:41.441Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å…¨éƒ¨å†…å®¹æ˜¯åŸºäºnextä¸»é¢˜ã€‚</p><h2 id="èµ·æ­¥"><a href="#èµ·æ­¥" class="headerlink" title="èµ·æ­¥"></a>èµ·æ­¥</h2><p><a href="https://www.jianshu.com/p/189fd945f38f" target="_blank" rel="noopener">æ­å»ºä¸ªäººåšå®¢-hexo+githubè¯¦ç»†å®Œæ•´æ­¥éª¤</a><br>å¤§ç¥è¿™é‡Œå·²ç»å†™çš„å¾ˆæ¸…æ¥šäº†ï¼Œæˆ‘å°±ä¸ä¸€ä¸€èµ˜è¿°äº†ã€‚é€ç»™å¤§ç¥ä¸€æœµå°å‘å‘ï½</p><h2 id="åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®ç°fork-me-on-github"><a href="#åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®ç°fork-me-on-github" class="headerlink" title="åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®ç°fork me on github"></a>åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®ç°fork me on github</h2><p>ç‚¹å‡»<a href="http://tholman.com/github-corners/" target="_blank" rel="noopener">è¿™é‡Œ</a>æˆ–è€…<a href="https://blog.github.com/2008-12-19-github-ribbons/" target="_blank" rel="noopener">è¿™é‡Œ</a>æŒ‘é€‰è‡ªå·±å–œæ¬¢çš„æ ·å¼ï¼Œå¹¶å¤åˆ¶ä»£ç ã€‚ ä¾‹å¦‚ï¼Œæˆ‘æ˜¯å¤åˆ¶å¦‚ä¸‹ä»£ç ï¼š<br><a id="more"></a><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=<span class="string">"https://your-url"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"github-corner"</span> aria-label=<span class="string">"View source on Github"</span>&gt;&lt;svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"&gt;&lt;path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"&gt;&lt;/path&gt;&lt;path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"&gt;&lt;/path&gt;&lt;path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;style&gt;.github-corner:hover .octo-arm&#123;animation:octocat-wave 560ms ease-in-out&#125;@keyframes octocat-wave&#123;0%,100%&#123;transform:rotate(0)&#125;20%,60%&#123;transform:rotate(-25deg)&#125;40%,80%&#123;transform:rotate(10deg)&#125;&#125;@media (max-width:500px)&#123;.github-corner:hover .octo-arm&#123;animation:none&#125;.github-corner .octo-arm&#123;animation:octocat-wave 560ms ease-in-out&#125;&#125;&lt;/style&gt;</span><br></pre></td></tr></table></figure></p><p>ç„¶åç²˜è´´åˆšæ‰å¤åˆ¶çš„ä»£ç åˆ°themes/next/layout/_layout.swigæ–‡ä»¶ä¸­(æ”¾åœ¨<div class="headband"></div>çš„ä¸‹é¢)ï¼Œå¹¶æŠŠhrefæ”¹ä¸ºä½ çš„githubåœ°å€</p><h2 id="ä¿®æ”¹ä¾§è¾¹æ è‡ªå®šä¹‰ç½‘ç«™Icon"><a href="#ä¿®æ”¹ä¾§è¾¹æ è‡ªå®šä¹‰ç½‘ç«™Icon" class="headerlink" title="ä¿®æ”¹ä¾§è¾¹æ è‡ªå®šä¹‰ç½‘ç«™Icon"></a>ä¿®æ”¹ä¾§è¾¹æ è‡ªå®šä¹‰ç½‘ç«™Icon</h2><p>æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆ_config.ymlï¼‰ï¼Œæœç´¢social,åœ¨<a href="http://fontawesome.io/icons/" target="_blank" rel="noopener">å›¾æ ‡åº“</a>æ‰¾è‡ªå·±å–œæ¬¢çš„å°å›¾æ ‡ï¼Œå¹¶å°†åå­—å¤åˆ¶åœ¨å¦‚ä¸‹ä½ç½®ï¼Œä¿å­˜å³å¯<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  æ˜é‡‘: https:<span class="comment">//juejin.im/user/593624feb123db006435aaae || spinner</span></span><br><span class="line">  çŸ¥ä¹: https:<span class="comment">//www.zhihu.com/people/gao-jun-jie-87-18/activities || heartbeat</span></span><br></pre></td></tr></table></figure></p><h2 id="å®ç°ç‚¹å‡»å‡ºç°æ¡ƒå¿ƒæ•ˆæœ"><a href="#å®ç°ç‚¹å‡»å‡ºç°æ¡ƒå¿ƒæ•ˆæœ" class="headerlink" title="å®ç°ç‚¹å‡»å‡ºç°æ¡ƒå¿ƒæ•ˆæœ"></a>å®ç°ç‚¹å‡»å‡ºç°æ¡ƒå¿ƒæ•ˆæœ</h2><p>åœ¨ç½‘å€è¾“å…¥å¦‚ä¸‹<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//7u2ss1.com1.z0.glb.clouddn.com/love.js</span></span><br></pre></td></tr></table></figure></p><p>ç„¶åå°†é‡Œé¢çš„ä»£ç copyä¸€ä¸‹ï¼Œæ–°å»ºlove.jsæ–‡ä»¶å¹¶ä¸”å°†ä»£ç å¤åˆ¶è¿›å»ï¼Œç„¶åä¿å­˜ã€‚å°†love.jsæ–‡ä»¶æ”¾åˆ°è·¯å¾„/themes/next/source/js/srcé‡Œé¢ï¼Œç„¶åæ‰“å¼€\themes\next\layout_layout.swigæ–‡ä»¶,åœ¨æœ«å°¾ï¼ˆåœ¨å‰é¢å¼•ç”¨ä¼šå‡ºç°æ‰¾ä¸åˆ°çš„bugï¼‰æ·»åŠ ä»¥ä¸‹ä»£ç <br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒ --&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"/js/src/love.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p><h2 id="ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ"><a href="#ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ" class="headerlink" title="ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ"></a>ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ</h2><p>æ‰“å¼€\themes\next\source\css_custom\custom.styl,å‘é‡Œé¢åŠ å…¥ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ</span></span><br><span class="line"> .post &#123;</span><br><span class="line">   margin-top: <span class="number">60</span>px;</span><br><span class="line">   margin-bottom: <span class="number">60</span>px;</span><br><span class="line">   padding: <span class="number">25</span>px;</span><br><span class="line">   background: #fff;</span><br><span class="line">   -webkit-box-shadow: <span class="number">0</span> <span class="number">0</span> <span class="number">5</span>px rgba(<span class="number">202</span>, <span class="number">203</span>, <span class="number">203</span>, <span class="number">.5</span>);</span><br><span class="line">   -moz-box-shadow: <span class="number">0</span> <span class="number">0</span> <span class="number">5</span>px rgba(<span class="number">202</span>, <span class="number">203</span>, <span class="number">204</span>, <span class="number">.5</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><h2 id="åŸŸåè§£æ"><a href="#åŸŸåè§£æ" class="headerlink" title="åŸŸåè§£æ"></a>åŸŸåè§£æ</h2><p>åœ¨å·²ç»æ­å»ºå¥½gitpage+hexoçš„åšå®¢çš„å‰æä¸‹ï¼Œä¹°åŸŸåçš„æ­¥éª¤å°±ä¸è¯´äº†å“ˆã€‚</p><h3 id="è§£æDNS"><a href="#è§£æDNS" class="headerlink" title="è§£æDNS"></a>è§£æDNS</h3><p>è´­ä¹°å®ŒåŸŸåä¹‹åæˆ‘ä»¬éœ€è¦è§£æDNSåœ°å€ï¼Œåœ¨ç®¡ç†æ§åˆ¶å°ä¸­çš„å·¦ä¾§æœ‰åŸŸåé€‰é¡¹ï¼Œç„¶åæ‰¾åˆ°ä½ çš„åŸŸåï¼Œç‚¹å‡»åé¢çš„â€œè§£æâ€<br><img src="https://user-gold-cdn.xitu.io/2017/4/10/8e42a564bc7bfca393e0ac9c111f608a?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>ç‚¹å‡»æ·»åŠ è§£æï¼Œè®°å½•ç±»å‹é€‰Aæˆ–CNAMEï¼Œ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Aè®°å½•çš„è®°å½•å€¼å°±æ˜¯ipåœ°å€ï¼Œgithub(å®˜æ–¹æ–‡æ¡£)æä¾›äº†ä¸¤ä¸ªIPåœ°å€ï¼Œ192.30.252.153å’Œ192.30.252.154ï¼Œè¿™ä¸¤ä¸ªIPåœ°å€ä¸ºgithubçš„æœåŠ¡å™¨åœ°å€ï¼Œä¸¤ä¸ªéƒ½è¦å¡«ä¸Šï¼Œè§£æè®°å½•è®¾ç½®ä¸¤ä¸ªwwwå’Œ@ï¼Œçº¿è·¯å°±é»˜è®¤å°±è¡Œäº†ï¼ŒCNAMEè®°å½•å€¼å¡«ä½ çš„githubåšå®¢ç½‘å€ã€‚å¦‚æˆ‘çš„æ˜¯jiyr0119.github.ioã€‚</span><br></pre></td></tr></table></figure></p><h3 id="åœ¨hexoä¸­æ·»åŠ CNAMEæ–‡ä»¶"><a href="#åœ¨hexoä¸­æ·»åŠ CNAMEæ–‡ä»¶" class="headerlink" title="åœ¨hexoä¸­æ·»åŠ CNAMEæ–‡ä»¶"></a>åœ¨hexoä¸­æ·»åŠ CNAMEæ–‡ä»¶</h3><p>æ¥ä¸‹æ¥åœ¨ä½ çš„hexoæ–‡ä»¶å¤¹ä¸‹sourceæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªCNAMEæ–‡ä»¶,é‡Œé¢åŠ ä¸Šä½ åˆšåˆšè´­ä¹°çš„åŸŸåæ¯”å¦‚æˆ‘çš„jonathon.cn<br>ç„¶åä½ å°±å¯ä»¥hexo cleanï¼Œhexo gï¼Œhexo d å‘å¸ƒä½ çš„åšå®¢çœ‹çœ‹æ•ˆæœå•¦~</p><h2 id="å°ç¨‹åº"><a href="#å°ç¨‹åº" class="headerlink" title="å°ç¨‹åº"></a>å°ç¨‹åº</h2><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a511249dd?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p><a href="https://juejin.im/post/58eb2fd2a0bb9f006928f8c7" target="_blank" rel="noopener">hexoé«˜é˜¶æ•™ç¨‹</a><br><a href="http://shenzekun.cn/hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html" target="_blank" rel="noopener">hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–æ•™ç¨‹:æ‰“é€ ç‚«é…·ç½‘ç«™</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡å…¨éƒ¨å†…å®¹æ˜¯åŸºäºnextä¸»é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&quot;èµ·æ­¥&quot;&gt;&lt;a href=&quot;#èµ·æ­¥&quot; class=&quot;headerlink&quot; title=&quot;èµ·æ­¥&quot;&gt;&lt;/a&gt;èµ·æ­¥&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/189fd945f38f&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æ­å»ºä¸ªäººåšå®¢-hexo+githubè¯¦ç»†å®Œæ•´æ­¥éª¤&lt;/a&gt;&lt;br&gt;å¤§ç¥è¿™é‡Œå·²ç»å†™çš„å¾ˆæ¸…æ¥šäº†ï¼Œæˆ‘å°±ä¸ä¸€ä¸€èµ˜è¿°äº†ã€‚é€ç»™å¤§ç¥ä¸€æœµå°å‘å‘ï½&lt;/p&gt;
&lt;h2 id=&quot;åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®ç°fork-me-on-github&quot;&gt;&lt;a href=&quot;#åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®ç°fork-me-on-github&quot; class=&quot;headerlink&quot; title=&quot;åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®ç°fork me on github&quot;&gt;&lt;/a&gt;åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®ç°fork me on github&lt;/h2&gt;&lt;p&gt;ç‚¹å‡»&lt;a href=&quot;http://tholman.com/github-corners/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™é‡Œ&lt;/a&gt;æˆ–è€…&lt;a href=&quot;https://blog.github.com/2008-12-19-github-ribbons/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™é‡Œ&lt;/a&gt;æŒ‘é€‰è‡ªå·±å–œæ¬¢çš„æ ·å¼ï¼Œå¹¶å¤åˆ¶ä»£ç ã€‚ ä¾‹å¦‚ï¼Œæˆ‘æ˜¯å¤åˆ¶å¦‚ä¸‹ä»£ç ï¼š&lt;br&gt;
    
    </summary>
    
      <category term="åšå®¢æ­å»º" scheme="https://www.jonathon.cn/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
      <category term="å¿ƒå¾—åˆ†äº«" scheme="https://www.jonathon.cn/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="hexo" scheme="https://www.jonathon.cn/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>hexo seoä¼˜åŒ–</title>
    <link href="https://www.jonathon.cn/hexo-seo%E4%BC%98%E5%8C%96.html"/>
    <id>https://www.jonathon.cn/hexo-seoä¼˜åŒ–.html</id>
    <published>2018-07-19T03:25:46.000Z</published>
    <updated>2018-07-20T03:27:20.237Z</updated>
    
    <content type="html"><![CDATA[<p>SEO (Search Engine Optimization)ï¼Œå³æœç´¢å¼•æ“ä¼˜åŒ–ã€‚ç®€å•æ¥è¯´ï¼ŒSEOå°±æ˜¯æ‚¨å¯ä»¥ä½¿ç”¨æå‡ç½‘ç«™æ’åçš„æ‰€æœ‰æ–¹æ³•çš„æ€»ç§°ï¼ŒSEOç”¨äºç¡®ä¿æ‚¨çš„ç½‘ç«™åŠå…¶å†…å®¹åœ¨æœç´¢å¼•æ“ç»“æœé¡µé¢ï¼ˆSERPï¼‰ä¸Šçš„å¯è§æ€§ã€‚</p><h2 id="éªŒè¯ä½ çš„ç½‘ç«™-è®©ä½ åšå®¢è¢«æœç´¢å¼•æ“æ‰¾åˆ°"><a href="#éªŒè¯ä½ çš„ç½‘ç«™-è®©ä½ åšå®¢è¢«æœç´¢å¼•æ“æ‰¾åˆ°" class="headerlink" title="éªŒè¯ä½ çš„ç½‘ç«™(è®©ä½ åšå®¢è¢«æœç´¢å¼•æ“æ‰¾åˆ°)"></a>éªŒè¯ä½ çš„ç½‘ç«™(è®©ä½ åšå®¢è¢«æœç´¢å¼•æ“æ‰¾åˆ°)</h2><p>åœ¨è°·æ­Œæˆ–è€…ç™¾åº¦çš„æœç´¢é“¾æ¥ä¸­ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼å¯ä»¥ç›´æ¥æœç´¢è‡ªå·±çš„åŸŸåï¼Œ å¦‚æœèƒ½æœç´¢åˆ°å°±è¯´æ˜å·²ç»è¢«æ”¶å½•ï¼Œåä¹‹åˆ™æ²¡æœ‰ã€‚å¯ä»¥ç›´æ¥æœç´¢è‡ªå·±çš„åŸŸåï¼Œæˆ–è€…åŠ ä¸€äº›å…³é”®è¯æ¥æ›´å¥½åœ°åˆ¤æ–­ï¼Œä¾‹å¦‚ï¼š<br>site: <a href="https://www.jonathon.cn/">https://www.jonathon.cn/</a><br><a id="more"></a></p><h2 id="æäº¤æˆ‘ä»¬çš„ç½‘ç«™"><a href="#æäº¤æˆ‘ä»¬çš„ç½‘ç«™" class="headerlink" title="æäº¤æˆ‘ä»¬çš„ç½‘ç«™"></a>æäº¤æˆ‘ä»¬çš„ç½‘ç«™</h2><p>è‹¥æœªè¢«æœç´¢å¼•æ“æ”¶å½•ï¼Œåˆ™éœ€è¿›è¡Œä»¥ä¸‹é…ç½®ï¼Œé¦–å…ˆè¦è®©æœç´¢å¼•æ“å…ˆéªŒè¯æˆ‘ä»¬å¯¹ç½‘ç«™çš„æ‰€æœ‰æƒï¼Œä¸¤ä¸ªæœç´¢å¼•æ“æäº¤çš„å…¥å£åˆ†åˆ«ä¸ºï¼š<br><a href="https://www.google.com/webmasters/" target="_blank" rel="noopener">Google Search Console</a><br><a href="https://ziyuan.baidu.com/site/" target="_blank" rel="noopener">baidu</a><br>ç½‘ä¸Šæœ‰å¾ˆå¤šéªŒè¯æ–¹å¼ï¼Œä¸‹è½½htmléƒ¨ç½²çš„ã€‚<br>ä½†æ˜¯æˆ‘éªŒè¯çš„æ—¶å€™ï¼Œè€æ˜¯å¤±è´¥ã€‚<br>æˆ‘å°±é€‰æ‹©äº†metaæ ‡ç­¾éªŒè¯æ–¹å¼<br>æ‰“å¼€ themes/next/layout/_partials/head/head.swig æ·»åŠ ä¸¤è¡Œæ ‡ç­¾å°±å¯ä»¥äº†ã€‚ä¹Ÿæ˜¯å¾ˆæ–¹ä¾¿çš„ï½<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=<span class="string">"baidu-site-verification"</span> content=<span class="string">"your code"</span> /&gt;</span><br><span class="line">&lt;meta name=<span class="string">"google-site-verification"</span> content=<span class="string">"your code"</span> /&gt;</span><br><span class="line">ç„¶åæ‰§è¡Œ hexo éƒ¨ç½²å‘½ä»¤</span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure></p><p>æœ€åè¿”å›éªŒè¯é¡µé¢ï¼Œå°±å¯ä»¥æŸ¥çœ‹éªŒè¯æ˜¯å¦é€šè¿‡äº†</p><h2 id="Sitemap"><a href="#Sitemap" class="headerlink" title="Sitemap"></a>Sitemap</h2><p>Sitemapå³ç½‘ç«™åœ°å›¾ï¼Œå®ƒçš„ä½œç”¨åœ¨äºä¾¿äºæœç´¢å¼•æ“æ›´åŠ æ™ºèƒ½åœ°æŠ“å–ç½‘ç«™ã€‚æœ€ç®€å•å’Œå¸¸è§çš„sitemapå½¢å¼ï¼Œæ˜¯XMLæ–‡ä»¶ï¼Œåœ¨å…¶ä¸­åˆ—å‡ºç½‘ç«™ä¸­çš„ç½‘å€ä»¥åŠå…³äºæ¯ä¸ªç½‘å€çš„å…¶ä»–å…ƒæ•°æ®</p><h3 id="å®‰è£…sitemapç”Ÿæˆæ’ä»¶"><a href="#å®‰è£…sitemapç”Ÿæˆæ’ä»¶" class="headerlink" title="å®‰è£…sitemapç”Ÿæˆæ’ä»¶"></a>å®‰è£…sitemapç”Ÿæˆæ’ä»¶</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><h3 id="ç¼–è¾‘ç«™ç‚¹ç›®å½•ä¸‹çš„-config-ymlï¼Œæ·»åŠ ä¸€ä¸‹å­—æ®µ"><a href="#ç¼–è¾‘ç«™ç‚¹ç›®å½•ä¸‹çš„-config-ymlï¼Œæ·»åŠ ä¸€ä¸‹å­—æ®µ" class="headerlink" title="ç¼–è¾‘ç«™ç‚¹ç›®å½•ä¸‹çš„_config.ymlï¼Œæ·»åŠ ä¸€ä¸‹å­—æ®µ"></a>ç¼–è¾‘ç«™ç‚¹ç›®å½•ä¸‹çš„_config.ymlï¼Œæ·»åŠ ä¸€ä¸‹å­—æ®µ</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#hexo sitemap</span><br><span class="line">sitemap:</span><br><span class="line">  path: sitemap.xml</span><br><span class="line">baidusitemap:</span><br><span class="line">  path: baidusitemap.xml</span><br><span class="line">  ä¹‹ååœ¨æ‰§è¡Œ hexo g åï¼Œ publicç›®å½•ä¸‹å‘ç°ç”Ÿæˆäº† sitemap.xmlå’Œbaidusitemap.xml å°±è¡¨ç¤ºé…ç½®æˆåŠŸäº†ã€‚</span><br></pre></td></tr></table></figure><h3 id="æäº¤sitemap"><a href="#æäº¤sitemap" class="headerlink" title="æäº¤sitemap"></a>æäº¤sitemap</h3><h4 id="å‘è°·æ­Œæäº¤"><a href="#å‘è°·æ­Œæäº¤" class="headerlink" title="å‘è°·æ­Œæäº¤"></a>å‘è°·æ­Œæäº¤</h4><p>å‘è°·æ­Œæäº¤ sitemap æ¯”è¾ƒç®€å•ï¼Œç™»å½• <a href="https://www.google.com/webmasters/" target="_blank" rel="noopener">Google Search Console</a> ï¼Œé€‰æ‹©å·²ç»éªŒè¯è¿‡çš„ç«™ç‚¹ï¼Œåœ¨æŠ“å– -&gt; ç«™ç‚¹åœ°å›¾ ä¸­ï¼Œå³ä¸Šè§’å¯çœ‹åˆ° æ·»åŠ  / æµ‹è¯•ç«™ç‚¹åœ°å›¾ï¼Œæ·»åŠ  sitemap.xml çš„é“¾æ¥å³å¯ï¼Œè°·æ­Œæ•ˆç‡è¾ƒé«˜ï¼Œä¸€èˆ¬å½“å¤©æˆ–è€…ç¬¬äºŒå¤©å°±èƒ½æœåˆ°å¾®åšäº†ã€‚å¦‚å›¾ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/6210783-db1d1482aaa09886.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700"></p><h4 id="å‘ç™¾åº¦æäº¤"><a href="#å‘ç™¾åº¦æäº¤" class="headerlink" title="å‘ç™¾åº¦æäº¤"></a>å‘ç™¾åº¦æäº¤</h4><p>ä¸è°·æ­Œç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å‘ç™¾åº¦äº¤ sitemapï¼Œç™»å½• <a href="https://ziyuan.baidu.com/" target="_blank" rel="noopener">ç™¾åº¦ç«™é•¿å¹³å°</a>ï¼Œç‚¹å‡» ç½‘é¡µæŠ“å–-&gt; é“¾æ¥æäº¤ï¼Œåœ¨ è‡ªåŠ¨æäº¤ä¸­é€‰æ‹© sitemapï¼Œè¾“å…¥è‡ªå·±çš„åŸŸååŠ  baidusitemap.xml å³å¯ï¼Œä¹‹åå¯æŸ¥çœ‹ url æå–æ˜¯å¦æˆåŠŸã€‚<br>ç”±äº GitHub å±è”½äº†ç™¾åº¦çš„çˆ¬è™«ï¼Œå³ä½¿æäº¤æˆåŠŸï¼Œç™¾åº¦çŸ¥é“è¿™é‡Œæœ‰å¯ä¾›æŠ“å–çš„é“¾æ¥ï¼Œä¹Ÿä¸ä¸€å®šèƒ½æŠ“å–æˆåŠŸã€‚ é¦–å…ˆæˆ‘ä»¬å…ˆæ£€æµ‹ä¸€ä¸‹ç™¾åº¦çˆ¬è™«æ˜¯å¦å¯ä»¥æŠ“å–ç½‘é¡µã€‚åœ¨ç™¾åº¦ç«™é•¿å¹³å°ç½‘é¡µæŠ“å–-&gt;æŠ“å–è¯Šæ–­ ä¸­ï¼Œé€‰æ‹©PC UAç‚¹å‡»æŠ“å– , æŸ¥çœ‹æŠ“å–çŠ¶æ€ï¼Œ å¦‚æœæ˜¾ç¤º æŠ“å–å¤±è´¥ï¼Œ åˆ™éœ€è¦è¿›ä¸€æ­¥çš„é…ç½®ã€‚</p><h5 id="æ¨é€æ–¹å¼"><a href="#æ¨é€æ–¹å¼" class="headerlink" title="æ¨é€æ–¹å¼"></a>æ¨é€æ–¹å¼</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å¦‚ä½•é€‰æ‹©é“¾æ¥æäº¤æ–¹å¼</span><br><span class="line"><span class="number">1</span>ã€ä¸»åŠ¨æ¨é€ï¼šæœ€ä¸ºå¿«é€Ÿçš„æäº¤æ–¹å¼ï¼Œæ¨èæ‚¨å°†ç«™ç‚¹å½“å¤©æ–°äº§å‡ºé“¾æ¥ç«‹å³é€šè¿‡æ­¤æ–¹å¼æ¨é€ç»™ç™¾åº¦ï¼Œä»¥ä¿è¯æ–°é“¾æ¥å¯ä»¥åŠæ—¶è¢«ç™¾åº¦æ”¶å½•ã€‚</span><br><span class="line"><span class="number">2</span>ã€è‡ªåŠ¨æ¨é€ï¼šæœ€ä¸ºä¾¿æ·çš„æäº¤æ–¹å¼ï¼Œè¯·å°†è‡ªåŠ¨æ¨é€çš„ JS ä»£ç éƒ¨ç½²åœ¨ç«™ç‚¹çš„æ¯ä¸€ä¸ªé¡µé¢æºä»£ç ä¸­ï¼Œéƒ¨ç½²ä»£ç çš„é¡µé¢åœ¨æ¯æ¬¡è¢«æµè§ˆæ—¶ï¼Œé“¾æ¥ä¼šè¢«è‡ªåŠ¨æ¨é€ç»™ç™¾åº¦ã€‚å¯ä»¥ä¸ä¸»åŠ¨æ¨é€é…åˆä½¿ç”¨ã€‚</span><br><span class="line"><span class="number">3</span>ã€sitemapï¼šæ‚¨å¯ä»¥å®šæœŸå°†ç½‘ç«™é“¾æ¥æ”¾åˆ° sitemap ä¸­ï¼Œç„¶åå°† sitemap æäº¤ç»™ç™¾åº¦ã€‚ç™¾åº¦ä¼šå‘¨æœŸæ€§çš„æŠ“å–æ£€æŸ¥æ‚¨æäº¤çš„ sitemapï¼Œå¯¹å…¶ä¸­çš„é“¾æ¥è¿›è¡Œå¤„ç†ï¼Œä½†æ”¶å½•é€Ÿåº¦æ…¢äºä¸»åŠ¨æ¨é€ã€‚</span><br><span class="line"><span class="number">4</span>ã€æ‰‹åŠ¨æäº¤ï¼šä¸€æ¬¡æ€§æäº¤é“¾æ¥ç»™ç™¾åº¦ï¼Œå¯ä»¥ä½¿ç”¨æ­¤ç§æ–¹å¼</span><br><span class="line">next ä¸»é¢˜å·²ç»éƒ¨ç½²äº†è‡ªåŠ¨æ¨é€çš„ä»£ç ï¼Œæˆ‘ä»¬åªéœ€åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ ä¸­æ‰¾åˆ° baidu_push å­—æ®µ , è®¾ç½®å…¶ä¸º <span class="literal">true</span> å³å¯ã€‚</span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ robots-txt"><a href="#æ·»åŠ robots-txt" class="headerlink" title="æ·»åŠ robots.txt"></a>æ·»åŠ robots.txt</h2><p>robots.txtï¼ˆç»Ÿä¸€å°å†™ï¼‰æ˜¯ä¸€ç§å­˜æ”¾äºç½‘ç«™æ ¹ç›®å½•ä¸‹çš„ASCIIç¼–ç çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒçš„ä½œç”¨æ˜¯å‘Šè¯‰æœç´¢å¼•æ“æ­¤ç½‘ç«™ä¸­å“ªäº›å†…å®¹æ˜¯å¯ä»¥è¢«çˆ¬å–çš„ï¼Œå“ªäº›æ˜¯ç¦æ­¢çˆ¬å–çš„ã€‚<br>åœ¨ source ç›®å½•ä¸‹å¢åŠ  rebots.txt æ–‡ä»¶ï¼Œç½‘ç«™ç”Ÿæˆååœ¨ç½‘ç«™çš„æ ¹ç›®å½•(ç«™ç‚¹ç›®å½•/public/)ä¸‹ã€‚<br>ï¼ˆè¯·å°†åŸŸåæ”¹ä¸ºè‡ªå·±çš„ç½‘ç«™ï¼‰<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Allow: <span class="regexp">/</span></span><br><span class="line"><span class="regexp">Allow: /</span>archives/</span><br><span class="line">Allow: <span class="regexp">/categories/</span></span><br><span class="line">Allow: <span class="regexp">/tags/</span></span><br><span class="line"></span><br><span class="line">Disallow: <span class="regexp">/vendors/</span></span><br><span class="line">Disallow: <span class="regexp">/js/</span></span><br><span class="line">Disallow: <span class="regexp">/css/</span></span><br><span class="line">Disallow: <span class="regexp">/fonts/</span></span><br><span class="line">Disallow: <span class="regexp">/vendors/</span></span><br><span class="line">Disallow: <span class="regexp">/fancybox/</span></span><br><span class="line"></span><br><span class="line">Sitemap: https:<span class="comment">//ä½ çš„åŸŸå/sitemap.xml</span></span><br><span class="line">Sitemap: https:<span class="comment">//ä½ çš„åŸŸå/baidusitemap.xml</span></span><br></pre></td></tr></table></figure></p><p>Allowè¡¨ç¤ºå…è®¸è¢«è®¿é—®çš„ï¼ŒDisallowæ˜¯ä¸å…è®¸çš„æ„æ€ã€‚æ³¨æ„åé¢ä¸¤ä¸ªSitemapå°±æ˜¯ç½‘ç«™åœ°å›¾äº†ã€‚è€Œç½‘ç«™åœ°å›¾å‰é¢è¯´äº†æ˜¯ç»™çˆ¬è™«ç”¨çš„ã€‚è¿™é‡Œé…ç½®åœ¨robotsä¸­ã€‚</p><h2 id="Nextä¸»é¢˜è‡ªå¸¦SEOä¼˜åŒ–é€‰é¡¹"><a href="#Nextä¸»é¢˜è‡ªå¸¦SEOä¼˜åŒ–é€‰é¡¹" class="headerlink" title="Nextä¸»é¢˜è‡ªå¸¦SEOä¼˜åŒ–é€‰é¡¹"></a>Nextä¸»é¢˜è‡ªå¸¦SEOä¼˜åŒ–é€‰é¡¹</h2><p>ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlä¸­æœ‰ä¸ªé€‰é¡¹æ˜¯seoï¼Œé»˜è®¤æ˜¯falseï¼Œæ”¹æˆtrue å³å¼€å¯äº†seoä¼˜åŒ–ï¼Œå¦‚æ”¹å˜åšæ–‡titleç­‰ï¼Œç„¶åç›¸åŒæ–‡ä»¶ä¸‹æœ‰ä¸ªå…³é”®å­—é€‰é¡¹keywordså¡«å……ä¸Šï¼Œå†™åšæ–‡æ—¶æœ€å¥½æ¯ç¯‡åšæ–‡éƒ½åŠ ä¸Škeywordsã€‚hexoçš„æ ¹ç›®å½•é…ç½®æ–‡ä»¶_config.ymlä¸­titleã€subtitleå’Œdescriptionä¹Ÿå»ºè®®å¡«ä¸Šã€‚</p><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p><a href="https://juejin.im/post/590b451a0ce46300588c43a0" target="_blank" rel="noopener">hexoé«˜é˜¶æ•™ç¨‹ï¼šæ•™ä½ æ€ä¹ˆè®©ä½ çš„hexoåšå®¢åœ¨æœç´¢å¼•æ“ä¸­æ’ç¬¬ä¸€</a><br><a href="http://www.jning.xin/" target="_blank" rel="noopener">Hexoåšå®¢ä¹‹åç»­SEOä¼˜åŒ–</a><br><a href="http://www.yuan-ji.me/Hexo-%E4%BC%98%E5%8C%96%EF%BC%9A%E6%8F%90%E4%BA%A4sitemap%E5%8F%8A%E8%A7%A3%E5%86%B3%E7%99%BE%E5%BA%A6%E7%88%AC%E8%99%AB%E6%8A%93%E5%8F%96-GitHub-Pages-%E9%97%AE%E9%A2%98/" target="_blank" rel="noopener">æäº¤ sitemap åŠè§£å†³ç™¾åº¦çˆ¬è™«æ— æ³•æŠ“å– GitHub Pages é“¾æ¥é—®é¢˜</a><br><a href="https://fedoryx.github.io/Hexo-%E5%8D%9A%E5%AE%A2%E6%90%9C%E7%B4%A2-SEO-%E4%BC%98%E5%8C%96-%E8%B0%B7%E6%AD%8C%E7%AF%87/" target="_blank" rel="noopener">Hexo åšå®¢æœç´¢ SEO ä¼˜åŒ– â€“ è°·æ­Œç¯‡</a></p><h2 id="å°ç¨‹åº"><a href="#å°ç¨‹åº" class="headerlink" title="å°ç¨‹åº"></a>å°ç¨‹åº</h2><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a511249dd?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;SEO (Search Engine Optimization)ï¼Œå³æœç´¢å¼•æ“ä¼˜åŒ–ã€‚ç®€å•æ¥è¯´ï¼ŒSEOå°±æ˜¯æ‚¨å¯ä»¥ä½¿ç”¨æå‡ç½‘ç«™æ’åçš„æ‰€æœ‰æ–¹æ³•çš„æ€»ç§°ï¼ŒSEOç”¨äºç¡®ä¿æ‚¨çš„ç½‘ç«™åŠå…¶å†…å®¹åœ¨æœç´¢å¼•æ“ç»“æœé¡µé¢ï¼ˆSERPï¼‰ä¸Šçš„å¯è§æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;éªŒè¯ä½ çš„ç½‘ç«™-è®©ä½ åšå®¢è¢«æœç´¢å¼•æ“æ‰¾åˆ°&quot;&gt;&lt;a href=&quot;#éªŒè¯ä½ çš„ç½‘ç«™-è®©ä½ åšå®¢è¢«æœç´¢å¼•æ“æ‰¾åˆ°&quot; class=&quot;headerlink&quot; title=&quot;éªŒè¯ä½ çš„ç½‘ç«™(è®©ä½ åšå®¢è¢«æœç´¢å¼•æ“æ‰¾åˆ°)&quot;&gt;&lt;/a&gt;éªŒè¯ä½ çš„ç½‘ç«™(è®©ä½ åšå®¢è¢«æœç´¢å¼•æ“æ‰¾åˆ°)&lt;/h2&gt;&lt;p&gt;åœ¨è°·æ­Œæˆ–è€…ç™¾åº¦çš„æœç´¢é“¾æ¥ä¸­ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼å¯ä»¥ç›´æ¥æœç´¢è‡ªå·±çš„åŸŸåï¼Œ å¦‚æœèƒ½æœç´¢åˆ°å°±è¯´æ˜å·²ç»è¢«æ”¶å½•ï¼Œåä¹‹åˆ™æ²¡æœ‰ã€‚å¯ä»¥ç›´æ¥æœç´¢è‡ªå·±çš„åŸŸåï¼Œæˆ–è€…åŠ ä¸€äº›å…³é”®è¯æ¥æ›´å¥½åœ°åˆ¤æ–­ï¼Œä¾‹å¦‚ï¼š&lt;br&gt;site: &lt;a href=&quot;https://www.jonathon.cn/&quot;&gt;https://www.jonathon.cn/&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="åšå®¢æ­å»º" scheme="https://www.jonathon.cn/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
      <category term="å¿ƒå¾—åˆ†äº«" scheme="https://www.jonathon.cn/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="hexo" scheme="https://www.jonathon.cn/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Vueå®æˆ˜æŠ€å·§</title>
    <link href="https://www.jonathon.cn/Vue%E5%AE%9E%E6%88%98%E6%8A%80%E5%B7%A7.html"/>
    <id>https://www.jonathon.cn/Vueå®æˆ˜æŠ€å·§.html</id>
    <published>2018-07-18T09:14:08.000Z</published>
    <updated>2018-07-18T12:23:02.528Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Vue-åœ¨methodsä¸­ä½¿ç”¨filterçš„æ–¹æ³•"><a href="#Vue-åœ¨methodsä¸­ä½¿ç”¨filterçš„æ–¹æ³•" class="headerlink" title="Vue åœ¨methodsä¸­ä½¿ç”¨filterçš„æ–¹æ³•"></a>Vue åœ¨methodsä¸­ä½¿ç”¨filterçš„æ–¹æ³•</h2><p>éœ€æ±‚æ˜¯ è¦æ ¼å¼åŒ–é“¶è¡Œå¡ æˆ‘ä»¬é¡¹ç›®ç”¨äº†ä¸€ä¸ªuiç»„ä»¶åº“<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼—æ‰€å‘¨çŸ¥ filter æ˜¯å¯ä»¥åœ¨domé‡Œé¢çš„ ä½†æ˜¯éœ€æ±‚å°±æ˜¯å„ç§ä¸ªæ · å”‰</span></span><br><span class="line">&lt;span&gt;(&#123;&#123;item.bdactp | cardtpFilter&#125;&#125;)&lt;<span class="regexp">/span&gt;&lt;/</span>p&gt; </span><br><span class="line"></span><br><span class="line">&lt;popup-picker title=<span class="string">"å¡å·"</span> @on-change=<span class="string">"handleBankCard"</span> :data=<span class="string">"cardList"</span> v-model=<span class="string">"cardNumber"</span>&gt;&lt;/popup-picker&gt;</span><br></pre></td></tr></table></figure></p><p>äºæ˜¯æ‰¾åˆ°äº†ä¸€ä¸ªæ–¹æ³•<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$options.filters[filter](...args)   <span class="comment">//è¿™ç§æ–¹æ³•å¾ˆç®€å•,ä¹Ÿå¾ˆå®ç”¨</span></span><br><span class="line"><span class="comment">//å®è·µ</span></span><br><span class="line">bankList.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">      arr.push(<span class="keyword">this</span>.$options.filters[<span class="string">'cardnoFilter'</span>](item.bdacct));<span class="comment">// å¦‚æœè¦åœ¨methodsé‡Œé¢ç”¨filterçš„æ–¹æ³• è¿™æ ·å†™</span></span><br><span class="line">      <span class="keyword">this</span>.telNum = item.phonno;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></p><a id="more"></a><h2 id="Vue-Object-definePropertyæœ€ä½³å®è·µ"><a href="#Vue-Object-definePropertyæœ€ä½³å®è·µ" class="headerlink" title="Vue Object.definePropertyæœ€ä½³å®è·µ"></a>Vue Object.definePropertyæœ€ä½³å®è·µ</h2><p>Object.defineProperty ï¼Œé¡¾åæ€ä¹‰ï¼Œä¸ºå¯¹è±¡å®šä¹‰å±æ€§ã€‚åœ¨jsä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢è¿™å‡ ç§æ–¹æ³•å®šä¹‰å±æ€§ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// (1) define someOne property name</span></span><br><span class="line">someOne.name = <span class="string">'cover'</span>;</span><br><span class="line"><span class="comment">//or use (2) </span></span><br><span class="line">someOne[<span class="string">'name'</span>] = <span class="string">'cover'</span>;</span><br><span class="line"><span class="comment">// or use (3) defineProperty</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(someOne, <span class="string">'name'</span>, &#123;</span><br><span class="line">    value : <span class="string">'cover'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>è¯­æ³•ï¼š<br>Object.defineProperty(object, propertyname, descriptor)<br>å‚æ•°ï¼š<br>object å¿…éœ€ã€‚ è¦åœ¨å…¶ä¸Šæ·»åŠ æˆ–ä¿®æ”¹å±æ€§çš„å¯¹è±¡ã€‚ è¿™å¯èƒ½æ˜¯ä¸€ä¸ªæœ¬æœº JavaScriptå¯¹è±¡ï¼ˆå³ç”¨æˆ·å®šä¹‰çš„å¯¹è±¡æˆ–å†…ç½®å¯¹è±¡ï¼‰æˆ– DOM å¯¹è±¡ã€‚<br>propertyname å¿…éœ€ã€‚ ä¸€ä¸ªåŒ…å«å±æ€§åç§°çš„å­—ç¬¦ä¸²ã€‚<br>descriptor å¿…éœ€ã€‚ å±æ€§æè¿°ç¬¦ã€‚ å®ƒå¯ä»¥é’ˆå¯¹æ•°æ®å±æ€§æˆ–è®¿é—®å™¨å±æ€§ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">æœ€ä½³å®è·µ</span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">const</span> store = <span class="built_in">window</span>.sessionStorage;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StoreMethod</span> </span>&#123;</span><br><span class="line">  set(key, val) &#123;</span><br><span class="line">    <span class="keyword">if</span> (key &amp;&amp; <span class="keyword">typeof</span> key === <span class="string">'string'</span>) &#123;</span><br><span class="line">      store.setItem(key, <span class="built_in">JSON</span>.stringify(val));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  get(key) &#123;</span><br><span class="line">    <span class="keyword">const</span> value = store.getItem(key);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> value !== <span class="string">'string'</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(value);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="keyword">return</span> value || <span class="literal">undefined</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  remove(key) &#123;</span><br><span class="line">    <span class="keyword">const</span> val = <span class="keyword">this</span>.get(key);</span><br><span class="line">    store.removeItem(key);</span><br><span class="line">    <span class="keyword">return</span> val;</span><br><span class="line">  &#125;</span><br><span class="line">  has(key) &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.get(key) &amp;&amp; <span class="keyword">this</span>.get(key) !== <span class="string">'undefined'</span>) &#123;</span><br><span class="line">      result = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line">  clear() &#123;</span><br><span class="line">    store.clear();</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(Vue.prototype, <span class="string">'$storage'</span>, &#123;</span><br><span class="line">  value: <span class="keyword">new</span> StoreMethod()</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line">    <span class="keyword">let</span> info = <span class="keyword">this</span>.$storage.get(<span class="string">'turnOut'</span>);</span><br></pre></td></tr></table></figure><h2 id="å°ç¨‹åº"><a href="#å°ç¨‹åº" class="headerlink" title="å°ç¨‹åº"></a>å°ç¨‹åº</h2><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a511249dd?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Vue-åœ¨methodsä¸­ä½¿ç”¨filterçš„æ–¹æ³•&quot;&gt;&lt;a href=&quot;#Vue-åœ¨methodsä¸­ä½¿ç”¨filterçš„æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;Vue åœ¨methodsä¸­ä½¿ç”¨filterçš„æ–¹æ³•&quot;&gt;&lt;/a&gt;Vue åœ¨methodsä¸­ä½¿ç”¨filterçš„æ–¹æ³•&lt;/h2&gt;&lt;p&gt;éœ€æ±‚æ˜¯ è¦æ ¼å¼åŒ–é“¶è¡Œå¡ æˆ‘ä»¬é¡¹ç›®ç”¨äº†ä¸€ä¸ªuiç»„ä»¶åº“&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ä¼—æ‰€å‘¨çŸ¥ filter æ˜¯å¯ä»¥åœ¨domé‡Œé¢çš„ ä½†æ˜¯éœ€æ±‚å°±æ˜¯å„ç§ä¸ªæ · å”‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;span&amp;gt;(&amp;#123;&amp;#123;item.bdactp | cardtpFilter&amp;#125;&amp;#125;)&amp;lt;&lt;span class=&quot;regexp&quot;&gt;/span&amp;gt;&amp;lt;/&lt;/span&gt;p&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;popup-picker title=&lt;span class=&quot;string&quot;&gt;&quot;å¡å·&quot;&lt;/span&gt; @on-change=&lt;span class=&quot;string&quot;&gt;&quot;handleBankCard&quot;&lt;/span&gt; :data=&lt;span class=&quot;string&quot;&gt;&quot;cardList&quot;&lt;/span&gt; v-model=&lt;span class=&quot;string&quot;&gt;&quot;cardNumber&quot;&lt;/span&gt;&amp;gt;&amp;lt;/popup-picker&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;äºæ˜¯æ‰¾åˆ°äº†ä¸€ä¸ªæ–¹æ³•&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.$options.filters[filter](...args)   &lt;span class=&quot;comment&quot;&gt;//è¿™ç§æ–¹æ³•å¾ˆç®€å•,ä¹Ÿå¾ˆå®ç”¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å®è·µ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bankList.map(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;item&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      arr.push(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.$options.filters[&lt;span class=&quot;string&quot;&gt;&#39;cardnoFilter&#39;&lt;/span&gt;](item.bdacct));&lt;span class=&quot;comment&quot;&gt;// å¦‚æœè¦åœ¨methodsé‡Œé¢ç”¨filterçš„æ–¹æ³• è¿™æ ·å†™&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.telNum = item.phonno;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="ç¬”è®°" scheme="https://www.jonathon.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="vue" scheme="https://www.jonathon.cn/tags/vue/"/>
    
      <category term="javascript" scheme="https://www.jonathon.cn/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 404çš„é—®é¢˜</title>
    <link href="https://www.jonathon.cn/Hexo-404%E7%9A%84%E9%97%AE%E9%A2%98.html"/>
    <id>https://www.jonathon.cn/Hexo-404çš„é—®é¢˜.html</id>
    <published>2018-07-18T04:11:40.000Z</published>
    <updated>2018-07-20T03:27:18.336Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘åˆšå¼€å§‹é‡åˆ°çš„é—®é¢˜æ˜¯ä¿®æ”¹äº†config.ymlä¸‹çš„è¿™ä¸ªé…ç½®<br>URL<br>If your site is put in a subdirectory, set url as â€˜<a href="http://yoursite.com/child&#39;" target="_blank" rel="noopener">http://yoursite.com/child&#39;</a> and root as â€˜/child/â€˜<br>url: <a href="https://www.jonathon.cn">https://www.jonathon.cn</a><br>root: /<br><a id="more"></a><br>éƒ¨ç½²ä¹‹å404</p><p>è°ƒè¯•æ‰§è¡Œåˆ° hexo s åï¼Œè®¿é—®localhost:4000 å‡ºç°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cannot GET /</span><br></pre></td></tr></table></figure><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>éœ€è¦æ‰§è¡Œ npm intall  æˆ–è€… ä½¿ç”¨æ·˜å®é•œåƒ  cnpm i</p><h2 id="å®Œæ•´æ­¥éª¤ç¤ºä¾‹"><a href="#å®Œæ•´æ­¥éª¤ç¤ºä¾‹" class="headerlink" title="å®Œæ•´æ­¥éª¤ç¤ºä¾‹"></a>å®Œæ•´æ­¥éª¤ç¤ºä¾‹</h2><p>npm install hexo-cli -g<br>hexo init<br>npm install<br>hexo server</p><h2 id="å°ç¨‹åº"><a href="#å°ç¨‹åº" class="headerlink" title="å°ç¨‹åº"></a>å°ç¨‹åº</h2><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a511249dd?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘åˆšå¼€å§‹é‡åˆ°çš„é—®é¢˜æ˜¯ä¿®æ”¹äº†config.ymlä¸‹çš„è¿™ä¸ªé…ç½®&lt;br&gt;URL&lt;br&gt;If your site is put in a subdirectory, set url as â€˜&lt;a href=&quot;http://yoursite.com/child&amp;#39;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://yoursite.com/child&amp;#39;&lt;/a&gt; and root as â€˜/child/â€˜&lt;br&gt;url: &lt;a href=&quot;https://www.jonathon.cn&quot;&gt;https://www.jonathon.cn&lt;/a&gt;&lt;br&gt;root: /&lt;br&gt;
    
    </summary>
    
      <category term="åšå®¢æ­å»º" scheme="https://www.jonathon.cn/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
      <category term="å¿ƒå¾—åˆ†äº«" scheme="https://www.jonathon.cn/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="hexo" scheme="https://www.jonathon.cn/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘çœ¼ä¸­çš„Vue</title>
    <link href="https://www.jonathon.cn/%E6%88%91%E7%9C%BC%E4%B8%AD%E7%9A%84vue.html"/>
    <id>https://www.jonathon.cn/æˆ‘çœ¼ä¸­çš„vue.html</id>
    <published>2018-07-17T04:24:49.143Z</published>
    <updated>2018-08-04T03:18:04.375Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æŠŠè‡ªå·±çš„ä¸€äº›ç¬”è®°æ”¾åˆ°è¿™é‡Œï¼Œæ­£å¥½è·ŸäººçŸ¥è¯†å…±äº«ï¼Œåˆå¤ä¹ äº†è‡ªå·±çš„-vue-ï½ï¼ˆå¸Œæœ›å¤§ä½¬èƒ½å¤šå¤šæŒ‡ç‚¹æŒ‡ç‚¹ï¼‰"><a href="#æŠŠè‡ªå·±çš„ä¸€äº›ç¬”è®°æ”¾åˆ°è¿™é‡Œï¼Œæ­£å¥½è·ŸäººçŸ¥è¯†å…±äº«ï¼Œåˆå¤ä¹ äº†è‡ªå·±çš„-vue-ï½ï¼ˆå¸Œæœ›å¤§ä½¬èƒ½å¤šå¤šæŒ‡ç‚¹æŒ‡ç‚¹ï¼‰" class="headerlink" title="æŠŠè‡ªå·±çš„ä¸€äº›ç¬”è®°æ”¾åˆ°è¿™é‡Œï¼Œæ­£å¥½è·ŸäººçŸ¥è¯†å…±äº«ï¼Œåˆå¤ä¹ äº†è‡ªå·±çš„ vue ï½ï¼ˆå¸Œæœ›å¤§ä½¬èƒ½å¤šå¤šæŒ‡ç‚¹æŒ‡ç‚¹ï¼‰"></a>æŠŠè‡ªå·±çš„ä¸€äº›ç¬”è®°æ”¾åˆ°è¿™é‡Œï¼Œæ­£å¥½è·ŸäººçŸ¥è¯†å…±äº«ï¼Œåˆå¤ä¹ äº†è‡ªå·±çš„ vue ï½ï¼ˆå¸Œæœ›å¤§ä½¬èƒ½å¤šå¤šæŒ‡ç‚¹æŒ‡ç‚¹ï¼‰</h2><h2 id="åˆè¯†-Vue"><a href="#åˆè¯†-Vue" class="headerlink" title="åˆè¯† Vue"></a>åˆè¯† Vue</h2><p>Vue.js ä¸æ”¯æŒ IE8 åŠå…¶ä»¥ä¸‹ç‰ˆæœ¬ï¼Œå› ä¸º Vue.js ä½¿ç”¨äº† IE8 ä¸èƒ½æ¨¡æ‹Ÿçš„ ECMAScript 5 ç‰¹æ€§ã€‚</p><p>Vue.js æ”¯æŒæ‰€æœ‰å…¼å®¹ ECMAScript 5 çš„æµè§ˆå™¨ã€‚<br><img src="http://p3.pstatp.com/large/434e00024fdc1d230d6e"></p><a id="more"></a><p>ä¸‹è½½å®Œ vue.js æ§åˆ¶å°è¾“å…¥ Vue æµ‹è¯•æˆåŠŸå¦</p><p><img src="http://p1.pstatp.com/large/434e00024fdb69aa2352"></p><p>ç‹¬ç«‹æ„å»ºå’Œè¿è¡Œæ—¶æ„å»º</p><p>ç‹¬ç«‹æ„å»ºï¼šæ‰“åŒ…çš„æ—¶å€™ç”¨ babel ç¼–è¯‘ä»£ç </p><p>è¿è¡Œæ—¶æ„å»ºï¼šä¸€èµ·æ‰“åŒ…ä¸Šçº¿ç„¶åé€‚æ—¶ç›‘æ§ï¼Œä½†æ˜¯å ç”¨ç©ºé—´å¾ˆå¤§ã€‚</p><p>vue æ„å»ºé¡¹ç›®ä¸ç”¨ webpack äº† å› ä¸ºæœ‰äº† vue.cliã€‚</p><h2 id="Vue-å¸¸ç”¨æŒ‡ä»¤"><a href="#Vue-å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="Vue å¸¸ç”¨æŒ‡ä»¤"></a>Vue å¸¸ç”¨æŒ‡ä»¤</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">v-ï¼šæŒ‡ä»¤</span><br><span class="line"></span><br><span class="line">&#123;&#123;&#125;&#125;ï¼šå«åšæ’å€¼è¡¨è¾¾å¼</span><br><span class="line"></span><br><span class="line">v-text=â€œâ€ å’Œ&#123;&#123;&#125;&#125;æ’å€¼ä¸€æ ·</span><br><span class="line"></span><br><span class="line">v-bind: ï¼ˆï¼šï¼‰å¯ä»¥å¯»æ‰¾ä¸‹é¢çš„å˜é‡</span><br><span class="line"></span><br><span class="line">v-if=â€œtrueâ€ ç›´æ¥å½±å“ dom èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ false åˆ™æ ‡ç­¾ä¸å†å­˜åœ¨ ç›´æ¥åˆ é™¤äº†</span><br><span class="line"></span><br><span class="line">v-show=â€œseenâ€ seen æ˜¯å±•ç¤ºï¼Œfalse æ˜¯ä¸å±•ç¤º ä½†æ˜¯èŠ‚ç‚¹è¿˜åœ¨ ç›¸å½“äºéšè—</span><br><span class="line"></span><br><span class="line">v-for=&quot;&quot; å¾ªç¯</span><br><span class="line"></span><br><span class="line">v-onï¼šclick ï¼ˆ@clickï¼‰ ç›‘å¬çš„äº‹ä»¶åå­—</span><br><span class="line"></span><br><span class="line">v-model=â€œâ€ åŒå‘ç»‘å®š</span><br><span class="line"></span><br><span class="line">v-onceï¼š é™åˆ¶ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡ç»‘å®šçš„æ—¶å€™æ˜¾ç¤ºå€¼ï¼Œ ç„¶åå°±ä¸å˜äº†</span><br><span class="line"></span><br><span class="line">v-htmlï¼š æ˜¾ç¤ºå†…å®¹ä¸­å»é™¤æ ‡ç­¾</span><br></pre></td></tr></table></figure><p>methodsï¼šè¦æ·»åŠ çš„äº‹ä»¶</p><p><img src="http://p3.pstatp.com/large/43520000aed03b2cf265"><br><img src="http://p3.pstatp.com/large/434f0002383755af295e"><br><img src="http://p3.pstatp.com/large/434d00024d41eea0916e"><br>ä¿®é¥°ç¬¦</p><p>.prevent é˜»æ­¢é»˜è®¤è¡Œä¸º (methods é‡Œé¢å°±æ˜¯ event.preventDefault())</p><p>.stop é˜»æ­¢å†’æ³¡<br><img src="http://p9.pstatp.com/large/43510002290cf7405d3d"></p><p>è¿‡æ»¤å™¨ï¼ˆç®¡é“å‘½ä»¤ï¼‰</p><p>å‰è¾¹æ˜¯ä¸ªå˜é‡</p><p>åé¢é‚£æ˜¯è¿‡æ»¤å™¨çš„åç§°<br><img src="http://p1.pstatp.com/large/434e00024fdef50a137c"></p><p>date.now ä¸æ˜¯ä¸€ä¸ªå†…éƒ¨ä¾èµ–<br><img src="http://p1.pstatp.com/large/43520000aed15a5aeaf1"></p><p>todolist<br><img src="http://p3.pstatp.com/large/434f00023839cc439c45"></p><p>è¡¨è¾¾å¼<br><img src="http://p1.pstatp.com/large/434d00024d4492542dfa"></p><p>app æ˜¯å®ä¾‹</p><p>elï¼šâ€#rootâ€ = app.$mount(â€œrootâ€)</p><p>watch ç›‘å¬ message çš„å˜åŒ– es6 é‡Œé¢å¦‚æœç”¨ thisï¼Œthis æŒ‡å‘çš„æ˜¯ data</p><p><img src="http://p3.pstatp.com/large/434e00024fdfdb0d464f"></p><h2 id="Vue-çˆ¶å­ç»„ä»¶ä¼ å€¼"><a href="#Vue-çˆ¶å­ç»„ä»¶ä¼ å€¼" class="headerlink" title="Vue çˆ¶å­ç»„ä»¶ä¼ å€¼"></a>Vue çˆ¶å­ç»„ä»¶ä¼ å€¼</h2><p>å­ç»„ä»¶<br><img src="http://p1.pstatp.com/large/43510002290e3ad147f9"><br>çˆ¶ç»„ä»¶<br><img src="http://p1.pstatp.com/large/434f0002383a38ea8558"><br><img src="http://p9.pstatp.com/large/435000022e723d050d08"></p><h2 id="Vueç”Ÿå‘½å‘¨æœŸ"><a href="#Vueç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Vueç”Ÿå‘½å‘¨æœŸ"></a>Vueç”Ÿå‘½å‘¨æœŸ</h2><p>åœ¨é¡µé¢ç”Ÿå‘½å‘¨æœŸçš„æŸä¸€ä¸ªç‚¹ä¸Šæ‰§è¡ŒæŸä¸€ä¸ªå‡½æ•°ï¼Œå«åšé’©å­ã€‚</p><p>beforeCreate åˆ›å»ºè™šæ‹Ÿdomä¹‹å‰æ‰§è¡Œçš„</p><p>create åˆ›å»ºè™šæ‹Ÿdomä¹‹åæ‰§è¡Œçš„</p><p>bofoereMount æŒ‚è½½ï¼Œæ¸²æŸ“domä¹‹å‰æ‰§è¡Œçš„</p><p>mounted æŒ‚è½½å®Œï¼Œé¡µé¢æ¸²æŸ“ä¹‹åæ‰§è¡Œçš„</p><p>beforeUpdate æ•°æ®æ”¹å˜çš„æ—¶å€™æ‰§è¡Œ</p><p>updated æ•°æ®æ”¹å˜çš„æ—¶å€™æ‰§è¡Œ</p><p>beforeDestroy å½“ä½ è¦é”€æ¯è¿™ä¸ªå®ä¾‹çš„æ—¶å€™æ‰§è¡Œ app.$destroy()</p><p>destroyed å½“ä½ è¦é”€æ¯è¿™ä¸ªå®ä¾‹çš„æ—¶å€™æ‰§è¡Œ app.$destroy()<br><img src="http://p3.pstatp.com/large/435000022e7589d27f20"></p><h2 id="Vueæ•°ç»„æ–¹æ³•"><a href="#Vueæ•°ç»„æ–¹æ³•" class="headerlink" title="Vueæ•°ç»„æ–¹æ³•"></a>Vueæ•°ç»„æ–¹æ³•</h2><p>å˜å¼‚æ–¹æ³•æŒ‡çš„çš„æ˜¯åŸæ•°ç»„è¿›è¡Œæ”¹å˜<br><img src="http://p3.pstatp.com/large/43520000aed573d2d8d5"><br>éå˜å¼‚æ–¹æ³•æ˜¯æŒ‡ä¸æ”¹å˜åŸæ•°ç»„<br><img src="http://p3.pstatp.com/large/4351000229112ea7b5e1"></p><h2 id="Vueç»„ä»¶"><a href="#Vueç»„ä»¶" class="headerlink" title="Vueç»„ä»¶"></a>Vueç»„ä»¶</h2><p>å­ç»„ä»¶ï¼šå®šä¹‰ä¸€ä¸ªå˜é‡ ç„¶åç”¨compinentsæ¥æ”¶å®šä¹‰ï¼ˆæ ‡ç­¾åï¼šå˜é‡åï¼‰</p><p>ç”¨å˜é‡å®šä¹‰çš„å±€éƒ¨ç»„ä»¶<br><img src="http://p9.pstatp.com/large/43530000286ed1219ad8"><br>ç”¨Vue.componentå®šä¹‰çš„å…¨å±€ç»„ä»¶<br><img src="http://p1.pstatp.com/large/435000022e740f419ab7"><br>åŒå‘ç»‘å®š<br><img src="http://p1.pstatp.com/large/434f0002383e2c3f2341"><br>å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—<br><img src="http://p3.pstatp.com/large/435000022e76fefaa72e"></p><h2 id="å°ç¨‹åº"><a href="#å°ç¨‹åº" class="headerlink" title="å°ç¨‹åº"></a>å°ç¨‹åº</h2><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a511249dd?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æŠŠè‡ªå·±çš„ä¸€äº›ç¬”è®°æ”¾åˆ°è¿™é‡Œï¼Œæ­£å¥½è·ŸäººçŸ¥è¯†å…±äº«ï¼Œåˆå¤ä¹ äº†è‡ªå·±çš„-vue-ï½ï¼ˆå¸Œæœ›å¤§ä½¬èƒ½å¤šå¤šæŒ‡ç‚¹æŒ‡ç‚¹ï¼‰&quot;&gt;&lt;a href=&quot;#æŠŠè‡ªå·±çš„ä¸€äº›ç¬”è®°æ”¾åˆ°è¿™é‡Œï¼Œæ­£å¥½è·ŸäººçŸ¥è¯†å…±äº«ï¼Œåˆå¤ä¹ äº†è‡ªå·±çš„-vue-ï½ï¼ˆå¸Œæœ›å¤§ä½¬èƒ½å¤šå¤šæŒ‡ç‚¹æŒ‡ç‚¹ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;æŠŠè‡ªå·±çš„ä¸€äº›ç¬”è®°æ”¾åˆ°è¿™é‡Œï¼Œæ­£å¥½è·ŸäººçŸ¥è¯†å…±äº«ï¼Œåˆå¤ä¹ äº†è‡ªå·±çš„ vue ï½ï¼ˆå¸Œæœ›å¤§ä½¬èƒ½å¤šå¤šæŒ‡ç‚¹æŒ‡ç‚¹ï¼‰&quot;&gt;&lt;/a&gt;æŠŠè‡ªå·±çš„ä¸€äº›ç¬”è®°æ”¾åˆ°è¿™é‡Œï¼Œæ­£å¥½è·ŸäººçŸ¥è¯†å…±äº«ï¼Œåˆå¤ä¹ äº†è‡ªå·±çš„ vue ï½ï¼ˆå¸Œæœ›å¤§ä½¬èƒ½å¤šå¤šæŒ‡ç‚¹æŒ‡ç‚¹ï¼‰&lt;/h2&gt;&lt;h2 id=&quot;åˆè¯†-Vue&quot;&gt;&lt;a href=&quot;#åˆè¯†-Vue&quot; class=&quot;headerlink&quot; title=&quot;åˆè¯† Vue&quot;&gt;&lt;/a&gt;åˆè¯† Vue&lt;/h2&gt;&lt;p&gt;Vue.js ä¸æ”¯æŒ IE8 åŠå…¶ä»¥ä¸‹ç‰ˆæœ¬ï¼Œå› ä¸º Vue.js ä½¿ç”¨äº† IE8 ä¸èƒ½æ¨¡æ‹Ÿçš„ ECMAScript 5 ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;Vue.js æ”¯æŒæ‰€æœ‰å…¼å®¹ ECMAScript 5 çš„æµè§ˆå™¨ã€‚&lt;br&gt;&lt;img src=&quot;http://p3.pstatp.com/large/434e00024fdc1d230d6e&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="ç¬”è®°" scheme="https://www.jonathon.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="vue" scheme="https://www.jonathon.cn/tags/vue/"/>
    
      <category term="javascript" scheme="https://www.jonathon.cn/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>é€ç»™å†™å°ç¨‹åºçš„ä½ ã€‚</title>
    <link href="https://www.jonathon.cn/%E9%80%81%E7%BB%99%E5%86%99%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E4%BD%A0.html"/>
    <id>https://www.jonathon.cn/é€ç»™å†™å°ç¨‹åºçš„ä½ .html</id>
    <published>2018-07-05T12:13:27.847Z</published>
    <updated>2018-08-17T08:13:09.277Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://user-gold-cdn.xitu.io/2018/7/24/164cc72d15bfcd7d?imageView2/1/w/1080/h/320/q/85/format/webp/interlace/1"></p><h2 id="å£°æ˜ï¼šæœ¬äººä¹Ÿæ˜¯èœé¸Ÿä¸€åªï¼Œå†™çš„ä¸å¥½çš„åœ°æ–¹ï¼Œå¤§ä½¬ä»¬æŒ‡ç‚¹æŒ‡ç‚¹ã€‚"><a href="#å£°æ˜ï¼šæœ¬äººä¹Ÿæ˜¯èœé¸Ÿä¸€åªï¼Œå†™çš„ä¸å¥½çš„åœ°æ–¹ï¼Œå¤§ä½¬ä»¬æŒ‡ç‚¹æŒ‡ç‚¹ã€‚" class="headerlink" title="å£°æ˜ï¼šæœ¬äººä¹Ÿæ˜¯èœé¸Ÿä¸€åªï¼Œå†™çš„ä¸å¥½çš„åœ°æ–¹ï¼Œå¤§ä½¬ä»¬æŒ‡ç‚¹æŒ‡ç‚¹ã€‚"></a>å£°æ˜ï¼šæœ¬äººä¹Ÿæ˜¯èœé¸Ÿä¸€åªï¼Œå†™çš„ä¸å¥½çš„åœ°æ–¹ï¼Œå¤§ä½¬ä»¬æŒ‡ç‚¹æŒ‡ç‚¹ã€‚</h2><p>å¾®ä¿¡å°ç¨‹åºå•†åŸï¼ŒæŒç»­æ›´æ–°ã€‚å…ˆè¯´è¯´å†™å°ç¨‹åºçš„æ¸Šæºå§ï¼Œæˆ‘ä¹‹å‰è®¤è¯†çš„å¤§ä½¬å†™äº†ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„å°ç¨‹åºï¼Œæˆ‘æ”¹äº†æ”¹æ ·å¼äºæ˜¯æˆåŠŸçš„æœ‰äº†æˆ‘çš„ç¬¬ä¸€ä¸ªå°ç¨‹åºã€‚<br>ç„¶åæˆ‘åœ¨æ‰¾å·¥ä½œçš„æ—¶å€™ï¼Œç®€å†ä¸Šå†™äº†è¿™ä¹ˆä¸€å›äº‹ï¼Œç»“æœè¿›æ¥ä¹‹åï¼Œleader è¯­é‡å¿ƒé•¿çš„å¯¹æˆ‘è¯´ï¼Œå…¬å¸çš„å°ç¨‹åºå•†åŸå°±æ•™ç»™ä½ äº†ï¼Œé‡ç‚¹æ˜¯å…¬å¸æ²¡æœ‰ä¸€ä¸ªäººä¼šå¾®ä¿¡å°ç¨‹åºã€‚WTFï¼Œä¸æ˜¯æ‹›æˆ‘è¿›æ¥å†™ VUE çš„å—? äºæ˜¯å°±å¼€å§‹äº†æˆ‘ä»é›¶å¼€å§‹å†™å¾®ä¿¡å°ç¨‹åºå•†åŸä¹‹è·¯ã€‚<br>å¾®ä¿¡å°ç¨‹åºçš„å®˜æ–¹æ–‡æ¡£ä»€ä¹ˆçš„æˆ‘å°±ä¸è¯´äº†ï¼Œé‚£æ˜¯è‚¯å®šè¦çœ‹çš„ã€‚è¯´è¯´æˆ‘è¿™å‡ å¤©å¼€å§‹å†™æˆ‘é‡åˆ°çš„é—®é¢˜ã€‚å¸Œæœ›å¯¹å°†è¦å†™å°ç¨‹åºçš„ä½ èƒ½æœ‰ä¸€ä¸ä¸å¸®åŠ©ï¼Œå› ä¸ºæœ¬äººä¹Ÿå¾ˆèœã€‚</p><a id="more"></a><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹-rpx"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹-rpx" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹ rpx"></a>å¾®ä¿¡å°ç¨‹åºä¹‹ rpx</h2><p>åœ¨å¾®ä¿¡å®˜æ–¹çš„æ–‡æ¡£ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°è¿™æ ·ä¸€å¥è¯ï¼šåœ¨ iPhone 6 ä¸Šï¼Œå±å¹•å®½åº¦ä¸º 375pxï¼Œå…±æœ‰ 750 ä¸ªç‰©ç†åƒç´ ï¼Œåˆ™ 750rpx = 375px = 750 ç‰©ç†åƒç´ ï¼Œ1rpx = 0.5px = 1 ç‰©ç†åƒç´ ã€‚<br>å¼€å‘å¾®ä¿¡å°ç¨‹åºæ—¶è®¾è®¡å¸ˆå¯ä»¥ç”¨ iPhone 6 ä½œä¸ºè§†è§‰ç¨¿çš„æ ‡å‡†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè®¾è®¡å¸ˆåœ¨è®¾è®¡å°ç¨‹åºæ—¶ï¼Œå¯ä»¥è¿™æ ·åšï¼šç›´æ¥ä»¥ iPhone 6 çš„å±å¹•å°ºå¯¸ï¼ˆ375Ã—667ï¼‰ç”¨ä½œè§†è§‰ç¨¿å°ºå¯¸ï¼Œ1 px = 0.5 rpxï¼›ä»¥ 1 px = 1 rpx çš„æ ‡å‡†ï¼Œå°†è®¾è®¡ç¨¿å°ºå¯¸è®¾å®šä¸º 750Ã—1334ã€‚<br>å…¶å®æ€»çš„æ¥è¯´å°±æ˜¯ï¼Œä½ è·Ÿ UI å°å§å§è¯´ä¸€å£°ï¼Œç„¶åå°±å¯ä»¥å¾ˆçˆ½çš„å†™æ ·å¼äº†ã€‚</p><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹å®¹å™¨è§†å›¾"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹å®¹å™¨è§†å›¾" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹å®¹å™¨è§†å›¾"></a>å¾®ä¿¡å°ç¨‹åºä¹‹å®¹å™¨è§†å›¾</h2><p>view å…¶å®å°±æ˜¯ divï¼Œå˜¿å˜¿å˜¿å°±æ˜¯è¿™ä¹ˆç®€å•ç²—æš´çš„è§£é‡Šã€‚<br>scroll-view å¯æ»šåŠ¨è§†å›¾åŒºåŸŸã€‚ è¿™ä¸ªéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¨ªå‘æ»šåŠ¨çš„è§†å›¾åŒºåŸŸã€‚é‡è¦çš„æ˜¯è¿™ä¸¤ä¸ªè¡Œå†…æ ·å¼ï¼Œå…¶ä»–çš„å®˜æ–¹æ–‡æ¡£ä¹Ÿè¯´çš„æ¯”è¾ƒæ¸…æ¥šã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">"supply-scroll bg"</span>&gt;</span><br><span class="line">  &lt;scroll-view</span><br><span class="line">    <span class="class"><span class="keyword">class</span></span>=<span class="string">"scroll-box"</span></span><br><span class="line">    scroll-x=<span class="string">"true"</span></span><br><span class="line">    style=<span class="string">"width: 100%;white-space: nowrap; display: flex"</span></span><br><span class="line">  &gt;</span><br><span class="line">    &lt;view</span><br><span class="line">      <span class="class"><span class="keyword">class</span></span>=<span class="string">"scroll-items"</span></span><br><span class="line">      wx:<span class="keyword">for</span>=<span class="string">"&#123;&#123;scrollList&#125;&#125;"</span></span><br><span class="line">      wx:key=<span class="string">"index"</span></span><br><span class="line">      data-index=<span class="string">"&#123;&#123;index&#125;&#125;"</span></span><br><span class="line">      style=<span class="string">"display: inline-block"</span></span><br><span class="line">    &gt;</span><br><span class="line">      &lt;image src=<span class="string">"&#123;&#123;item.url&#125;&#125;"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"scroll-image"</span> /&gt;</span><br><span class="line">    &lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>scroll-view&gt;</span><br><span class="line">&lt;<span class="regexp">/view&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹-UI-æ¡†æ¶"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹-UI-æ¡†æ¶" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹ UI æ¡†æ¶"></a>å¾®ä¿¡å°ç¨‹åºä¹‹ UI æ¡†æ¶</h2><p>è¿™ä¸ªï¼Œå¾ˆæœ‰æ„æ€ï¼Œå½“æˆ‘å†™å®Œä¸€ä¸ªæˆ‘è§‰å¾—å¾ˆæœ‰çµæ€§çš„é€‰é¡¹å¡çš„æ—¶å€™ï¼Œä»¥å‰å“¥ä»¬å‘Šæˆ‘å¾®ä¿¡å°ç¨‹åºæœ‰ä¸ªæ¡†æ¶ä½ çœ‹çœ‹å»ã€‚ã€‚ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;view wx:<span class="keyword">for</span>=<span class="string">"&#123;&#123;tab&#125;&#125;"</span> wx:key=<span class="string">"index"</span> data-id=<span class="string">"&#123;&#123;item.id&#125;&#125;"</span> data-index=<span class="string">"&#123;&#123;index&#125;&#125;"</span>   bindtap=<span class="string">"switchTab"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"tab-list &#123;&#123;tabIndex === index?'on':''&#125;&#125;"</span>&gt;</span><br><span class="line"> &#123;&#123;item.name&#125;&#125;</span><br><span class="line">&lt;<span class="regexp">/view&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa029d0ae7fa5?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>ä¸ BBï¼Œç›´æ¥ä¸Šåœ°å€ <a href="https://github.com/Tencent/weui-wxss" target="_blank" rel="noopener">weui</a><br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa029d0b22756?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>å…ˆå†™åˆ°è¿™é‡Œï¼Œå‘¨å…­åŠ ç­çš„åˆä¼‘æ—¶é—´ï¼Œå†’ç€è¢«åŒæ—¶æ‰“æ­»çš„å±é™©å†™çš„ï¼Œå¦‚æœæœ‰ä»€ä¹ˆå†™çš„ä¸å¥½çš„åœ°æ–¹ï¼Œè¯·å¤§å®¶å¤šå¤šåŒ…æ¶µï¼Œæˆ‘ä¹Ÿè¿˜ä¼šåˆ†äº«æˆ‘é‡åˆ°çš„é—®é¢˜ã€‚<br>æœ€è¿‘åˆçœ‹åˆ°æœ‰èµçš„å¾®ä¿¡å°ç¨‹åº UI è¿˜æ˜¯è€è§„çŸ©ç›´æ¥ä¸Šåœ°å€ï¼š<br><a href="https://github.com/youzan/zanui-weapp" target="_blank" rel="noopener">zanui-weapp</a></p><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹-switchTab"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹-switchTab" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹ switchTab"></a>å¾®ä¿¡å°ç¨‹åºä¹‹ switchTab</h2><p>é¡µé¢è·³è½¬å¤§å®¶å®˜ç½‘ä¸Šçœ‹çš„ navigator ç”¨æ³•ä½ å¥—ç€ç”¨å°±å¯ä»¥äº†ï¼Œä»Šå¤©åˆ†äº«ä¸€ä¸‹æˆ‘åœ¨å°ç¨‹åºä¸­é‡åˆ°çš„é¡µé¢è·³è½¬çš„é—®é¢˜ã€‚æˆ‘å†™çš„æ˜¯ä¸€ä¸ªç”µå•†å•†åŸå°ç¨‹åºï¼Œè·³è½¬åˆ°è¯¦æƒ…é¡µä¹‹åæœ‰ä¸¤ä¸ªç‚¹å‡»è·³è½¬çš„ icon å¦‚å›¾ï¼š<br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa029d0ca5f47?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>èªæ˜çš„ä½ ï¼Œè‚¯å®šçŒœå‡ºæ¥è¿™ä¸¤ä¸ª icon æ˜¯è·³è½¬åˆ°å“ªçš„ï¼Œè‚¯å®šä¹Ÿæ˜¯ bindtapï¼Œç„¶å wx.navigator å°±æå®šäº†ã€‚ä¸¤ä¸ªç®€å•çš„é¡µé¢è·³è½¬å˜›ï¼Œç„¶åå±…ç„¶å°±æ˜¯è¿™ä¸¤ä¸ªé—®é¢˜å¡äº†æˆ‘ä¸€ä¸ªå¤šå°æ—¶ï¼Œåæ¥è¿˜æ˜¯åœ¨å¾®ä¿¡ç¾¤é‡Œé—®å¤§ä½¬ä»¬æ‰è§£å†³çš„ï¼Œå› ä¸ºè‡ªå·±çœ‹æ–‡æ¡£ä¸ä»”ç»†ï¼Œè·³è½¬çš„è¿™ä¸¤ä¸ªé¡µé¢æ˜¯å¾®ä¿¡å®˜æ–¹åº•éƒ¨ tab çš„è·¯å¾„å¦‚å›¾ï¼š<br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa029d0eb9f9e?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>é—®é¢˜æ˜¯å‡ºåœ¨å®˜æ–¹çš„ tabbar ä¸­ä½ ç”¨äº†è¿™å‡ ä¸ªè·¯å¾„å¦‚å›¾ï¼š</p><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa029d0e258d1?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>ç„¶åè§£å†³æ–¹æ³•ä¸º:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">handleGoIndex: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     wx.switchTab(&#123;<span class="attr">url</span>: <span class="string">'/pages/index/index'</span>&#125;)</span><br><span class="line">     &#125;,</span><br><span class="line">handleGoCart: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    wx.switchTab(&#123;<span class="attr">url</span>: <span class="string">'/pages/cart/index'</span>&#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹ç¦æ­¢é¡µé¢ä¸‹æ‹‰"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹ç¦æ­¢é¡µé¢ä¸‹æ‹‰" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹ç¦æ­¢é¡µé¢ä¸‹æ‹‰"></a>å¾®ä¿¡å°ç¨‹åºä¹‹ç¦æ­¢é¡µé¢ä¸‹æ‹‰</h2><p>æœ‰çš„æ—¶å€™ä½ ä¼šé‡åˆ°ä¸è®©é¡µé¢ä¸‹æ‹‰ï¼Œå¦‚æœä½ ä»¥ä¸ºæˆ‘è¯´çš„æ˜¯ä¸‹æ‹‰åˆ·æ–°çš„apiçš„è¯é‚£å°±å›¾æ ·äº†ã€‚å°±æ˜¯ä¸è®©ä½ ä¸‹æ»‘çš„æ—¶å€™å‡ºæ¥é‚£ä¸ªç™½æ¡ã€‚ç›´æ¥ä¸Šä»£ç äº†ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;view catchtouchmove=<span class="string">"stopDrag"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"container"</span>&gt;</span><br><span class="line">  stopDrag()&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><p>ä½†æ˜¯è¿™ä¸ªæ…ç”¨ï¼Œæˆ‘ä¹Ÿæƒ³åœ¨è¿™é‡Œå¦‚æœæœ‰å¤§ç¥èƒ½æŒ‡ç‚¹æŒ‡ç‚¹å°±æœ€å¥½äº†ï¼Œè¿™ä¸ªçš„æ•ˆæœæ˜¯å¯è§†åŒºåŸŸå…¨éƒ¨é™æ­¢æ»‘åŠ¨â€¦ æ‹¼å¤šå¤šçš„å°ç¨‹åºé¦–é¡µå°±æ˜¯ä¸ä¼šå‡ºç°é‚£ä¸ªä¸‹æ‹‰çš„ç™½æ¡ï¼Œä½†èƒ½ä¸Šæ»‘çœ‹å•†å“ä¿¡æ¯ï¼Œæ±‚æ•™ï½<br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa029eb0cfe09?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>æœ€æ–°è§£å†³æ–¹æ³•ï¼Œåœ¨appã€‚json é‡Œé¢å¢åŠ ä¸€æ¡è¿™ä¸ªå±æ€§ï¼Œå°±å¯ä»¥ç¦æ­¢æ»šåŠ¨ã€‚</p><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹é¡µé¢æ·±åº¦"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹é¡µé¢æ·±åº¦" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹é¡µé¢æ·±åº¦"></a>å¾®ä¿¡å°ç¨‹åºä¹‹é¡µé¢æ·±åº¦</h2><p>åœ¨æµ‹è¯•è‡ªå·±çš„é¡¹ç›®çš„æ—¶å€™ï¼Œå‘ç°æ˜æ˜é€»è¾‘æ²¡é—®é¢˜ï¼Œè¯­æ³•ä¹Ÿæ²¡é—®é¢˜ã€‚çªç„¶æƒ³èµ·æ¥å°ç¨‹åºçš„é¡µé¢æ ˆæ˜¯äº”ä¸ªï¼Œäºæ˜¯ç‰¹åˆ«ä¸­äºŒçš„æ•°äº†ä¸€ä¸‹è‡ªå·±çš„é¡µé¢è·³è½¬å“ˆå“ˆâ€¦ æ‰å‘ç°å½“æ—¶è‡ªå·±çš„ç†è§£æ˜¯é”™è¯¯çš„ï¼Œåˆšå¼€å§‹ä¸ç»†å¿ƒçœ‹æ–‡æ¡£ï¼Œæˆ‘ä»¥ä¸ºè¿™äº”ä¸ªé¡µé¢æ˜¯è¶…è¿‡äº”ä¸ªä¼šæŠŠæ–°çš„åŠ è¿›é¡µé¢æ ˆï¼Œç¬¬ä¸€ä¸ªæ‰“å¼€çš„é”€æ¯ã€‚æˆ‘å°±æ— è„‘ç”¨ wx.navigateToï¼Œé‡åˆ°è¿™ä¸ªé—®é¢˜åç”¨äº† wx.redirectTo å°±è§£å†³äº†ã€‚ä½†æ˜¯è°è®©æˆ‘å¥½å­¦å‘¢ï¼Œäºæ˜¯å‘ç°ä¸€ä¸ªå¤§ç¥å†™çš„ç‰¹åˆ«å®Œç¾çš„ç†è§£å°ç¨‹åºé¡µé¢è·³è½¬çš„åŸç†ã€‚<br>ï¼ˆç°åœ¨æ·±åº¦ï¼Œå˜æˆäº† 10 å±‚ï¼Œä½†æ˜¯åœ¨ ios 10 çš„éƒ¨åˆ†ç³»ç»Ÿä¸‹ï¼Œè¿˜æ˜¯æœ‰ bug çš„ï¼Œè¿˜æ˜¯è¦è€ƒè™‘é¡µé¢æ·±åº¦è¿™ç§åœºæ™¯çš„ã€‚ï¼‰<br><a href="http://www.wxappclub.com/topic/596" target="_blank" rel="noopener">å°ç¨‹åºè·¯ç”±</a></p><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹ä¸Šæ‹‰åŠ è½½"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹ä¸Šæ‹‰åŠ è½½" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹ä¸Šæ‹‰åŠ è½½"></a>å¾®ä¿¡å°ç¨‹åºä¹‹ä¸Šæ‹‰åŠ è½½</h2><p>æˆ‘ç°åœ¨å…¬å¸çš„é¡¹ç›®åšçš„æ˜¯ç”µå•†çš„å°ç¨‹åºï¼Œä¸‹æ‹‰åˆ·æ–°ï¼Œå®˜ç½‘å†™çš„å¾ˆæ˜ç¡®ä¸èƒ½ä¸ scroll-view åŒæ—¶ä½¿ç”¨ã€‚æˆ‘æ˜¯åœ¨è„‘å­ç“¦ç‰¹çš„æƒ…å†µä¸‹ï¼ŒonReachBottom å’Œ scroll-view çš„ bindscrolltolower éƒ½ç”¨äº†ã€‚ç»è¿‡æˆ‘çš„å®è·µï¼Œæ¨èå¤§å®¶ç”¨ onReachBottomã€‚å¦‚æœæ˜¯ä¸€äº› tab é‡Œé¢ä¹Ÿæœ‰ä¸‹æ‹‰åˆ·æ–°ï¼Œè¿™ä¸ªå°±å¾ˆæ–¹ä¾¿ç›´æ¥ä¸Šä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">onReachBottom() &#123;</span><br><span class="line">        <span class="keyword">let</span> isPush = <span class="keyword">this</span>.data.index,</span><br><span class="line">            val = <span class="keyword">this</span>.data.inputVal;</span><br><span class="line">        <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">            isBtnShow: <span class="literal">true</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">if</span> (isPush ==<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> num = <span class="keyword">this</span>.data.limitIndex;</span><br><span class="line">            <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">                limitIndex: num+<span class="number">1</span></span><br><span class="line">            &#125;)</span><br><span class="line">        <span class="comment">//å…³äºä¸Šæ‹‰åŠ è½½çš„æ€§èƒ½ä¼˜åŒ–</span></span><br><span class="line">            setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">                    <span class="comment">// ç»™åç«¯ä¼ ä¸‹æ‹‰åˆ·æ–°çš„æ¬¡æ•°+1</span></span><br><span class="line">                    <span class="keyword">const</span> data = &#123;</span><br><span class="line">                        limitIndex: <span class="keyword">this</span>.data.limitIndex</span><br><span class="line">                    &#125;;</span><br><span class="line">                    utils.sendRequest(api.AllGoodsUrl, data, <span class="keyword">this</span>.handleReachBottom.bind(<span class="keyword">this</span>));</span><br><span class="line">            &#125;,<span class="number">1500</span>)</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">if</span> (val != <span class="string">''</span>) &#123;</span><br><span class="line">            setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">let</span> num = <span class="keyword">this</span>.data.limitIndex;</span><br><span class="line">                    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">                        limitIndex: num+<span class="number">1</span></span><br><span class="line">                    &#125;)</span><br><span class="line">                    <span class="comment">// ç»™åç«¯ä¼ ä¸‹æ‹‰åˆ·æ–°çš„æ¬¡æ•°+1</span></span><br><span class="line">                    <span class="keyword">const</span> data = &#123;</span><br><span class="line">                        limitIndex: <span class="keyword">this</span>.data.limitIndex,</span><br><span class="line">                         data:&#123;</span><br><span class="line">                            name: <span class="keyword">this</span>.data.inputVal,</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;;</span><br><span class="line">                    utils.sendRequest(api.AllGoodsUrl, data, <span class="keyword">this</span>.handleLoadMore.bind(<span class="keyword">this</span>));</span><br><span class="line">            &#125;,<span class="number">1500</span>)</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">è¿™æ®µä»£ç ä¸»è¦å°±æ˜¯åˆ¤æ–­tabçš„çŠ¶æ€æ¥å»¶æ—¶è¯·æ±‚æ¥å£ã€‚å®ç°æ•ˆæœå¦‚ä¸‹å›¾ï¼š</span><br></pre></td></tr></table></figure><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa029ed35b112?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa029f2d7f4e8?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>è¿™å°±æ˜¯æˆ‘ç”¨ä¸Šæ‹‰åŠ è½½çš„å®è·µï¼Œå¸Œæœ›æœ‰å¤§ç¥èƒ½æå‡ºæ›´å¥½çš„å»ºè®®ã€‚</p><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹æ•°æ®äº¤äº’"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹æ•°æ®äº¤äº’" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹æ•°æ®äº¤äº’"></a>å¾®ä¿¡å°ç¨‹åºä¹‹æ•°æ®äº¤äº’</h2><p>è¯´åˆ°è¿™é‡Œé¡ºä¾¿æŠŠæˆ‘çš„ä¸€äº›å…³äºæ•°æ®äº¤äº’çš„ä¸€äº›ç»éªŒåˆ†äº«ä¸€ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sendRequest</span>(<span class="params">path, data, callback</span>) </span>&#123;</span><br><span class="line">  wx.request(&#123;</span><br><span class="line">    url: path,</span><br><span class="line">    data: data,</span><br><span class="line">    header: &#123;</span><br><span class="line">      <span class="string">"content-type"</span>: <span class="string">"application/json"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    method: <span class="string">"POST"</span>,</span><br><span class="line">    success: callback,</span><br><span class="line">    fail: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">æŠŠå¾®ä¿¡è¯·æ±‚å°è£…èµ·æ¥;</span><br><span class="line">è¿˜æœ‰é¡¹ç›®é‡Œé¢è¦ç”¨åˆ°çš„æ¥å£å¦‚ä¸‹;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">promiseRequest</span>(<span class="params">url, data = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: url,</span><br><span class="line">      data: data,</span><br><span class="line">      method: <span class="string">'POST'</span>,</span><br><span class="line">      header: &#123;</span><br><span class="line">        <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      success:<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.statusCode == <span class="number">200</span>) &#123;</span><br><span class="line">            resolve(res);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          reject(res.errMsg);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      &#125;,</span><br><span class="line">      fail: <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">        reject(err)</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"failed"</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">æ–°å¢  promise  è¯·æ±‚æ–¹å¼</span><br><span class="line">        <span class="comment">//æ²¡æœ‰å‚æ•°å°±ä¼ ç©º</span></span><br><span class="line">  utils.promiseRequest(api.BannerUrl).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(res.data.error == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="comment">//dosomethingã€‚ã€‚ã€‚</span></span><br><span class="line">      &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">          utils.showModal(res.data.err_msg)</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa029f634fd62?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa029fd54632f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a044519ed?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>å¸Œæœ›æœ‰å¤§ç¥èƒ½å¸®å¿™ä¸€ä¸‹å°ç¨‹åºçš„ç»„ä»¶åŒ–æœ€ä½³å®è·µ~<br>(ç°åœ¨wepyå’Œmpvue éƒ½æŒºé è°±çš„ /æ‚è„¸)</p><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹Androidè¯·æ±‚å¤±è´¥çš„å‘"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹Androidè¯·æ±‚å¤±è´¥çš„å‘" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹Androidè¯·æ±‚å¤±è´¥çš„å‘"></a>å¾®ä¿¡å°ç¨‹åºä¹‹Androidè¯·æ±‚å¤±è´¥çš„å‘</h2><p>æˆ‘å½“æ—¶é‡åˆ°çš„æƒ…å†µæ˜¯ï¼Œåœ¨æ¨¡æ‹Ÿå™¨å’ŒIOSç¯å¢ƒä¸‹è¯·æ±‚æ•°æ®éƒ½æ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ï¼Œåœ¨æµ‹è¯•androidç¯å¢ƒæ—¶å‘ç°è¯·æ±‚å¤±è´¥å¦‚ä¸‹å›¾<br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a07a2247e?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>è¿™ä¸ªé”™è¿˜è®©æˆ‘è·Ÿè¿ç»´çš„å¤§å“¥æ’•äº†åŠå¤©å“ˆå“ˆï¼Œ é¦–å…ˆå‡ºç°è¿™ä¸ªé”™ï¼Œå…„å¼Ÿè¿™ä¸ªé”…å®Œå®Œå…¨å…¨å°±èƒ½ç”©ç»™è¿ç»´çš„å¤§å“¥ï¼Œä¸ç•™ä»»ä½•ä½™åœ°ã€‚ ç„¶åå¯ä»¥å¸®å¤§å“¥æä¾›ä¸€å†™èµ„æ–™ï¼Œä¸€æ­¥æ­¥æ’æŸ¥ï¼Œå…ˆæŸ¥ä½ é¡¹ç›®ç»‘å®šåŸŸåï¼š<br>1ã€httpsè¯ä¹¦é—®é¢˜ ï¼šsslè¯ä¹¦é…ç½®éœ€è¦ä½¿ç”¨pem,ä¸ä½¿ç”¨crt, ï¼Œ<br>2ã€æœåŠ¡å™¨ç«¯çš„ç‰ˆæœ¬ä¿¡æ¯ï¼šTLSç‰ˆæœ¬çš„é—®é¢˜ï¼Œè¯¥é—®é¢˜åœ¨å¾®ä¿¡å°ç¨‹åºå®˜æ–¹æ–‡æ¡£ä¸­å·²ç»æåŠåˆ°ï¼ŒæœåŠ¡å™¨TLSç‰ˆæœ¬å¿…é¡»æ”¯æŒ 1.2 ï¼ˆå¯ç”¨1.2ï¼Œç¦ç”¨1.1å’Œ1.0ç­‰ä½ç‰ˆæœ¬ï¼‰ï¼Œ<br>3ã€å‰ä¸¤ç§æ–¹æ³•æ˜¯åœ¨æŸ¥é˜…èµ„æ–™æœ‰äººè¯´æ˜¯å¯è§£å†³çš„ï¼Œä½†æ˜¯å¯¹äºæˆ‘ä»¬å…¬å¸æœ€ååœ¨æ’æŸ¥å‰ä¸¤é¡¹ä¹‹åï¼Œè¿ç»´å¤§å“¥ç”¨Nginxè½¬å‘äº†ä¹‹åï¼Œè§£å†³äº†å®‰å“è¯·æ±‚å¤±è´¥çš„é—®é¢˜ã€‚å¸Œæœ›å¯ä»¥å¸®åˆ°å¤§å®¶å§~</p><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹åœ°å€é¡µé¢ä¸‰çº§è”åŠ¨"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹åœ°å€é¡µé¢ä¸‰çº§è”åŠ¨" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹åœ°å€é¡µé¢ä¸‰çº§è”åŠ¨"></a>å¾®ä¿¡å°ç¨‹åºä¹‹åœ°å€é¡µé¢ä¸‰çº§è”åŠ¨</h2><p>è¿™ä¸ªé—®é¢˜ï¼Œç°ç»™å¤§å®¶è´´ä¸€ä¸ªåœ°å€ï¼Œéå¸¸æ„Ÿè°¢å¤§ç¥çš„å¼€æº<br><a href="https://blog.csdn.net/sinat_17775997/article/details/54573560" target="_blank" rel="noopener">å°ç¨‹åºè·¯ç”±</a><br>å¤§å®¶å¯ä»¥çœ‹åˆ°ä»£ç ä¹‹åï¼Œå…ˆç†æ¸…ä½ è¦å¤„ç†çš„åç«¯æ•°æ®å’Œå­˜åœ°å€çš„è¦æ±‚ç­‰ç­‰ï¼Œæˆ‘é‡åˆ°çš„é—®é¢˜æ˜¯<br>åç«¯ç»™æˆ‘çš„æ•°æ®é‡Œé¢æœ‰æ¯ä¸€ä¸ªåœ°å€å¯¹åº”çš„ IDï¼Œæ¯”å¦‚åŒ—äº¬ï¼š2 åŒ—äº¬ï¼š50 ä¸œåŸåŒºï¼š500<br>å¤„ç†è¿™ä¸ªæ•°æ®çš„æ—¶å€™ï¼Œæˆ‘æ ¹æ®åŸæ¥å¤§ç¥çš„ä»£ç åšäº†ä¸€äº›ä¿®æ”¹.<br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a0f83cf57?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> val = e.detail.value,</span><br><span class="line">            t = <span class="keyword">this</span>.data.values,</span><br><span class="line">            cityData = <span class="keyword">this</span>.data.cityData,</span><br><span class="line">            index = <span class="keyword">this</span>.data.id,</span><br><span class="line">            list = <span class="keyword">this</span>.data.addrList;</span><br><span class="line">            list[index].area = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (val[<span class="number">0</span>] != t[<span class="number">0</span>]) &#123; <span class="comment">//å½“valæ˜¯é€‰æ‹©çœä»½çš„æ—¶å€™</span></span><br><span class="line">                <span class="keyword">const</span> citys = [];</span><br><span class="line">                <span class="keyword">const</span> countys = [];</span><br><span class="line">                    cityData[val[<span class="number">0</span>]].child.map(<span class="function"><span class="params">item</span> =&gt;</span> citys.push(&#123;<span class="attr">name</span>:item.name,<span class="attr">id</span>:item.id&#125;));</span><br><span class="line">                    cityData[val[<span class="number">0</span>]].child[<span class="number">0</span>].child.map(<span class="function"><span class="params">item</span> =&gt;</span> countys.push(&#123;<span class="attr">name</span>:item.name,<span class="attr">id</span>:item.id&#125;));</span><br><span class="line">                    list[index].provinceName = <span class="keyword">this</span>.data.provinces[val[<span class="number">0</span>]].name;<span class="comment">//çœä»½</span></span><br><span class="line">                    list[index].cityName = cityData[val[<span class="number">0</span>]].child[<span class="number">0</span>].name;<span class="comment">//åŸå¸‚</span></span><br><span class="line">                    list[index].districtName = cityData[val[<span class="number">0</span>]].child[<span class="number">0</span>].child[<span class="number">0</span>].name;<span class="comment">//åœ°åŒº</span></span><br><span class="line">                    list[index].province = <span class="keyword">this</span>.data.provinces[val[<span class="number">0</span>]].id;<span class="comment">//å¯¹åº”çš„ä¼ å€¼ID</span></span><br><span class="line">                    list[index].city = cityData[val[<span class="number">0</span>]].child[<span class="number">0</span>].id;<span class="comment">//å¯¹åº”çš„ä¼ å€¼ID</span></span><br><span class="line">                    list[index].district = cityData[val[<span class="number">0</span>]].child[<span class="number">0</span>].child[<span class="number">0</span>].id;<span class="comment">//å¯¹åº”çš„ä¼ å€¼ID</span></span><br><span class="line">                <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">                    citys: citys,</span><br><span class="line">                    countys: countys,</span><br><span class="line">                    values: val,</span><br><span class="line">                    value: [val[<span class="number">0</span>], <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                    addrList: list</span><br><span class="line">                &#125;)</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (val[<span class="number">1</span>] != t[<span class="number">1</span>]) &#123;<span class="comment">//å½“valæ˜¯é€‰æ‹©åŸå¸‚çš„æ—¶å€™</span></span><br><span class="line">                    <span class="keyword">const</span> countys = [];</span><br><span class="line">                    cityData[val[<span class="number">0</span>]].child[val[<span class="number">1</span>]].child.map(<span class="function"><span class="params">item</span> =&gt;</span> countys.push(&#123;<span class="attr">name</span>:item.name,<span class="attr">id</span>:item.id&#125;));</span><br><span class="line">                    list[index].cityName = <span class="keyword">this</span>.data.citys[val[<span class="number">1</span>]].name;<span class="comment">// é€‰æ‹©åŸå¸‚</span></span><br><span class="line">                    list[index].city = <span class="keyword">this</span>.data.citys[val[<span class="number">1</span>]].id;<span class="comment">//å¯¹åº”çš„ä¼ å€¼ID</span></span><br><span class="line">                    list[index].districtName = cityData[val[<span class="number">0</span>]].child[val[<span class="number">1</span>]].child[<span class="number">0</span>].name;<span class="comment">//é€‰æ‹©åŸå¸‚å¯¹åº”çš„åœ°åŒº</span></span><br><span class="line">                    list[index].district = cityData[val[<span class="number">0</span>]].child[val[<span class="number">1</span>]].child[<span class="number">0</span>].id;<span class="comment">//å¯¹åº”çš„ä¼ å€¼ID</span></span><br><span class="line">                    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">                        countys: countys,</span><br><span class="line">                        values: val,</span><br><span class="line">                        value: [val[<span class="number">0</span>], val[<span class="number">1</span>], <span class="number">0</span>],</span><br><span class="line">                        addrList: list</span><br><span class="line">                    &#125;)</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (val[<span class="number">2</span>] != t[<span class="number">2</span>]) &#123;<span class="comment">//å½“valæ˜¯é€‰æ‹©åœ°åŒºçš„æ—¶å€™</span></span><br><span class="line">                    list[index].districtName = <span class="keyword">this</span>.data.countys[val[<span class="number">2</span>]].name;<span class="comment">//é€‰æ‹©åœ°åŒº</span></span><br><span class="line">                    list[index].district = <span class="keyword">this</span>.data.countys[val[<span class="number">2</span>]].id;<span class="comment">//å¯¹åº”çš„ä¼ å€¼ID</span></span><br><span class="line">                    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">                        county: <span class="keyword">this</span>.data.countys[val[<span class="number">2</span>]].name,</span><br><span class="line">                        values: val,</span><br><span class="line">                        addrList: list</span><br><span class="line">                    &#125;)</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">                <span class="comment">// statements</span></span><br><span class="line">                <span class="built_in">console</span>.log(e);</span><br><span class="line">            &#125;</span><br><span class="line">listé‡Œé¢æ˜¯æœ‰ æ”¶è´§äººï¼Œç”µè¯ï¼Œç­‰ç­‰ä¿¡æ¯  ä½†æ˜¯æˆ‘åªæ“ä½œæ”¹å˜æ•°ç»„é‡Œé¢åœ°å€æ”¹å˜çš„ä¿¡æ¯ï¼Œ</span><br></pre></td></tr></table></figure><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a1a8db5ac?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>å¸ƒå±€æ–¹é¢éœ€è¦åšä¸€äº›ä¿®æ”¹çš„åœ°æ–¹å°±æ˜¯<br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a1d718773?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a1de1d81b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>æˆ‘è´´äº†è¿™ä¹ˆå¤šå›¾ï¼Œæ˜¯å› ä¸ºæˆ‘çœŸä¸ä¼šè¯´äº†ï¼Œè°ƒè¿™ä¸ªé¡µé¢è°ƒäº†ä¸¤å¤©ã€‚åªèƒ½æä¾›ä¸ªå¤§æ¦‚æ–¹å‘ï¼Œè¿˜æ˜¯å¾—ä¸€æ­¥æ­¥å¤„ç†æ•°æ®ï¼Œgoodluck~</p><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹-Android-ç¯å¢ƒä¸‹çš„æ¨ªå‘æ»šåŠ¨"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹-Android-ç¯å¢ƒä¸‹çš„æ¨ªå‘æ»šåŠ¨" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹ Android ç¯å¢ƒä¸‹çš„æ¨ªå‘æ»šåŠ¨"></a>å¾®ä¿¡å°ç¨‹åºä¹‹ Android ç¯å¢ƒä¸‹çš„æ¨ªå‘æ»šåŠ¨</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">"tab bg"</span>&gt;</span><br><span class="line">          &lt;scroll-view <span class="class"><span class="keyword">class</span></span>=<span class="string">""</span> scroll-x=<span class="string">"true"</span> style=<span class="string">"width: 100%;white-space: nowrap; display: flex;overflow-x: auto;"</span>&gt;</span><br><span class="line">              &lt;view style=<span class="string">"display: inline-block"</span> bindtap=<span class="string">"switchIndex"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"tab-list &#123;&#123;index === 1 ?'on':''&#125;&#125;"</span>&gt;é¦–é¡µ&lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp">              &lt;view wx:for="&#123;&#123;tab&#125;&#125;" wx:key="index" data-id="&#123;&#123;item.id&#125;&#125;" data-index="&#123;&#123;index&#125;&#125;"</span></span><br><span class="line"><span class="regexp">                 style="display: inline-block" bindtap="switchTab" class="tab-list &#123;&#123;tabIndex === index?'on':''&#125;&#125;"&gt;</span></span><br><span class="line"><span class="regexp">                  &#123;&#123;item.nav_name&#125;&#125;</span></span><br><span class="line"><span class="regexp">              &lt;/</span>view&gt;</span><br><span class="line">          &lt;<span class="regexp">/scroll-view&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>view&gt;</span><br><span class="line">ä»£ç ä¸€è´´å…¶å®å½“æµ‹è¯•å°å“¥å‘Šè¯‰ä½ å®‰å“tabä¸èƒ½æ»‘çš„æ—¶å€™ï¼Œä½ åªéœ€è¦åŠ ä¸€ä¸ªoverflow-x: auto;å“ˆå“ˆå“ˆ</span><br></pre></td></tr></table></figure><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹-Ios-ç¯å¢ƒä¸‹-mp4-æ’­æ”¾é—®é¢˜"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹-Ios-ç¯å¢ƒä¸‹-mp4-æ’­æ”¾é—®é¢˜" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹ Ios ç¯å¢ƒä¸‹ mp4 æ’­æ”¾é—®é¢˜"></a>å¾®ä¿¡å°ç¨‹åºä¹‹ Ios ç¯å¢ƒä¸‹ mp4 æ’­æ”¾é—®é¢˜</h2><p>å½“ä½ é‡åˆ°ä½ çš„ mp4 æ ¼å¼æœ‰çš„èƒ½æ’­æ”¾ï¼Œæœ‰çš„ä¸èƒ½æ’­æ”¾çš„è¯ï¼Œä½ åªéœ€è¦çœ‹ä¸€ä¸‹ä½ çš„ mp4 ç¼–ç æ ¼å¼ï¼Œå¿…é¡»æ˜¯ h264 æ ¼å¼æ‰è¡Œã€‚</p><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹å¾®ä¿¡æ”¯ä»˜çš„å‘"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹å¾®ä¿¡æ”¯ä»˜çš„å‘" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹å¾®ä¿¡æ”¯ä»˜çš„å‘"></a>å¾®ä¿¡å°ç¨‹åºä¹‹å¾®ä¿¡æ”¯ä»˜çš„å‘</h2><p>è¿™ä¸ªå› ä¸ºæˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡å†™å°ç¨‹åºå˜›ï¼Œåç«¯çš„å¤§å“¥ï¼Œåœ¨ H5 çš„å•†åŸé‡Œä»€ä¹ˆéƒ½å®ç°äº†ä¸€æ¬¡äº†ï¼Œéè¯´å„ç§æ²¡é—®é¢˜ï¼Œåªè´´ä¸¤ä¸ªå›¾å°±æ˜ç™½äº†ç¬¬ä¸€ä¸ª<br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a213acdf2?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>è¿™ä¸ª api é‡Œé¢çš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯åç«¯è¿”ç»™ä½ çš„ï¼Œä¸è¦æ¥å—ä»–çš„ç”©é”…å“ˆå“ˆã€‚<br>è¿˜æœ‰å°±æ˜¯ä¸€å®šè¦è®©åç«¯å¥½å¥½çœ‹å¾®ä¿¡æ”¯ä»˜çš„æ–‡æ¡£ï¼Œä¸€èˆ¬å…¬å¸å¼€å‘å•†åŸéƒ½æ˜¯æœåŠ¡å•†ç‰ˆçš„æ”¯ä»˜æœåŠ¡ï¼Œè¿™é‡Œå°±æ˜¯æˆ‘å’Œåç«¯å¤§å“¥çš„ç”©é”…ä¹‹è·¯ï¼Œä»–æ²¡æœ‰ç»‘å®šæˆ‘å¾—å°ç¨‹åº appidï¼Œç„¶åå„ç§è¯´è°ƒä¸é€šã€‚ã€‚ã€‚<br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a345baf55?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>å»è¿™é‡Œé…ç½®å¥½ï¼Œå‰ç«¯åªéœ€è¦è°ƒ API ä¼ å€¼å°±å¥½</p><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹å›¾ç‰‡ä¸Šä¼ "><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹å›¾ç‰‡ä¸Šä¼ " class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹å›¾ç‰‡ä¸Šä¼ "></a>å¾®ä¿¡å°ç¨‹åºä¹‹å›¾ç‰‡ä¸Šä¼ </h2><p>è€è§„çŸ©ï¼Œç›´æ¥ä¸Šä»£ç äº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">handleCancelPic() &#123;</span><br><span class="line">        <span class="keyword">let</span> id = <span class="keyword">this</span>.data.dbId;</span><br><span class="line">        wx.chooseImage(&#123;</span><br><span class="line">          count: <span class="number">3</span>, <span class="comment">// é»˜è®¤9</span></span><br><span class="line">          sizeType: [<span class="string">'compressed'</span>], <span class="comment">// å¯ä»¥æŒ‡å®šæ˜¯åŸå›¾è¿˜æ˜¯å‹ç¼©å›¾ï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰</span></span><br><span class="line">          sourceType: [<span class="string">'album'</span>, <span class="string">'camera'</span>], <span class="comment">// å¯ä»¥æŒ‡å®šæ¥æºæ˜¯ç›¸å†Œè¿˜æ˜¯ç›¸æœºï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰</span></span><br><span class="line">          success: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// è¿”å›é€‰å®šç…§ç‰‡çš„æœ¬åœ°æ–‡ä»¶è·¯å¾„åˆ—è¡¨ï¼ŒtempFilePathå¯ä»¥ä½œä¸ºimgæ ‡ç­¾çš„srcå±æ€§æ˜¾ç¤ºå›¾ç‰‡</span></span><br><span class="line">            <span class="keyword">var</span> tempFilePaths = res.tempFilePaths;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">                src: tempFilePaths</span><br><span class="line">            &#125;)</span><br><span class="line">            upload(<span class="keyword">this</span>,tempFilePaths,<span class="string">''</span>,<span class="string">''</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">ç„¶åä¸€ä¸ªå°è£…å¥½çš„æ–¹æ³•</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">upload</span>(<span class="params">page, path,way,id</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(path)</span><br><span class="line">  wx.showToast(&#123;</span><br><span class="line">    icon: <span class="string">"loading"</span>,</span><br><span class="line">    title: <span class="string">"æ­£åœ¨ä¸Šä¼ "</span></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">var</span> test = [],</span><br><span class="line">    that = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i&lt;path.length; i++) &#123;</span><br><span class="line">        wx.uploadFile(&#123;</span><br><span class="line">          url: api.CancelImg,</span><br><span class="line">          filePath: path[i],</span><br><span class="line">          name: <span class="string">'file'</span>,</span><br><span class="line">          header: &#123; <span class="string">"Content-Type"</span>: <span class="string">"multipart/form-data"</span> &#125;,</span><br><span class="line">          success: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            test.push(res);</span><br><span class="line">            wx.setStorageSync(<span class="string">'cancelImg'</span>,test)</span><br><span class="line">            <span class="built_in">console</span>.log(test)</span><br><span class="line">            <span class="keyword">if</span> (res.statusCode != <span class="number">200</span>) &#123;</span><br><span class="line">              wx.showModal(&#123;</span><br><span class="line">                title: <span class="string">'æç¤º'</span>,</span><br><span class="line">                content: <span class="string">'ä¸Šä¼ å¤±è´¥'</span>,</span><br><span class="line">                showCancel: <span class="literal">false</span></span><br><span class="line">              &#125;)</span><br><span class="line">              <span class="keyword">return</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                wx.showModal(&#123;</span><br><span class="line">                    title: <span class="string">'æç¤º'</span>,</span><br><span class="line">                    content: <span class="string">'ä¸Šä¼ æˆåŠŸ'</span>,</span><br><span class="line">                    showCancel: <span class="literal">false</span></span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          fail: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(e);</span><br><span class="line">            wx.showModal(&#123;</span><br><span class="line">              title: <span class="string">'æç¤º'</span>,</span><br><span class="line">              content: <span class="string">'ä¸Šä¼ å¤±è´¥'</span>,</span><br><span class="line">              showCancel: <span class="literal">false</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;,</span><br><span class="line">          complete: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            wx.hideToast();  <span class="comment">//éšè—Toast</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">è¿™ä¸ªæ˜¯å¤šä¸ªå›¾ç‰‡ä¸Šä¼ çš„æ–¹æ³•ï¼Œå•ä¸ªå›¾ç‰‡ä¸Šä¼ çš„è¯ï¼ŒæŠŠå¾ªç¯å»æ‰å°±å¥½ã€‚ä¸»è¦æ˜¯å› ä¸ºå¾®ä¿¡å®˜æ–¹é»˜è®¤çš„å°±æ˜¯ä¸€æ¬¡ä¸Šä¼ ä¸€å¼ å›¾ç‰‡è¿™ä¸ªå¾ˆè›‹ç–¼ã€‚åªèƒ½è¿™ä¹ˆæäº†ã€‚ã€‚ã€‚</span><br></pre></td></tr></table></figure><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹ç”µå•†è´­ç‰©è½¦é€»è¾‘"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹ç”µå•†è´­ç‰©è½¦é€»è¾‘" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹ç”µå•†è´­ç‰©è½¦é€»è¾‘"></a>å¾®ä¿¡å°ç¨‹åºä¹‹ç”µå•†è´­ç‰©è½¦é€»è¾‘</h2><p>æ¥ç€å†ç»™å¤§å®¶åˆ†äº«ä¸€ä¸ªå…³äºå°ç¨‹åºè´­ç‰©è½¦å…¨é€‰çš„é€»è¾‘å¤„ç†ï¼Œè¿™ä¸ªè¿˜æ˜¯è¦æ„Ÿè°¢æˆ‘çš„è€å¦¹æ•™å¯¼æˆ‘ï¼Œä¸€ä¸ªå¼€å‘äººå‘˜åšä¸œè¥¿ä¸€å®šè¦ä¸¥è°¨ï¼Œä¸ç®¡ UI è®¾è®¡çš„æœ‰å¤šä¸‘ï¼Œè¯¥æœ‰çš„é€»è¾‘ä½ ä¸€å®šè¦åšåˆ°ã€‚<br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a3b1fbc66?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>é¦–å…ˆæˆ‘ä»¬è¦åšåˆ°çš„å°±æ˜¯ï¼Œå½“ç”¨æˆ·ç‚¹å‡»ç¬¬ä¸‰ä¸ªå•†å“æ—¶ å…¨é€‰æŒ‰é’®è‡ªåŠ¨é€‰ä¸­ï¼Œæˆ–è€…å…¨é€‰ä¹‹åï¼Œåªè¦æœ‰ä¸€ä¸ªå•†å“ä¸é€‰ä¸­ï¼Œå…¨é€‰æŒ‰é’®ä¹Ÿå¾—å˜åŠ¨ã€‚å…ˆç»™å¤§å®¶çœ‹ä¸€ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">ä½ è¦åœ¨é¡µé¢onloadæ—¶å€™å®šä¹‰ä¸€äº›ä½ éœ€è¦æ¯æ¬¡æ¸²æŸ“çš„æ•°æ®</span><br><span class="line">data: &#123;</span><br><span class="line">likeList: [],</span><br><span class="line">carts:[], <span class="comment">// è´­ç‰©è½¦åˆ—è¡¨</span></span><br><span class="line">hasList:<span class="literal">false</span>, <span class="comment">// åˆ—è¡¨æ˜¯å¦æœ‰æ•°æ®</span></span><br><span class="line"><span class="comment">//totalPrice:0, // æ€»ä»·ï¼Œåˆå§‹ä¸º0</span></span><br><span class="line">selectAllStatus:<span class="literal">false</span>, <span class="comment">// å…¨é€‰çŠ¶æ€ï¼Œé»˜è®¤å…¨é€‰,</span></span><br><span class="line">goodsNums:<span class="number">0</span>,</span><br><span class="line">allclick:[]</span><br><span class="line">&#125;</span><br><span class="line">æ¯ä»¶å•†å“å•ä¸ªé€‰ä¸­çš„çš„é€»è¾‘å¤„ç†</span><br><span class="line">selectList(e) &#123;</span><br><span class="line">  <span class="keyword">const</span> index = e.currentTarget.dataset.index;<span class="comment">// è·å–æ¯ä¸€ä¸ªç‚¹å‡»çš„è´­ç‰©è½¦ID</span></span><br><span class="line">  <span class="keyword">let</span> carts = <span class="keyword">this</span>.data.carts,</span><br><span class="line">  selected = carts[index].select,</span><br><span class="line">  all = <span class="keyword">this</span>.data.allclick;</span><br><span class="line">  carts[index].select = !selected;</span><br><span class="line">carts[index].select == <span class="literal">true</span> ? all.push(index):all.splice(index,<span class="number">1</span>);</span><br><span class="line">all.length == carts.length ?</span><br><span class="line"><span class="keyword">this</span>.setData(&#123;</span><br><span class="line">  selectAllStatus: <span class="literal">true</span></span><br><span class="line">&#125;):<span class="keyword">this</span>.setData(&#123;</span><br><span class="line">  selectAllStatus: <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line">  <span class="keyword">this</span>.getTotalPrice();</span><br><span class="line">&#125;,</span><br><span class="line">ä¸Šé¢çš„ä»£ç ï¼Œå…ˆåšçš„å°±æ˜¯å•é€‰çš„é¡µé¢æ¸²æŸ“æ•ˆæœã€‚åˆ¤æ–­éƒ¨åˆ†çš„ä»£ç å°±æ˜¯æœ€ä¸»è¦çš„å¤„ç†å…¨é€‰é€»è¾‘çš„ä¸€æ­¥ã€‚ç›¸ä¿¡ä½ çœ‹åˆ°è¿™é‡Œä¹Ÿæ³¨æ„åˆ°æˆ‘åœ¨dataé‡Œå®šä¹‰äº†ä¸€ä¸ªallclickçš„ç©ºæ•°ç»„ï¼Œç„¶åå°±æ˜¯æ¥ä¸‹æ¥çš„é€»è¾‘ï¼š</span><br></pre></td></tr></table></figure><p>æŒ‰é’®é€‰ä¸­æ—¶å–å‡ºå¯¹åº” item çš„è§’æ ‡æ”¾åˆ°æ–°çš„ arr é‡Œï¼Œè¿™é‡Œå› ä¸ºæˆ‘ä¹‹å‰ç»“ç®—çš„é€»è¾‘å·²ç»æå¥½äº†ï¼Œæˆ‘å°±éšä¾¿å¾€æ•°ç»„é‡Œ push æ•°æ®ï¼Œä½†å…¶å®å¯ä»¥ä½œä¸ºå¯¹åº”å•†å“çš„æ›´é‡è¦çš„ä¸€äº›æ•°æ®å¤„ç†ã€‚æŒ‰é’®ä¸é€‰ä¸­æ˜¯ä»æ–°çš„ arr é‡Œæ‰¾åˆ°è¿™ä¸ª item å¯¹åº”ä¸‹æ ‡çš„æ•°æ®ç§»é™¤å®Œæˆä¸Šé¢ä¸¤æ­¥å¤„ç†ä¹‹åï¼Œæ¯æ¬¡æŒ‰é’®çŠ¶æ€å‘ç”Ÿå˜åŒ–çš„æ—¶å€™åˆ¤æ–­ arr çš„é•¿åº¦å’Œ cart çš„é•¿åº¦ã€‚<br>è¿™å°±æ˜¯æˆ‘çš„å¤„ç†ï¼Œä¹Ÿå¯å¾ªç¯ï¼Œå®ç°çš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œåªæ˜¯æ‹¿å‡ºæ¥è®©æ²¡æœ‰æ¥è§¦è¿‡çš„å°ä¼™ä¼´åšä¸ªå‚è€ƒï½</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">likeList: [],</span><br><span class="line">carts:[], <span class="comment">// è´­ç‰©è½¦åˆ—è¡¨</span></span><br><span class="line">hasList:<span class="literal">false</span>, <span class="comment">// åˆ—è¡¨æ˜¯å¦æœ‰æ•°æ®</span></span><br><span class="line"><span class="comment">//totalPrice:0, // æ€»ä»·ï¼Œåˆå§‹ä¸º0</span></span><br><span class="line">selectAllStatus:<span class="literal">false</span>, <span class="comment">// å…¨é€‰çŠ¶æ€ï¼Œé»˜è®¤å…¨é€‰,</span></span><br><span class="line">goodsNums:<span class="number">0</span>,</span><br><span class="line">allclick:[]</span><br><span class="line">&#125;</span><br><span class="line">æ¯ä»¶å•†å“å•ä¸ªé€‰ä¸­çš„çš„é€»è¾‘å¤„ç†</span><br><span class="line">selectList(e) &#123;</span><br><span class="line">  <span class="keyword">const</span> index = e.currentTarget.dataset.index;<span class="comment">// è·å–æ¯ä¸€ä¸ªç‚¹å‡»çš„è´­ç‰©è½¦ID</span></span><br><span class="line">  <span class="keyword">let</span> carts = <span class="keyword">this</span>.data.carts,</span><br><span class="line">  selected = carts[index].select,</span><br><span class="line">  all = <span class="keyword">this</span>.data.allclick;</span><br><span class="line">  carts[index].select = !selected;</span><br><span class="line">carts[index].select == <span class="literal">true</span> ? all.push(index):all.splice(index,<span class="number">1</span>);</span><br><span class="line">all.length == carts.length ?</span><br><span class="line"><span class="keyword">this</span>.setData(&#123;</span><br><span class="line">  selectAllStatus: <span class="literal">true</span></span><br><span class="line">&#125;):<span class="keyword">this</span>.setData(&#123;</span><br><span class="line">  selectAllStatus: <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line">  <span class="keyword">this</span>.getTotalPrice();</span><br><span class="line">&#125;,</span><br><span class="line">è¿™æ®µä»£ç ä¹Ÿè¿˜æ˜¯å…ˆå¤„ç†å…¨é€‰çš„çŠ¶æ€ï¼Œç„¶åå°±æ˜¯å…³è”çŠ¶æ€çš„å¤„ç†ï¼Œ</span><br></pre></td></tr></table></figure><p>å½“å…¨é€‰æ²¡æœ‰å‹¾é€‰çš„æ—¶å€™å…¨éƒ¨æ”¹å˜å•†å“ä¿¡æ¯é‡Œçš„æŒ‰é’®ä¸º falseï¼Œç›´æ¥æ¸…ç©º allclick æ•°ç»„ã€‚<br>å½“å…¨é€‰å‹¾é€‰çš„æ—¶å€™å…¨éƒ¨æ”¹å˜å•†å“ä¿¡æ¯é‡Œçš„æŒ‰é’®ä¸º trueï¼Œå…ˆæ¸…ç©ºï¼Œæ¥ç€é‡æ–° pushï¼Œå†èµ‹å€¼ã€‚<br>ç»è¿‡è¿™å‡ æ­¥æ“ä½œä¹‹åå°±è§£å†³äº†å…¨é€‰è¿™æ–¹é¢çš„æ‰€æœ‰é€»è¾‘ï¼Œ</p><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹ä½¿ç”¨-Map-å¯¹è±¡"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹ä½¿ç”¨-Map-å¯¹è±¡" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹ä½¿ç”¨ Map å¯¹è±¡"></a>å¾®ä¿¡å°ç¨‹åºä¹‹ä½¿ç”¨ Map å¯¹è±¡</h2><p>è¿™æ˜¯æˆ‘çš„æ¢ master è·Ÿæˆ‘æçš„è¿™ä»¶äº‹ï¼Œæˆ‘æ˜¯å°ç¨‹åºï¼Œå¥¹æ˜¯ Androidï¼Œé¡¹ç›®ä¸€æ ·ã€‚æˆ‘ä¿©å…³ç³»å¥½ï¼Œç„¶åå¥¹æ•™æˆ‘çš„ç”¨çš„è¿™ä¸ª Map å¯¹è±¡ï¼Œå…¶å®è¿™ä¸ªæ˜¯ java çš„ map å¯¹è±¡ã€‚ç”¨èµ·æ¥çœŸçš„å¾ˆçˆ½ï¼Œä¸åºŸè¯äº†ç›´æ¥ä¸Šä»£ç ã€‚<br>è¿™ä¸ªåœ¨ es6 çš„æ ‡å‡†é‡Œé¢ä¹Ÿæ¨å‡ºäº† Map å¯¹è±¡ã€‚å€Ÿç”¨é˜®å¤§ç¥ä¹¦é‡Œé¢çš„ä¸€æ®µè¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">JavaScript çš„å¯¹è±¡ï¼ˆ<span class="built_in">Object</span>ï¼‰ï¼Œæœ¬è´¨ä¸Šæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼ˆHash ç»“æ„ï¼‰ï¼Œä½†æ˜¯ä¼ ç»Ÿä¸Šåªèƒ½ç”¨å­—ç¬¦ä¸²å½“ä½œé”®ã€‚è¿™ç»™å®ƒçš„ä½¿ç”¨å¸¦æ¥äº†å¾ˆå¤§çš„é™åˆ¶ã€‚</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> element = <span class="built_in">document</span>.getElementById(<span class="string">'myDiv'</span>);</span><br><span class="line">data[element] = <span class="string">'metadata'</span>;</span><br><span class="line">data[<span class="string">'[object HTMLDivElement]'</span>] <span class="comment">// "metadata"</span></span><br><span class="line"></span><br><span class="line">ä¸Šé¢ä»£ç åŸæ„æ˜¯å°†ä¸€ä¸ª DOM èŠ‚ç‚¹ä½œä¸ºå¯¹è±¡dataçš„é”®ï¼Œä½†æ˜¯ç”±äºå¯¹è±¡åªæ¥å—å­—ç¬¦ä¸²ä½œä¸ºé”®åï¼Œæ‰€ä»¥elementè¢«è‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²[object HTMLDivElement]ã€‚</span><br><span class="line">ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES6 æä¾›äº† <span class="built_in">Map</span> æ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<span class="built_in">Object</span> ç»“æ„æä¾›äº†â€œå­—ç¬¦ä¸²â€”å€¼â€çš„å¯¹åº”ï¼Œ<span class="built_in">Map</span> ç»“æ„æä¾›äº†â€œå€¼â€”å€¼â€çš„å¯¹åº”ï¼Œæ˜¯ä¸€ç§æ›´å®Œå–„çš„ Hash ç»“æ„å®ç°ã€‚å¦‚æœä½ éœ€è¦â€œé”®å€¼å¯¹â€çš„æ•°æ®ç»“æ„ï¼Œ<span class="built_in">Map</span> æ¯” <span class="built_in">Object</span> æ›´åˆé€‚ã€‚</span><br></pre></td></tr></table></figure><p>æ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥ç§»æ­¥<a href="http://es6.ruanyifeng.com/#docs/set-map" target="_blank" rel="noopener">es6 å…¥é—¨ map set</a></p><p>æœ€ä½³å®è·µï¼Œéœ€æ±‚æ˜¯ç‚¹å‡»æ¯ä¸€ä¸ªåˆ†ç±»ï¼Œåœ¨ç‚¹å‡»è¿‡åå¦‚æœæ•°æ®è¿”å›æ²¡æœ‰å˜åŒ–ï¼Œå°±ä¸è¯·æ±‚æ¥å£ã€‚ æ¥å®ç°ä¸€äº›ä¼˜åŒ–ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> localMap = <span class="keyword">new</span> <span class="built_in">Map</span>(),<span class="comment">// å®šä¹‰ä¸€ä¸ªå…¨å±€çš„MAPå¯¹è±¡</span></span><br><span class="line">typeCode = <span class="string">''</span>; <span class="comment">// ç‚¹å‡»åˆ†ç±»é‡Œé¢çš„ç»†åˆ†é€‰é¡¹å¡</span></span><br><span class="line">handleClickTabs(e) &#123;</span><br><span class="line"> <span class="keyword">let</span> id = e.target.dataset.index,</span><br><span class="line"> code = e.target.dataset.id;</span><br><span class="line">typeCode = code;<span class="comment">// è¿™é‡Œå®šä¹‰codeï¼Œåœ¨è¯·æ±‚å›è°ƒé‡Œé¢ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">this</span>.setData(&#123; <span class="attr">leftTab</span> : id &#125;);</span><br><span class="line"><span class="keyword">if</span> (localMap!=<span class="literal">null</span>) &#123;<span class="comment">// mapå¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> list = localMap.get(typeCode);<span class="comment">//è·å–å¯¹åº”åˆ†ç±»çš„typeçš„code</span></span><br><span class="line"><span class="keyword">if</span> (list!=<span class="literal">null</span>) &#123;<span class="comment">//mapé‡Œé¢æœ‰å€¼ï¼Œæ¸²æŸ“é¡µé¢</span></span><br><span class="line"><span class="keyword">this</span>.setData(&#123; <span class="attr">tabSonList</span>:list &#125;) &#125;<span class="keyword">else</span> &#123;<span class="comment">//mapé‡Œé¢æ²¡æœ‰å€¼ï¼Œå»è¯·æ±‚æ¥å£ const data = &#123; goodsTypeCode: code &#125;;</span></span><br><span class="line">utils.sendRequest(api.ClassifySon, data, <span class="keyword">this</span>.handleGoodsSon.bind(<span class="keyword">this</span>)); &#125;</span><br><span class="line"> &#125;<span class="keyword">else</span> &#123; <span class="keyword">const</span> data = &#123; <span class="attr">goodsTypeCode</span>: code &#125;;</span><br><span class="line">utils.sendRequest(api.ClassifySon, data, <span class="keyword">this</span>.handleGoodsSon.bind(<span class="keyword">this</span>)); &#125; &#125;, <span class="comment">//åˆ†ç±»é‡Œé¢çš„å†…å®¹ handleGoodsSon(res) &#123;</span></span><br><span class="line"> <span class="keyword">let</span> list = res.data; localMap.set(typeCode,list)<span class="comment">//å­˜å¯¹åº”typeCodeçš„list</span></span><br><span class="line"><span class="keyword">this</span>.setData(&#123; <span class="attr">tabSonList</span>:list &#125;) &#125;,</span><br></pre></td></tr></table></figure><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a3f1b5a82?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"><br>è¿™æ ·å°±å®ç°äº†ï¼Œå¯¹é€‰é¡¹å¡çš„ä¼˜åŒ–ï¼Œå¦‚æœæ¥å£æ•°æ®å˜å¤šäº†çš„è¯ï¼Œä¼šé‡æ–°èµ‹å€¼ã€‚ è™½ç„¶æ˜¯è‡ªå·±ç»™è‡ªå·±åŠ æˆï¼Œä½†è¿™æ˜¯ä¹Ÿæ˜¯æˆ‘çš„ä¸€ç§å·¥ä½œæ€åº¦ï¼Œå­¦ä¹ äº†æ–°ä¸œè¥¿ï¼Œè¿˜è®©ä¼˜åŒ–äº†é¡¹ç›®ã€‚</p><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹å…¨å±€å˜é‡ç¼“å­˜çš„é—®é¢˜"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹å…¨å±€å˜é‡ç¼“å­˜çš„é—®é¢˜" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹å…¨å±€å˜é‡ç¼“å­˜çš„é—®é¢˜"></a>å¾®ä¿¡å°ç¨‹åºä¹‹å…¨å±€å˜é‡ç¼“å­˜çš„é—®é¢˜</h2><p>è¿™ä¸ªé—®é¢˜çš„å‡ºç°æ˜¯å› ä¸ºï¼Œåœ¨ input çš„äº‹ä»¶ï¼Œæˆ‘æ²¡æœ‰æ‰¾åˆ°æ›´å¥½çš„èƒ½ç›‘å¬é”®ç›˜æ”¶å›çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯ä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒå§ï¼Œæ‰€ä»¥éšä¹‹è€Œæ¥çš„é—®é¢˜å°±æ˜¯å…¨å±€å˜é‡ï¼Œåœ¨èµ‹å€¼ä¹‹åç”¨æˆ·é€€å‡ºè¿™ä¸ªé¡µé¢ï¼Œå…¨å±€å˜é‡è¢«å¾®ä¿¡ç¼“å­˜äº†ï¼Œç„¶åé€ æˆï¼Œç”¨æˆ·è¾“å…¥è¿‡ä¸€æ¬¡ä¹‹åï¼Œä¿®æ”¹æ‰‹æœºå·å¤±è´¥çš„ bugã€‚<br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a4129c561?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Btel = <span class="string">''</span>,<span class="comment">//é˜²æ­¢ç”¨æˆ·æ¶æ„ä¿®æ”¹æ‰‹æœºå·</span></span><br><span class="line">    Byzm = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">handleTel(e) &#123;<span class="comment">// è¿™é‡Œä¿®æ”¹ç”¨æˆ·è¾“å…¥çš„æ‰‹æœºå·</span></span><br><span class="line">        <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">            tel:e.detail.value</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleYzm(e) &#123;</span><br><span class="line">        <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">            Yzm:e.detail.value</span><br><span class="line">        &#125;)</span><br><span class="line">        Byzm = e.detail.value;</span><br><span class="line">        <span class="keyword">let</span> psd = <span class="keyword">this</span>.data.psd,</span><br><span class="line">            yzm = <span class="keyword">this</span>.data.Yzm;</span><br><span class="line">        yzm == psd ? <span class="keyword">this</span>.setData(&#123;<span class="attr">isYzm</span>:<span class="number">0</span>&#125;):<span class="string">''</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleGetYzm() &#123;</span><br><span class="line">        <span class="keyword">let</span> reg = common.telReg,</span><br><span class="line">            val = <span class="keyword">this</span>.data.tel;</span><br><span class="line">        <span class="keyword">if</span> (!reg.test(val)) &#123;</span><br><span class="line">               wx.showModal(&#123;</span><br><span class="line">                content:<span class="string">'è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·'</span>,</span><br><span class="line">                showCancel:<span class="literal">false</span>,</span><br><span class="line">                confirmColor:<span class="string">'#3cc51f'</span>,<span class="comment">//é»˜è®¤å€¼ä¸º#3cc51f</span></span><br><span class="line">                success:<span class="function"><span class="params">res</span> =&gt;</span>&#123;</span><br><span class="line">                    <span class="keyword">if</span>(res.confirm)&#123;</span><br><span class="line">                        <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">                            tel:<span class="string">''</span></span><br><span class="line">                        &#125;)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;<span class="comment">//å‘é€éªŒè¯ç çš„æ—¶å€™ç”¨å…¨å±€å˜é‡çš„æ‰‹æœºå·</span></span><br><span class="line">            Btel = val;<span class="comment">// è¿™é‡Œæ˜¯å…¨å±€çš„æ‰‹æœºå·</span></span><br><span class="line">            <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">                isReset : <span class="literal">true</span>,</span><br><span class="line">                isNoClick: <span class="literal">true</span></span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">const</span> data =&#123;</span><br><span class="line">                tel:val<span class="comment">//ä¼ çš„æ˜¯å…¨å±€å˜é‡</span></span><br><span class="line">            &#125;;</span><br><span class="line">            utils.sendRequest(api.YanZhengMa, data, <span class="keyword">this</span>.handleGetYzmSucc.bind(<span class="keyword">this</span>));</span><br><span class="line">            <span class="comment">//button å®šæ—¶å™¨</span></span><br><span class="line">            <span class="keyword">let</span> time = setInterval(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> phoneCode = <span class="keyword">this</span>.data.time;</span><br><span class="line">                phoneCode --</span><br><span class="line">                <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">                    time : phoneCode</span><br><span class="line">                &#125;)</span><br><span class="line">                <span class="keyword">if</span>(phoneCode == <span class="number">0</span>)&#123;</span><br><span class="line">                     clearInterval(time)</span><br><span class="line">                     <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">                        isReset : <span class="literal">false</span>,</span><br><span class="line">                        isNoClick: <span class="literal">false</span>,</span><br><span class="line">                        time:<span class="number">60</span></span><br><span class="line">                     &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,<span class="number">1000</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç„¶åè¿™ä¸€æ­¥æ˜¯æ ¡éªŒäº†ç”¨æˆ·åœ¨è¯·æ±‚å®ŒéªŒè¯ç æ¥å£å æœ‰æ²¡æœ‰ä¿®æ”¹æ‰‹æœºå¥½ ç„¶åä¿å­˜</span></span><br><span class="line">handleSave() &#123;</span><br><span class="line">        <span class="keyword">let</span> name = <span class="keyword">this</span>.data.name,</span><br><span class="line">            telNum = <span class="keyword">this</span>.data.tel,</span><br><span class="line">            yzm = Byzm,</span><br><span class="line">            status = <span class="keyword">this</span>.data.isYzm,</span><br><span class="line">            card = wx.getStorageSync(<span class="string">'UserCard'</span>);</span><br><span class="line">        <span class="keyword">let</span> timestamp= <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">        <span class="keyword">if</span> (yzm == <span class="string">''</span>) &#123;</span><br><span class="line">            wx.showModal(&#123;</span><br><span class="line">                content:<span class="string">'è¯·è¾“å…¥éªŒè¯ç .'</span>,</span><br><span class="line">                showCancel:<span class="literal">false</span>,</span><br><span class="line">                confirmColor:<span class="string">'#3cc51f'</span></span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (name!=<span class="string">''</span>&amp;&amp;telNum!=<span class="string">''</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(Btel != telNum) &#123;</span><br><span class="line">                utils.showModal(<span class="string">'æ‰‹æœºå·å‘ç”Ÿå˜åŒ–ï¼Œè¯·é‡æ–°è·å–éªŒè¯ç ã€‚'</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> data =&#123;</span><br><span class="line">                distribution_id:card.distribution_id,</span><br><span class="line">                post:&#123;</span><br><span class="line">                    user_name:name,</span><br><span class="line">                    user_tel:Btel,</span><br><span class="line">                    user_code:yzm</span><br><span class="line">                &#125;,</span><br><span class="line">                user_id:card.user_id,</span><br><span class="line">                password:yzm+timestamp</span><br><span class="line">                &#125;;</span><br><span class="line">                utils.sendRequest(api.BindTel, data, <span class="keyword">this</span>.handleSaveTel.bind(<span class="keyword">this</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            utils.showModal(<span class="string">'è¯·å¡«å†™å®Œæ•´ä¿¡æ¯å“Ÿ'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç„¶ååœ¨ ä¿å­˜æˆåŠŸä¹‹å ç”¨æˆ·ç‚¹å‡»ç¡®å®š  æ¸…ç©º å…¨å±€å˜é‡  ä¹Ÿå¯ä»¥åœ¨éšè—å’Œå¸è½½çš„ç”Ÿå‘½å‘¨æœŸé‡Œé¢æ¸…ç©ºå…¨å±€å˜é‡ã€‚</span></span><br><span class="line">handleSaveTel(res) &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.data.error == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> go = <span class="keyword">this</span>.data.go,</span><br><span class="line">                id = res.data.data.id,</span><br><span class="line">                lv = res.data.data.level;</span><br><span class="line">            wx.showModal(&#123;</span><br><span class="line">                content:<span class="string">'ç»‘å®šæˆåŠŸ~'</span>,</span><br><span class="line">                showCancel:<span class="literal">false</span>,</span><br><span class="line">                confirmColor:<span class="string">'#3cc51f'</span>,<span class="comment">//é»˜è®¤å€¼ä¸º#3cc51f</span></span><br><span class="line">                success:<span class="function"><span class="params">res</span> =&gt;</span>&#123;</span><br><span class="line">                    <span class="keyword">if</span>(res.confirm)&#123;</span><br><span class="line">                        Byzm = <span class="string">''</span>;<span class="comment">//å¯¹å°ç¨‹åºå…¨å±€å˜é‡ç¼“å­˜è¿›è¡Œæ¸…é™¤</span></span><br><span class="line">                        <span class="keyword">if</span> (go) &#123;</span><br><span class="line">                            wx.redirectTo(&#123;</span><br><span class="line">                              url: <span class="string">'/pages/user/cash/cash'</span></span><br><span class="line">                            &#125;)</span><br><span class="line">                        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="keyword">if</span> (id != <span class="number">0</span>) &#123;</span><br><span class="line">                                <span class="keyword">let</span> card = wx.getStorageSync(<span class="string">'UserCard'</span>);</span><br><span class="line">                                card.distribution_id = id;</span><br><span class="line">                                card.distribution_level = lv;</span><br><span class="line">                                wx.setStorageSync(<span class="string">'UserCard'</span>,card);</span><br><span class="line">                                wx.setStorageSync(<span class="string">'seller'</span>, <span class="literal">true</span>)</span><br><span class="line">                            &#125;</span><br><span class="line">                            wx.switchTab(&#123;</span><br><span class="line">                              url: <span class="string">'/pages/user/index'</span></span><br><span class="line">                            &#125;)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            utils.showModal(res.data.err_msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="å¾®ä¿¡å°ç¨‹åºä¹‹å…¨å±€å˜é‡ç¼“å­˜çš„é—®é¢˜-1"><a href="#å¾®ä¿¡å°ç¨‹åºä¹‹å…¨å±€å˜é‡ç¼“å­˜çš„é—®é¢˜-1" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¹‹å…¨å±€å˜é‡ç¼“å­˜çš„é—®é¢˜"></a>å¾®ä¿¡å°ç¨‹åºä¹‹å…¨å±€å˜é‡ç¼“å­˜çš„é—®é¢˜</h2><p>è¿™ä¸ªé—®é¢˜çš„å‡ºç°æ˜¯å› ä¸ºï¼Œåœ¨ input çš„äº‹ä»¶ï¼Œæˆ‘æ²¡æœ‰æ‰¾åˆ°æ›´å¥½çš„èƒ½ç›‘å¬é”®ç›˜æ”¶å›çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯ä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒå§ï¼Œæ‰€ä»¥éšä¹‹è€Œæ¥çš„é—®é¢˜å°±æ˜¯å…¨å±€å˜é‡ï¼Œåœ¨èµ‹å€¼ä¹‹åç”¨æˆ·é€€å‡ºè¿™ä¸ªé¡µé¢ï¼Œå…¨å±€å˜é‡è¢«å¾®ä¿¡ç¼“å­˜äº†ï¼Œç„¶åé€ æˆï¼Œç”¨æˆ·è¾“å…¥è¿‡ä¸€æ¬¡ä¹‹åï¼Œä¿®æ”¹æ‰‹æœºå·å¤±è´¥çš„ bugã€‚<br><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a4129c561?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Btel = <span class="string">''</span>,<span class="comment">//é˜²æ­¢ç”¨æˆ·æ¶æ„ä¿®æ”¹æ‰‹æœºå·</span></span><br><span class="line">    Byzm = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">handleTel(e) &#123;<span class="comment">// è¿™é‡Œä¿®æ”¹ç”¨æˆ·è¾“å…¥çš„æ‰‹æœºå·</span></span><br><span class="line">        <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">            tel:e.detail.value</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleYzm(e) &#123;</span><br><span class="line">        <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">            Yzm:e.detail.value</span><br><span class="line">        &#125;)</span><br><span class="line">        Byzm = e.detail.value;</span><br><span class="line">        <span class="keyword">let</span> psd = <span class="keyword">this</span>.data.psd,</span><br><span class="line">            yzm = <span class="keyword">this</span>.data.Yzm;</span><br><span class="line">        yzm == psd ? <span class="keyword">this</span>.setData(&#123;<span class="attr">isYzm</span>:<span class="number">0</span>&#125;):<span class="string">''</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleGetYzm() &#123;</span><br><span class="line">        <span class="keyword">let</span> reg = common.telReg,</span><br><span class="line">            val = <span class="keyword">this</span>.data.tel;</span><br><span class="line">        <span class="keyword">if</span> (!reg.test(val)) &#123;</span><br><span class="line">               wx.showModal(&#123;</span><br><span class="line">                content:<span class="string">'è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·'</span>,</span><br><span class="line">                showCancel:<span class="literal">false</span>,</span><br><span class="line">                confirmColor:<span class="string">'#3cc51f'</span>,<span class="comment">//é»˜è®¤å€¼ä¸º#3cc51f</span></span><br><span class="line">                success:<span class="function"><span class="params">res</span> =&gt;</span>&#123;</span><br><span class="line">                    <span class="keyword">if</span>(res.confirm)&#123;</span><br><span class="line">                        <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">                            tel:<span class="string">''</span></span><br><span class="line">                        &#125;)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;<span class="comment">//å‘é€éªŒè¯ç çš„æ—¶å€™ç”¨å…¨å±€å˜é‡çš„æ‰‹æœºå·</span></span><br><span class="line">            Btel = val;<span class="comment">// è¿™é‡Œæ˜¯å…¨å±€çš„æ‰‹æœºå·</span></span><br><span class="line">            <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">                isReset : <span class="literal">true</span>,</span><br><span class="line">                isNoClick: <span class="literal">true</span></span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">const</span> data =&#123;</span><br><span class="line">                tel:val<span class="comment">//ä¼ çš„æ˜¯å…¨å±€å˜é‡</span></span><br><span class="line">            &#125;;</span><br><span class="line">            utils.sendRequest(api.YanZhengMa, data, <span class="keyword">this</span>.handleGetYzmSucc.bind(<span class="keyword">this</span>));</span><br><span class="line">            <span class="comment">//button å®šæ—¶å™¨</span></span><br><span class="line">            <span class="keyword">let</span> time = setInterval(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> phoneCode = <span class="keyword">this</span>.data.time;</span><br><span class="line">                phoneCode --</span><br><span class="line">                <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">                    time : phoneCode</span><br><span class="line">                &#125;)</span><br><span class="line">                <span class="keyword">if</span>(phoneCode == <span class="number">0</span>)&#123;</span><br><span class="line">                     clearInterval(time)</span><br><span class="line">                     <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">                        isReset : <span class="literal">false</span>,</span><br><span class="line">                        isNoClick: <span class="literal">false</span>,</span><br><span class="line">                        time:<span class="number">60</span></span><br><span class="line">                     &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,<span class="number">1000</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç„¶åè¿™ä¸€æ­¥æ˜¯æ ¡éªŒäº†ç”¨æˆ·åœ¨è¯·æ±‚å®ŒéªŒè¯ç æ¥å£å æœ‰æ²¡æœ‰ä¿®æ”¹æ‰‹æœºå¥½ ç„¶åä¿å­˜</span></span><br><span class="line">handleSave() &#123;</span><br><span class="line">        <span class="keyword">let</span> name = <span class="keyword">this</span>.data.name,</span><br><span class="line">            telNum = <span class="keyword">this</span>.data.tel,</span><br><span class="line">            yzm = Byzm,</span><br><span class="line">            status = <span class="keyword">this</span>.data.isYzm,</span><br><span class="line">            card = wx.getStorageSync(<span class="string">'UserCard'</span>);</span><br><span class="line">        <span class="keyword">let</span> timestamp= <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">        <span class="keyword">if</span> (yzm == <span class="string">''</span>) &#123;</span><br><span class="line">            wx.showModal(&#123;</span><br><span class="line">                content:<span class="string">'è¯·è¾“å…¥éªŒè¯ç .'</span>,</span><br><span class="line">                showCancel:<span class="literal">false</span>,</span><br><span class="line">                confirmColor:<span class="string">'#3cc51f'</span></span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (name!=<span class="string">''</span>&amp;&amp;telNum!=<span class="string">''</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(Btel != telNum) &#123;</span><br><span class="line">                utils.showModal(<span class="string">'æ‰‹æœºå·å‘ç”Ÿå˜åŒ–ï¼Œè¯·é‡æ–°è·å–éªŒè¯ç ã€‚'</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> data =&#123;</span><br><span class="line">                distribution_id:card.distribution_id,</span><br><span class="line">                post:&#123;</span><br><span class="line">                    user_name:name,</span><br><span class="line">                    user_tel:Btel,</span><br><span class="line">                    user_code:yzm</span><br><span class="line">                &#125;,</span><br><span class="line">                user_id:card.user_id,</span><br><span class="line">                password:yzm+timestamp</span><br><span class="line">                &#125;;</span><br><span class="line">                utils.sendRequest(api.BindTel, data, <span class="keyword">this</span>.handleSaveTel.bind(<span class="keyword">this</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            utils.showModal(<span class="string">'è¯·å¡«å†™å®Œæ•´ä¿¡æ¯å“Ÿ'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç„¶ååœ¨ ä¿å­˜æˆåŠŸä¹‹å ç”¨æˆ·ç‚¹å‡»ç¡®å®š  æ¸…ç©º å…¨å±€å˜é‡  ä¹Ÿå¯ä»¥åœ¨éšè—å’Œå¸è½½çš„ç”Ÿå‘½å‘¨æœŸé‡Œé¢æ¸…ç©ºå…¨å±€å˜é‡ã€‚</span></span><br><span class="line">handleSaveTel(res) &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.data.error == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> go = <span class="keyword">this</span>.data.go,</span><br><span class="line">                id = res.data.data.id,</span><br><span class="line">                lv = res.data.data.level;</span><br><span class="line">            wx.showModal(&#123;</span><br><span class="line">                content:<span class="string">'ç»‘å®šæˆåŠŸ~'</span>,</span><br><span class="line">                showCancel:<span class="literal">false</span>,</span><br><span class="line">                confirmColor:<span class="string">'#3cc51f'</span>,<span class="comment">//é»˜è®¤å€¼ä¸º#3cc51f</span></span><br><span class="line">                success:<span class="function"><span class="params">res</span> =&gt;</span>&#123;</span><br><span class="line">                    <span class="keyword">if</span>(res.confirm)&#123;</span><br><span class="line">                        Byzm = <span class="string">''</span>;<span class="comment">//å¯¹å°ç¨‹åºå…¨å±€å˜é‡ç¼“å­˜è¿›è¡Œæ¸…é™¤</span></span><br><span class="line">                        <span class="keyword">if</span> (go) &#123;</span><br><span class="line">                            wx.redirectTo(&#123;</span><br><span class="line">                              url: <span class="string">'/pages/user/cash/cash'</span></span><br><span class="line">                            &#125;)</span><br><span class="line">                        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="keyword">if</span> (id != <span class="number">0</span>) &#123;</span><br><span class="line">                                <span class="keyword">let</span> card = wx.getStorageSync(<span class="string">'UserCard'</span>);</span><br><span class="line">                                card.distribution_id = id;</span><br><span class="line">                                card.distribution_level = lv;</span><br><span class="line">                                wx.setStorageSync(<span class="string">'UserCard'</span>,card);</span><br><span class="line">                                wx.setStorageSync(<span class="string">'seller'</span>, <span class="literal">true</span>)</span><br><span class="line">                            &#125;</span><br><span class="line">                            wx.switchTab(&#123;</span><br><span class="line">                              url: <span class="string">'/pages/user/index'</span></span><br><span class="line">                            &#125;)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            utils.showModal(res.data.err_msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="å°ç¨‹åºä¹‹å¾®ä¿¡æ”¯ä»˜çš„æ·±å‘"><a href="#å°ç¨‹åºä¹‹å¾®ä¿¡æ”¯ä»˜çš„æ·±å‘" class="headerlink" title="å°ç¨‹åºä¹‹å¾®ä¿¡æ”¯ä»˜çš„æ·±å‘"></a>å°ç¨‹åºä¹‹å¾®ä¿¡æ”¯ä»˜çš„æ·±å‘</h2><p>äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œå› ä¸ºå…¬å¸ä¸»ä½“å˜æ›´ï¼Œé¿ç¨ä¹‹ç±»çš„äº‹ã€‚æˆ‘ä»¬å…¬å¸çš„å°ç¨‹åºï¼Œéœ€è¦é‡æ–°æ¢ç»‘å¾®ä¿¡æ”¯ä»˜ï¼Œåœ¨è´¢åŠ¡ç»™æˆ‘ä»¬ç”³è¯·å·å•†æˆ·å·ä¹‹åï¼Œæˆ‘ä»¬æ’æœŸåŠå¤œæ¥åˆ‡ç¯å¢ƒã€‚ æˆ‘è®°å¾—æ˜¯ä¸€ä¸ªå‘¨å››çš„æ™šä¸Šï¼ŒåäºŒç‚¹å¼€å§‹åˆ‡ç¯å¢ƒï¼Œç„¶å å¤§æ¦‚åç«¯ä»£ç æ•°æ®åº“éƒ½å‡†å¤‡å¥½ä¹‹åï¼Œæˆ‘ä»¬é‡æ–°ç»‘å®šå¾®ä¿¡æ”¯ä»˜ï¼Œä»¥ä¸ºå¤§åŠŸå‘Šæˆã€‚å‘¨äº”è¿˜èƒ½å¼¹æ€§ä¸€ä¸Šåˆç¾æ»‹æ»‹ï½ æ²¡æƒ³åˆ° åˆšäº¤ä¸ªæµ‹è¯•ï¼Œè¯´å¾®ä¿¡æ”¯ä»˜ä¸èƒ½ç”¨ï¼Œæç¤ºæˆ‘ä»¬æ²¡æœ‰æˆæƒã€‚wtfï¼Œåˆšç»‘å®šå¥½çš„ä½ è¿™æ ·æç¤ºï¼Œä¸åˆé€‚å§ã€‚æŒ‰ç…§æŠ¥é”™ä¸€æŸ¥ï¼Œæˆ‘å»å°ç¨‹åº ç¤¾åŒºé‡Œä¸€çœ‹ã€‚ä½ æ•¢ä¿¡ï¼Œå¾®ä¿¡å¼€æ”¾å¹³å°çš„å•†æˆ·å·å’Œå…¬ä¼—å·å•†æˆ·å·ï¼Œæ˜¯ä¸¤å›äº‹ã€‚ å°ç¨‹åºä¹‹æ”¯æŒå…¬ä¼—å·çš„å•†æˆ·å·ï¼Œä½†æ˜¯ä½ åœ¨å¼€æ”¾å¹³å°ç»‘å®šå°ç¨‹åºå¾®ä¿¡æ”¯ä»˜çš„æ—¶å€™ï¼Œå®˜æ–¹ç»™ä½ çš„æç¤ºæ˜¯ ç»‘å®šæˆåŠŸï½ã€‚ç„¶å å°±å˜æˆäº† æ—©ä¸Šä¸ƒç‚¹ä¸‹ç­ã€‚ã€‚ã€‚ è¡€çš„æ•™è®­å‘€ï¼ï¼ï¼</p><h2 id="å°ç¨‹åºä¹‹ç™»é™†æ”¹ç‰ˆ"><a href="#å°ç¨‹åºä¹‹ç™»é™†æ”¹ç‰ˆ" class="headerlink" title="å°ç¨‹åºä¹‹ç™»é™†æ”¹ç‰ˆ"></a>å°ç¨‹åºä¹‹ç™»é™†æ”¹ç‰ˆ</h2><p>æœ€è¿‘å› ä¸ºå°ç¨‹åºå®˜æ–¹ï¼Œé€æ­¥åºŸé™¤ UserInfo æ¥å£çš„è¿™ä¸ªå†³å®šï¼Œè®©å¾ˆå¤šå¾®ä¿¡å°ç¨‹åºçš„å¼€å‘è€…ï¼Œå¾ˆçƒ¦æ¼ï¼ŒåŒæ—¶æˆ‘ä¹Ÿå› ä¸ºè¿™ä¸ªä¸Šç«ï¼Œå…¬å¸æœ‰é‡è¦ä¼šè®®è¦å±•ç¤ºï¼Œçªç„¶æ¥ç€è¿™ä¹ˆä¸€æ‹›ã€‚çœŸçš„æ˜¯å¤Ÿäº†ï¼Œä½†æ˜¯æ²¡åŠæ³•ï¼Œå¼€å§‹æ”¹å§ã€‚äºæ˜¯æˆ‘ï¼Œ<a href="https://developers.weixin.qq.com/blogdetail?action=get_post_info&amp;lang=zh_CN&amp;token=&amp;docid=000c2424654c40bd9c960e71e5b009" target="_blank" rel="noopener">æ–‡æ¡£å°ç¨‹åºâ€¢å°æ•…äº‹(4)â€“è·å–ç”¨æˆ·ä¿¡æ¯ | å¾®ä¿¡å…¬ä¼—å¹³å° </a> ä½ ä¼šå‘ç°è·ŸåŸæ¥çš„æ–¹å¼ï¼Œåªæ˜¯æ”¹å˜äº† userinfo çš„æ•°æ®è¿”å›ã€‚ login çš„æ¥å£æ‹¿ res.codeï¼Œç„¶åç‚¹å‡»ç™»é™†æŒ‰é’®çš„è¿”å›å€¼ç›¸ç»“åˆï¼Œå°±å¯ä»¥æ¢å–åˆ° unionidï¼Œæ¥å¼€å§‹ä¸šåŠ¡é€»è¾‘äº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">login</span>(<span class="params">userInfo,callback,reset</span>) </span>&#123;</span><br><span class="line">   wx.login(&#123;</span><br><span class="line">           success: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">           <span class="comment">// å‘é€ res.code åˆ°åå°æ¢å– openId, sessionKey, unionId</span></span><br><span class="line">                   <span class="keyword">if</span>(res.code)&#123;</span><br><span class="line">                       <span class="comment">//å­˜ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">                       wx.setStorageSync(<span class="string">'UserInFo'</span>, userInfo)</span><br><span class="line">                       <span class="comment">// æ‰«é¢äºŒç»´ç è¿›å…¥</span></span><br><span class="line">                       <span class="keyword">let</span> Scene = wx.getStorageSync(<span class="string">'scene'</span>)</span><br><span class="line">                       <span class="keyword">let</span> userInfoStr = <span class="built_in">JSON</span>.stringify(userInfo);</span><br><span class="line">                               wx.request(&#123;</span><br><span class="line">                                   url: api.WxUnionId,</span><br><span class="line">                                   data: &#123;</span><br><span class="line">                                       appid: <span class="string">'xxx'</span>,<span class="comment">//æµ‹è¯•</span></span><br><span class="line">                                       secret: <span class="string">'xxx'</span>,</span><br><span class="line">                                       js_code: res.code,</span><br><span class="line">                                       grant_type: <span class="string">'authorization_code'</span>,</span><br><span class="line">                                       userInfo: userInfoStr,</span><br><span class="line">                                       scene:Scene<span class="comment">//è¿™ä¸ªæ˜¯æˆ‘ä»¬çš„ä¸šåŠ¡é€»è¾‘çš„å‚æ•° å¿½ç•¥</span></span><br><span class="line">                                   &#125;,</span><br><span class="line">                                   method: <span class="string">'POST'</span>,</span><br><span class="line">                                   header: &#123;</span><br><span class="line">                                       <span class="string">'content-type'</span>: <span class="string">'application/x-www-form-urlencoded'</span></span><br><span class="line">                                   &#125;,</span><br><span class="line">                                   success: callback</span><br><span class="line">                               &#125;)</span><br><span class="line">                   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;)</span><br></pre></td></tr></table></figure><p>å°è£…å¥½è¿™ä¸ªï¼Œå°±å¯ä»¥å¼€å§‹ç”¨ button æ¥å¼€å§‹å¼¹æˆæƒçš„åå¸äº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;button <span class="class"><span class="keyword">class</span> </span>=â€œlogin-btnâ€open-type =â€œgetUserInfoâ€bindgetuserinfo =â€œhand</span><br><span class="line">leUserInfoâ€&gt;</span><br><span class="line">   ç™»å½•</span><br><span class="line">&lt;<span class="regexp">/ button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ ç„¶åæ‰“å°events ä½ å°±å¯ä»¥åŠ å¯†æ•°æ® æ•°æ® è°ƒæ¥å£  åç«¯è§£æ æ¢ unionId</span></span><br><span class="line"><span class="regexp"> handleUserInfo(e) &#123;</span></span><br><span class="line"><span class="regexp">        let msg = e.detail.errMsg;</span></span><br><span class="line"><span class="regexp">        if(msg === 'getUserInfo:ok')&#123;</span></span><br><span class="line"><span class="regexp">            let user = e.detail.userInfo;</span></span><br><span class="line"><span class="regexp">            user.encryptedData = e.detail.encryptedData;</span></span><br><span class="line"><span class="regexp">            user.iv = e.detail.iv;</span></span><br><span class="line"><span class="regexp">            utils.setDataBase('islogin',true);/</span><span class="regexp">/set æœ¬åœ°æ•°æ®</span></span><br><span class="line"><span class="regexp">            utils.login(user,this.handleLogin.bind(this))</span></span><br><span class="line"><span class="regexp">            this.setData(&#123;</span></span><br><span class="line"><span class="regexp">                islogin:false</span></span><br><span class="line"><span class="regexp">            &#125;);</span></span><br><span class="line"><span class="regexp">        &#125;else&#123;</span></span><br><span class="line"><span class="regexp">            utils.setDataBase('islogin',false);/</span><span class="regexp">/set æœ¬åœ°æ•°æ®</span></span><br><span class="line"><span class="regexp">            this.setData(&#123;</span></span><br><span class="line"><span class="regexp">                islogin:true</span></span><br><span class="line"><span class="regexp">            &#125;);</span></span><br><span class="line"><span class="regexp">            utils.showModal('xxxï¼Œç”³è¯·è·å¾—æ‚¨çš„å…¬å¼€ä¿¡æ¯ï¼ˆå¤´åƒï¼Œæ˜µç§°ç­‰ï¼‰ã€‚æˆæƒåï¼Œæ‚¨èƒ½ä½“éªŒåˆ°æˆ‘ä»¬æ›´å®Œå–„çš„åŠŸèƒ½ï¼Œè°¢è°¢æ‚¨å…³æ³¨äº”è‰²ç³–ã€‚',false,this);</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;,</span></span><br><span class="line"><span class="regexp">åœ¨handleLogin  é‡Œé¢ æ‹¿åˆ°åç«¯çš„res  å°±å¯ä»¥å¼€å§‹ä¸šåŠ¡é€»è¾‘äº†ã€‚æ¶‰åŠåˆ°ä¸šåŠ¡é€»è¾‘ å°±ä¸è´´ä»£ç äº†ã€‚</span></span><br></pre></td></tr></table></figure><p>å› ä¸ºæˆ‘å½“æ—¶ï¼Œæ˜¯ä¸€ä¸ªäººå†™ç”µå•†å•†åŸï¼Œé‚£ä¼š mpvue æ²¡æœ‰å‡º wepy å…¬å¸æ²¡æœ‰ç•™å­¦ä¹ çš„æ—¶é—´ï¼Œä»¥ä¸Šçš„ä»£ç å…¨æ˜¯åŸç”Ÿçš„å†™æ³•ï¼Œä½†æ˜¯æ”¹è¿™ä¸ªæœ€é‡è¦çš„ï¼Œå°±æ˜¯åˆ«çƒ¦ï¼Œå…¶å®ä½ æ…¢æ…¢æ‹é¡ºäº†å°±å¥½äº†ã€‚</p><h2 id="å°ç¨‹åºä¹‹-webview-åœ¨-ios-ä¸‹è®¿é—®ä¸åˆ°çš„å‘"><a href="#å°ç¨‹åºä¹‹-webview-åœ¨-ios-ä¸‹è®¿é—®ä¸åˆ°çš„å‘" class="headerlink" title="å°ç¨‹åºä¹‹ webview åœ¨ ios ä¸‹è®¿é—®ä¸åˆ°çš„å‘"></a>å°ç¨‹åºä¹‹ webview åœ¨ ios ä¸‹è®¿é—®ä¸åˆ°çš„å‘</h2><p>ios ç«¯å°ç¨‹åºæœ‰çš„é¡µé¢ç™½å±ï¼Œåæ¥æŸ¥åˆ°çš„é—®é¢˜æ˜¯ web-view çš„ src ä¸­æºå¸¦çš„å‚æ•°ä¸­å«æœ‰ä¸­æ–‡ï¼Œios ç«¯æ˜¯ä¸å…è®¸é“¾æ¥ä¸­æœ‰ä¸­æ–‡çš„ï¼Œæ‰€ä»¥åªèƒ½ç»™ä¸­æ–‡è½¬ç äº†ï¼Œh5 é¡µé¢æå–å‚æ•°çš„æ—¶å€™å†è§£ç ä¸€ä¸‹å°±å¯ä»¥äº†</p><p>1 ä¸­æ–‡è½¬ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">encodeURI</span>(url);</span><br></pre></td></tr></table></figure><p>2 è§£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">decodeURI</span>(url);</span><br></pre></td></tr></table></figure><h3 id="è¿˜æœ‰ä¸€äº›å…³äº-webview-çš„çŸ¥è¯†ç‚¹"><a href="#è¿˜æœ‰ä¸€äº›å…³äº-webview-çš„çŸ¥è¯†ç‚¹" class="headerlink" title="è¿˜æœ‰ä¸€äº›å…³äº webview çš„çŸ¥è¯†ç‚¹:"></a>è¿˜æœ‰ä¸€äº›å…³äº webview çš„çŸ¥è¯†ç‚¹:</h3><p><strong> - æ¯ä¸ªé¡µé¢åªèƒ½æœ‰ä¸€ä¸ª<web-view>ï¼Œ<web-view>ä¼šè‡ªåŠ¨é“ºæ»¡æ•´ä¸ªé¡µé¢ï¼Œå¹¶è¦†ç›–å…¶ä»–ç»„ä»¶ï¼Œå°ç¨‹åºå¯¹ webview çš„ç›‘æ§çŠ¶æ€åŸºæœ¬æ²¡æœ‰ï¼Œåªèƒ½è®¾ç½® src è®¾ç½® urlã€‚ </web-view></web-view></strong><br><strong> -  å…³äºå°ç¨‹åºå’Œ web-view çš„é€šä¿¡ï¼Œ<web-view> â†’ å°ç¨‹åºåªèƒ½é€šè¿‡ JSSDK 1.3.0 æä¾›çš„æ¥å£è¿”å›å°ç¨‹åºé¡µé¢ï¼Œè®¾ç½®å‚æ•°æ¥ä¼ å€¼ï¼Œåä¹‹ï¼Œå°ç¨‹åºåˆ° webview ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œåªèƒ½æ˜¯ src çš„è·¯å¾„å¸¦ä¸Šå‚æ•°ï¼› </web-view></strong><br><strong> - web-view ä¸æ”¯æŒæ”¯ä»˜èƒ½åŠ›,æ˜¯æŒ‡æ— æ³•å”¤èµ·å°ç¨‹åºçš„ç›´æ¥æ”¯ä»˜çª—å£ï¼Œå¯¹äº h5 çš„é‚£å¥—æ”¯ä»˜åº”è¯¥æ˜¯æ”¯æŒçš„ï¼Œä½†æ˜¯ web-view é‡Œè¾¹æ²¡æ³•ä½¿ç”¨ å¾®ä¿¡æ”¯ä»˜çš„ JSAPIï¼Œä¹Ÿå°±æ˜¯å¯èƒ½å¯ä»¥ h5 çš„ç›¸å…³çš„çš„æ”¯ä»˜ä¸­å¿ƒæ¥æ”¯ä»˜ï¼› </strong><br><strong> - å…³äºå±‚çº§ï¼Œåœ¨ webview ä¸­å¯ä»¥æ— é™è·³è½¬ï¼Œå¯¹äºå¯¼èˆªæ¡è¿”å›å’Œç‰©ç†é”®è¿”å›éƒ½ä¼šå›åˆ°ä¸Šä¸€ä¸ªé¡µé¢ç›´åˆ°é€€å‡º webviewï¼Œå°±åƒ history.backã€‚ </strong><br><strong> - webview ä¸­çš„ html çš„ title ä¼šè‡ªåŠ¨æ”¾åˆ°å°ç¨‹åºçš„å¤´éƒ¨ä½œä¸ºæ ‡é¢˜ï¼› </strong></p><p>ä¸€æ­¥æ­¥è®°å½•è‡ªå·±çš„è¸©å‘å†ç¨‹~æˆ‘è¦åšåˆ°æˆ‘æŠ€æœ¯ä¸æ˜¯æœ€å¥½çš„ï¼Œä½†æˆ‘ç»™ä½ æ€»ç»“çš„å°ç¨‹åºçš„ä¸œè¥¿æ˜¯æœ€ç®€å•ç²—æš´çš„å“ˆå“ˆå“ˆ</p><p><img src="https://user-gold-cdn.xitu.io/2018/5/29/163aa02a511249dd?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2018/7/24/164cc72d15bfcd7d?imageView2/1/w/1080/h/320/q/85/format/webp/interlace/1&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;å£°æ˜ï¼šæœ¬äººä¹Ÿæ˜¯èœé¸Ÿä¸€åªï¼Œå†™çš„ä¸å¥½çš„åœ°æ–¹ï¼Œå¤§ä½¬ä»¬æŒ‡ç‚¹æŒ‡ç‚¹ã€‚&quot;&gt;&lt;a href=&quot;#å£°æ˜ï¼šæœ¬äººä¹Ÿæ˜¯èœé¸Ÿä¸€åªï¼Œå†™çš„ä¸å¥½çš„åœ°æ–¹ï¼Œå¤§ä½¬ä»¬æŒ‡ç‚¹æŒ‡ç‚¹ã€‚&quot; class=&quot;headerlink&quot; title=&quot;å£°æ˜ï¼šæœ¬äººä¹Ÿæ˜¯èœé¸Ÿä¸€åªï¼Œå†™çš„ä¸å¥½çš„åœ°æ–¹ï¼Œå¤§ä½¬ä»¬æŒ‡ç‚¹æŒ‡ç‚¹ã€‚&quot;&gt;&lt;/a&gt;å£°æ˜ï¼šæœ¬äººä¹Ÿæ˜¯èœé¸Ÿä¸€åªï¼Œå†™çš„ä¸å¥½çš„åœ°æ–¹ï¼Œå¤§ä½¬ä»¬æŒ‡ç‚¹æŒ‡ç‚¹ã€‚&lt;/h2&gt;&lt;p&gt;å¾®ä¿¡å°ç¨‹åºå•†åŸï¼ŒæŒç»­æ›´æ–°ã€‚å…ˆè¯´è¯´å†™å°ç¨‹åºçš„æ¸Šæºå§ï¼Œæˆ‘ä¹‹å‰è®¤è¯†çš„å¤§ä½¬å†™äº†ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„å°ç¨‹åºï¼Œæˆ‘æ”¹äº†æ”¹æ ·å¼äºæ˜¯æˆåŠŸçš„æœ‰äº†æˆ‘çš„ç¬¬ä¸€ä¸ªå°ç¨‹åºã€‚&lt;br&gt;ç„¶åæˆ‘åœ¨æ‰¾å·¥ä½œçš„æ—¶å€™ï¼Œç®€å†ä¸Šå†™äº†è¿™ä¹ˆä¸€å›äº‹ï¼Œç»“æœè¿›æ¥ä¹‹åï¼Œleader è¯­é‡å¿ƒé•¿çš„å¯¹æˆ‘è¯´ï¼Œå…¬å¸çš„å°ç¨‹åºå•†åŸå°±æ•™ç»™ä½ äº†ï¼Œé‡ç‚¹æ˜¯å…¬å¸æ²¡æœ‰ä¸€ä¸ªäººä¼šå¾®ä¿¡å°ç¨‹åºã€‚WTFï¼Œä¸æ˜¯æ‹›æˆ‘è¿›æ¥å†™ VUE çš„å—? äºæ˜¯å°±å¼€å§‹äº†æˆ‘ä»é›¶å¼€å§‹å†™å¾®ä¿¡å°ç¨‹åºå•†åŸä¹‹è·¯ã€‚&lt;br&gt;å¾®ä¿¡å°ç¨‹åºçš„å®˜æ–¹æ–‡æ¡£ä»€ä¹ˆçš„æˆ‘å°±ä¸è¯´äº†ï¼Œé‚£æ˜¯è‚¯å®šè¦çœ‹çš„ã€‚è¯´è¯´æˆ‘è¿™å‡ å¤©å¼€å§‹å†™æˆ‘é‡åˆ°çš„é—®é¢˜ã€‚å¸Œæœ›å¯¹å°†è¦å†™å°ç¨‹åºçš„ä½ èƒ½æœ‰ä¸€ä¸ä¸å¸®åŠ©ï¼Œå› ä¸ºæœ¬äººä¹Ÿå¾ˆèœã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç¬”è®°" scheme="https://www.jonathon.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å¾®ä¿¡å°ç¨‹åº" scheme="https://www.jonathon.cn/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
  </entry>
  
</feed>
